<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FreeCAD: App::AutoTransaction Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FreeCAD
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dd/dc2/namespaceApp.html">App</a></li><li class="navelem"><a class="el" href="../../dd/d19/classApp_1_1AutoTransaction.html">AutoTransaction</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d4/d08/classApp_1_1AutoTransaction-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">App::AutoTransaction Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper class to manager transaction (i.e. undo/redo)  
 <a href="../../dd/d19/classApp_1_1AutoTransaction.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d8/dc8/AutoTransaction_8h_source.html">AutoTransaction.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a47ff7e1a75274521bfea5ea2b178496d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/classApp_1_1AutoTransaction.html#a47ff7e1a75274521bfea5ea2b178496d">operator new</a> (std::size_t)=delete</td></tr>
<tr class="memdesc:a47ff7e1a75274521bfea5ea2b178496d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private new operator to prevent heap allocation.  <a href="../../dd/d19/classApp_1_1AutoTransaction.html#a47ff7e1a75274521bfea5ea2b178496d">More...</a><br /></td></tr>
<tr class="separator:a47ff7e1a75274521bfea5ea2b178496d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf288a8744e6ed274d91dfdc59acbff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/classApp_1_1AutoTransaction.html#a7cf288a8744e6ed274d91dfdc59acbff">AutoTransaction</a> (const char *name=nullptr, bool tmpName=false)</td></tr>
<tr class="separator:a7cf288a8744e6ed274d91dfdc59acbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf43f5abb3673c1fb1b3d2aa610d5158"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/classApp_1_1AutoTransaction.html#aaf43f5abb3673c1fb1b3d2aa610d5158">~AutoTransaction</a> ()</td></tr>
<tr class="separator:aaf43f5abb3673c1fb1b3d2aa610d5158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f86284384fbf21e95706b6e5dd3ddb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/classApp_1_1AutoTransaction.html#a78f86284384fbf21e95706b6e5dd3ddb">close</a> (bool abort=false)</td></tr>
<tr class="separator:a78f86284384fbf21e95706b6e5dd3ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a239a24d16e7a12deecd08b102212a6d2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d19/classApp_1_1AutoTransaction.html#a239a24d16e7a12deecd08b102212a6d2">setEnable</a> (bool enable)</td></tr>
<tr class="separator:a239a24d16e7a12deecd08b102212a6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class to manager transaction (i.e. undo/redo) </p>

<p class="definition">Definition at line <a class="el" href="../../d8/dc8/AutoTransaction_8h_source.html#l00055">55</a> of file <a class="el" href="../../d8/dc8/AutoTransaction_8h_source.html">AutoTransaction.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7cf288a8744e6ed274d91dfdc59acbff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cf288a8744e6ed274d91dfdc59acbff">&#9670;&nbsp;</a></span>AutoTransaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AutoTransaction::AutoTransaction </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tmpName</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>optional new transaction name on construction </td></tr>
    <tr><td class="paramname">tmpName</td><td>if true and a new transaction is setup, the name given is considered as temporary, and subsequent construction of this class (or calling <a class="el" href="../../da/dbf/classApp_1_1Application.html#a78fddfc24e060908e047c5472857c3ff">Application::setActiveTransaction()</a>) can override the transaction name.</td></tr>
  </table>
  </dd>
</dl>
<p>The constructor increments an internal counter (Application::_activeTransactionGuard). The counter prevents any new active transaction being setup. It also prevents close (i.e. commits) the current active transaction until it reaches zero. It does not have any effect on aborting transaction, though. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html#l00040">40</a> of file <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html">AutoTransaction.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../da/d1f/test__python__deps__gui_8py_source.html#l00137">src.Mod.AddonManager.AddonManagerTest.gui.test_python_deps_gui::app</a>, <a class="el" href="../../d2/d3f/Console_8h_source.html#l00380">FC_LOG</a>, <a class="el" href="../../d2/d3f/Console_8h_source.html#l00381">FC_TRACE</a>, and <a class="el" href="../../d8/d95/App_2Application_8h_source.html#l00645">App::GetApplication()</a>.</p>

</div>
</div>
<a id="aaf43f5abb3673c1fb1b3d2aa610d5158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf43f5abb3673c1fb1b3d2aa610d5158">&#9670;&nbsp;</a></span>~AutoTransaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AutoTransaction::~AutoTransaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor</p>
<p>This destructor decrease an internal counter (Application::_activeTransactionGuard), and will commit any current active transaction when the counter reaches zero. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html#l00070">70</a> of file <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html">AutoTransaction.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../da/d1f/test__python__deps__gui_8py_source.html#l00137">src.Mod.AddonManager.AddonManagerTest.gui.test_python_deps_gui::app</a>, <a class="el" href="../../dd/df7/SimpleDataTypes_8py_source.html#l00231">SCL.SimpleDataTypes::e</a>, <a class="el" href="../../d2/d3f/Console_8h_source.html#l00379">FC_ERR</a>, <a class="el" href="../../d2/d3f/Console_8h_source.html#l00381">FC_TRACE</a>, and <a class="el" href="../../d8/d95/App_2Application_8h_source.html#l00645">App::GetApplication()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a78f86284384fbf21e95706b6e5dd3ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f86284384fbf21e95706b6e5dd3ddb">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AutoTransaction::close </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>abort</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close or abort the transaction</p>
<p>This function can be used to explicitly close (i.e. commit) the transaction, if the current transaction ID matches the one created inside the constructor. For aborting, it will abort any current transaction </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html#l00099">99</a> of file <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html">AutoTransaction.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html#l00187">App::Application::closeActiveTransaction()</a>, and <a class="el" href="../../d8/d95/App_2Application_8h_source.html#l00645">App::GetApplication()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d2f/reportdialog_8py_source.html#l00044">femsolver.reportdialog.ReportDialog::__init__()</a>, <a class="el" href="../../d1/ddb/TaskFillTemplateFields_8py_source.html#l00459">TechDrawTools.TaskFillTemplateFields.TaskFillTemplateFields::proceed()</a>, <a class="el" href="../../dc/dea/examplesgui_8py_source.html#l00217">femexamples.examplesgui.FemExamples::reject()</a>, and <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html#l00107">setEnable()</a>.</p>

</div>
</div>
<a id="a47ff7e1a75274521bfea5ea2b178496d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47ff7e1a75274521bfea5ea2b178496d">&#9670;&nbsp;</a></span>operator new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* App::AutoTransaction::operator new </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private new operator to prevent heap allocation. </p>

</div>
</div>
<a id="a239a24d16e7a12deecd08b102212a6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a239a24d16e7a12deecd08b102212a6d2">&#9670;&nbsp;</a></span>setEnable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AutoTransaction::setEnable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enable/Disable any <a class="el" href="../../dd/d19/classApp_1_1AutoTransaction.html" title="Helper class to manager transaction (i.e. undo/redo)">AutoTransaction</a> instance in the current stack</p>
<p>Once disabled, any empty temporary named transaction is closed. If there are non-empty or non-temporary named active transaction, it will not be auto closed.</p>
<p>This function may be used in, for example, <a class="el" href="../../de/d4e/classGui_1_1Document.html#a2064c6eb4172240d40a7f409febc81a9" title="set the ViewProvider in special edit mode">Gui::Document::setEdit()</a> to allow a transaction live past any command scope. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html#l00107">107</a> of file <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html">AutoTransaction.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../da/d1f/test__python__deps__gui_8py_source.html#l00137">src.Mod.AddonManager.AddonManagerTest.gui.test_python_deps_gui::app</a>, <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html#l00099">close()</a>, <a class="el" href="../../d2/d3f/Console_8h_source.html#l00381">FC_TRACE</a>, <a class="el" href="../../d8/d95/App_2Application_8h_source.html#l00645">App::GetApplication()</a>, and <a class="el" href="../../dc/d67/TestSpreadsheet_8py_source.html#l00034">TestSpreadsheet::v</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d8c/Tree_8cpp_source.html#l01760">Gui::TreeWidget::mouseDoubleClickEvent()</a>, <a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html#l00133">App::Application::setActiveTransaction()</a>, and <a class="el" href="../../da/dfd/Control_8cpp_source.html#l00152">Gui::ControlSingleton::showDialog()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d8/dc8/AutoTransaction_8h_source.html">AutoTransaction.h</a></li>
<li><a class="el" href="../../d7/dec/AutoTransaction_8cpp_source.html">AutoTransaction.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>

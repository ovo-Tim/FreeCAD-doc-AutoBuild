<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FreeCAD: Constraints.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FreeCAD
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_ec22a653db5e878dca225419c846befc.html">Mod</a></li><li class="navelem"><a class="el" href="../../dir_bd342b87fc4fe789d572b76ffa57514e.html">Sketcher</a></li><li class="navelem"><a class="el" href="../../dir_94210ec66111323d057b83ae1ff5c2f9.html">App</a></li><li class="navelem"><a class="el" href="../../dir_2da49ccfac568a68ea3d5ee65e9bbb4a.html">planegcs</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Constraints.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/d55/Constraints_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *   Copyright (c) 2011 Konstantinos Poulios &lt;logari81@gmail.com&gt;          *</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *                                                                         *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *   This file is part of the FreeCAD CAx development system.              *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                                                                         *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *   This library is free software; you can redistribute it and/or         *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *   modify it under the terms of the GNU Library General Public           *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *   License as published by the Free Software Foundation; either          *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *   version 2 of the License, or (at your option) any later version.      *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *                                                                         *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *   This library  is distributed in the hope that it will be useful,      *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *   GNU Library General Public License for more details.                  *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *                                                                         *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *   You should have received a copy of the GNU Library General Public     *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *   License along with this library; see the file COPYING.LIB. If not,    *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *   write to the Free Software Foundation, Inc., 59 Temple Place,         *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *   Suite 330, Boston, MA  02111-1307, USA                                *</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *                                                                         *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> ***************************************************************************/</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#pragma warning(disable : 4251)</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="../../db/d55/Constraints_8cpp.html#a525335710b53cb064ca56b936120431e">   27</a></span>&#160;<span class="preprocessor">#define _USE_MATH_DEFINES</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../db/d55/Constraints_8cpp.html#a34c029ba16ca8f5ab4341e049974e84f">   31</a></span>&#160;<span class="preprocessor">#define DEBUG_DERIVS 0</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#if DEBUG_DERIVS</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;boost/graph/graph_concepts.hpp&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d6e/Constraints_8h.html">Constraints.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../d6/d63/namespaceGCS.html">   41</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d6/d63/namespaceGCS.html">GCS</a></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// Constraints</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="../../d8/d3c/classGCS_1_1Constraint.html#a09296ea2147dfbd5d07396a09d662bee">   48</a></span>&#160;<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a09296ea2147dfbd5d07396a09d662bee">Constraint::Constraint</a>()</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    : origpvec(0)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    , pvec(0)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    , <a class="code" href="../../da/dc3/namespacescale.html">scale</a>(1.)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    , <a class="code" href="../../d1/d3e/namespaceDice3DS_1_1dom3ds.html#ae638295d35b7db4731e1bf3086fa1097">tag</a>(0)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    , pvecChangedFlag(true)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    , driving(true)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    , internalAlignment(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abdcbd5ac52995a327d6ccc34b5d3a886">Alignment</a>::NoInternalAlignment)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../d8/d3c/classGCS_1_1Constraint.html#a4b6c2ec922dea351c14da306c0c0d983">   58</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4b6c2ec922dea351c14da306c0c0d983">Constraint::redirectParams</a>(<span class="keyword">const</span> <a class="code" href="../../d6/d63/namespaceGCS.html#a8f3ecda7d8981a66d583c0272eb2522c">MAP_pD_pD</a>&amp; redirectionmap)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">for</span> (VEC_pD::iterator <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a>.begin(); <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> != <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a>.end(); ++<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        MAP_pD_pD::const_iterator it = redirectionmap.find(*<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">if</span> (it != redirectionmap.end()) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] = it-&gt;second;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../d8/d3c/classGCS_1_1Constraint.html#a8ced01d89406157e1ab23cee9392b94d">   70</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a8ced01d89406157e1ab23cee9392b94d">Constraint::revertParams</a>()</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../d8/d3c/classGCS_1_1Constraint.html#acd07d564b8b3097720491263591d85fa">   76</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#acd07d564b8b3097720491263591d85fa">Constraint::getTypeId</a>()</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ae33c4293e578f1e9910ce6fe44e6e6aa">None</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../d8/d3c/classGCS_1_1Constraint.html#a72feaf993bc7495a68f8633b416d5b14">   81</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a72feaf993bc7495a68f8633b416d5b14">Constraint::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.0;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../d8/d3c/classGCS_1_1Constraint.html#ae8c32531d510bf643a0cbf3b57e0803f">   86</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ae8c32531d510bf643a0cbf3b57e0803f">Constraint::error</a>()</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../d8/d3c/classGCS_1_1Constraint.html#ac7a8cd18cee863620a67d2ef3b6818a4">   91</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ac7a8cd18cee863620a67d2ef3b6818a4">Constraint::grad</a>(<span class="keywordtype">double</span>* <span class="comment">/*param*/</span>)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d8/d3c/classGCS_1_1Constraint.html#ab4b9e2fe31d8c0f9c1719a0731a290da">   96</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ab4b9e2fe31d8c0f9c1719a0731a290da">Constraint::maxStep</a>(<a class="code" href="../../d6/d63/namespaceGCS.html#af7f92fc184daf9388f8a48ab93afb8b7">MAP_pD_D</a>&amp; <span class="comment">/*dir*/</span>, <span class="keywordtype">double</span> lim)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span> lim;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">  101</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">Constraint::findParamInPvec</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">int</span> ret = -1;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">for</span> (std::size_t <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.size(); <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>]) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            ret = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">// Equal</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="../../de/da7/classGCS_1_1ConstraintEqual.html#ac575690f843e18fa82718a8048dbc192">  116</a></span>&#160;<a class="code" href="../../de/da7/classGCS_1_1ConstraintEqual.html#ac575690f843e18fa82718a8048dbc192">ConstraintEqual::ConstraintEqual</a>(<span class="keywordtype">double</span>* p1, <span class="keywordtype">double</span>* p2, <span class="keywordtype">double</span> p1p2ratio)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    ratio = p1p2ratio;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="../../de/da7/classGCS_1_1ConstraintEqual.html#a69695ece76594a9812d142a238b9d95e">rescale</a>();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="../../de/da7/classGCS_1_1ConstraintEqual.html#a70e0ee384e33c65f977857df01b44d8c">  125</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../de/da7/classGCS_1_1ConstraintEqual.html#a70e0ee384e33c65f977857df01b44d8c">ConstraintEqual::getTypeId</a>()</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924aa3e65031f20368ff420765d8b49b6e01">Equal</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="../../de/da7/classGCS_1_1ConstraintEqual.html#a69695ece76594a9812d142a238b9d95e">  130</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/da7/classGCS_1_1ConstraintEqual.html#a69695ece76594a9812d142a238b9d95e">ConstraintEqual::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../de/da7/classGCS_1_1ConstraintEqual.html#a10bc3b2b6bbb6ee5c9e130e500c40f12">  135</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/da7/classGCS_1_1ConstraintEqual.html#a10bc3b2b6bbb6ee5c9e130e500c40f12">ConstraintEqual::error</a>()</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * (*param1() - ratio * (*param2()));</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../de/da7/classGCS_1_1ConstraintEqual.html#abdd391a387e6f5ee8a5271d27b5c330c">  140</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/da7/classGCS_1_1ConstraintEqual.html#abdd391a387e6f5ee8a5271d27b5c330c">ConstraintEqual::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == param1()) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        deriv += 1;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == param2()) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        deriv += -1;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">// Weighted Linear Combination</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ac5b3cdea87900c65ede85c936219ee25">  155</a></span>&#160;<a class="code" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ac5b3cdea87900c65ede85c936219ee25">ConstraintWeightedLinearCombination::ConstraintWeightedLinearCombination</a>(</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">size_t</span> givennumpoles,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keyword">const</span> std::vector&lt;double*&gt;&amp; givenpvec,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">const</span> std::vector&lt;double&gt;&amp; givenfactors)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    : factors(givenfactors)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    , numpoles(givennumpoles)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a> = givenpvec;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    assert(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.size() == 2 * numpoles + 1);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    assert(factors.size() == numpoles);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#adfb84226f29ab77c26cdaaab2e513076">rescale</a>();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ade7ebcc2009fcc748d77789586445ba1">  169</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ade7ebcc2009fcc748d77789586445ba1">ConstraintWeightedLinearCombination::getTypeId</a>()</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a5801c62bcc28caab04f05c541826d1f0">WeightedLinearCombination</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#adfb84226f29ab77c26cdaaab2e513076">  174</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#adfb84226f29ab77c26cdaaab2e513076">ConstraintWeightedLinearCombination::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ac780726ad83b05901c7810585dc095ae">  179</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ac780726ad83b05901c7810585dc095ae">ConstraintWeightedLinearCombination::error</a>()</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// Explanation of the math here:</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// https://forum.freecad.org/viewtopic.php?f=9&amp;t=71130&amp;start=120#p635538</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">double</span> sum = 0;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">double</span> wsum = 0;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordtype">double</span> wcontrib = *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        wsum += wcontrib;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        sum += *poleat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * wcontrib;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * ((*thepoint()) * wsum - sum);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ae92507b4507afacefc1ef297f97d3f96">  196</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ae92507b4507afacefc1ef297f97d3f96">ConstraintWeightedLinearCombination::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// Equations are from here:</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// https://forum.freecad.org/viewtopic.php?f=9&amp;t=71130&amp;start=120#p635538</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == thepoint()) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">// Eq. (11)</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordtype">double</span> wsum = 0;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            wsum += *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        deriv = wsum;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == poleat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="comment">// Eq. (12)</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            deriv = -(*weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>]);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="comment">// Eq. (13)</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            deriv = (*thepoint() - *poleat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) * factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">// Center of Gravity</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#aa543814c2f76066696a4e939a7016924">  232</a></span>&#160;<a class="code" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#aa543814c2f76066696a4e939a7016924">ConstraintCenterOfGravity::ConstraintCenterOfGravity</a>(<span class="keyword">const</span> std::vector&lt;double*&gt;&amp; givenpvec,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                                     <span class="keyword">const</span> std::vector&lt;double&gt;&amp; givenweights)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    : weights(givenweights)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;{</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a> = givenpvec;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    numpoints = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.size() - 1;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    assert(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.size() &gt; 1);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    assert(weights.size() == numpoints);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a92a24cab46469cacac599d6bdcad7802">rescale</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a6ab57bd85aec60390150b18dba59ae9c">  244</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a6ab57bd85aec60390150b18dba59ae9c">ConstraintCenterOfGravity::getTypeId</a>()</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a07620aa497fb30a08c88e4c8e194e05a">CenterOfGravity</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a92a24cab46469cacac599d6bdcad7802">  249</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a92a24cab46469cacac599d6bdcad7802">ConstraintCenterOfGravity::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a18442948214500d45bc08ab08fa87f5a">  254</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a18442948214500d45bc08ab08fa87f5a">ConstraintCenterOfGravity::error</a>()</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordtype">double</span> sum = 0;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoints; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        sum += *pointat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * weights[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * (*thecenter() - sum);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a35679646978ccbd2c55a65639a1b449e">  264</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a35679646978ccbd2c55a65639a1b449e">ConstraintCenterOfGravity::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == thecenter()) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        deriv = 1;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoints; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == pointat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            deriv = -weights[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">// Slope at B-spline knot</span></div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#a504a8bfb47b6ae36cbc1bffbdcd925d5">  283</a></span>&#160;<a class="code" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#a504a8bfb47b6ae36cbc1bffbdcd925d5">ConstraintSlopeAtBSplineKnot::ConstraintSlopeAtBSplineKnot</a>(<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html">BSpline</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>, <span class="keywordtype">size_t</span> knotindex)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;{</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// set up pvec: pole x-coords, pole y-coords, pole weights,</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// line point 1 coords, line point 2 coords</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    numpoles = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.degree - <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.mult[knotindex] + 1;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// slope at knot doesn&#39;t make sense if there&#39;s only C0 continuity</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    assert(numpoles &gt;= 2);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.reserve(3 * numpoles + 4);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// `startpole` is the first pole affecting the knot with `knotindex`</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">size_t</span> startpole = 0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// See `System::addConstraintInternalAlignmentKnotPoint()` for some elaboration</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 1; j &lt;= knotindex; ++j) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        startpole += <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.mult[j];</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.periodic &amp;&amp; startpole &gt;= <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles.size()) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        startpole = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles.size() - 1;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles[(startpole + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) % <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles.size()].x);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles[(startpole + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) % <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles.size()].y);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.weights[(startpole + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) % <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.weights.size()]);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p1.x);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p1.y);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p2.x);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p2.y);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// Set up factors to get slope at knot point</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    std::vector&lt;double&gt; tempfactors((numpoles + 1), 1.0 / (numpoles + 1));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    factors.resize(numpoles);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    slopefactors.resize(numpoles);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles + 1; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        tempfactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.getLinCombFactor(*(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.knots[knotindex]),</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                            startpole + <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.degree,</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                                            startpole + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                            <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.degree - 1)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            / (<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.flattenedknots[startpole + <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.degree + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] - <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.flattenedknots[startpole + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>]);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.getLinCombFactor(*(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.knots[knotindex]), startpole + <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.degree, startpole + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.degree * (tempfactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] - tempfactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> + 1]);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#aac4663b33247f4262dfd7c4b4b6412bd">rescale</a>();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#aee40febcb30112b8a8c30289be0c3f9b">  338</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#aee40febcb30112b8a8c30289be0c3f9b">ConstraintSlopeAtBSplineKnot::getTypeId</a>()</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ab5f317596a38094694a4cc70b12b03b4">SlopeAtBSplineKnot</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#aac4663b33247f4262dfd7c4b4b6412bd">  343</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#aac4663b33247f4262dfd7c4b4b6412bd">ConstraintSlopeAtBSplineKnot::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordtype">double</span> slopex = 0., slopey = 0.;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        slopex += *polexat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        slopey += *poleyat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>((slopex * slopex + slopey * slopey));</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#abe40abd41e9fdec8720db7e6f6d02fef">  355</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#abe40abd41e9fdec8720db7e6f6d02fef">ConstraintSlopeAtBSplineKnot::error</a>()</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">double</span> xsum = 0., xslopesum = 0.;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">double</span> ysum = 0., yslopesum = 0.;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordtype">double</span> wsum = 0., wslopesum = 0.;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordtype">double</span> wcontrib = *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordtype">double</span> wslopecontrib = *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        wsum += wcontrib;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        xsum += *polexat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * wcontrib;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        ysum += *poleyat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * wcontrib;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        wslopesum += wslopecontrib;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        xslopesum += *polexat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * wslopecontrib;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        yslopesum += *poleyat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * wslopecontrib;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// This is actually wsum^2 * the respective slopes</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// See Eq (19) from:</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// https://forum.freecad.org/viewtopic.php?f=9&amp;t=71130&amp;start=120#p635538</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">double</span> slopex = wsum * xslopesum - wslopesum * xsum;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordtype">double</span> slopey = wsum * yslopesum - wslopesum * ysum;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// Normalizing it ensures that the cross product is not zero just because</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// one vector is zero.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">double</span> linex = *linep2x() - *linep1x();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordtype">double</span> liney = *linep2y() - *linep1y();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordtype">double</span> dirx = linex / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(linex * linex + liney * liney);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordtype">double</span> diry = liney / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(linex * linex + liney * liney);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// error is the cross product</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * (slopex * diry - slopey * dirx);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#ac050eaa69cbc0896c0e7fdee97ccd09b">  389</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#ac050eaa69cbc0896c0e7fdee97ccd09b">ConstraintSlopeAtBSplineKnot::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// Equations are from here:</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// https://forum.freecad.org/viewtopic.php?f=9&amp;t=71130&amp;start=120#p635538</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a> = 0.0;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">double</span> linex = *linep2x() - *linep1x();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordtype">double</span> liney = *linep2y() - *linep1y();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordtype">double</span> dirx = linex / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(linex * linex + liney * liney);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordtype">double</span> diry = liney / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(linex * linex + liney * liney);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == polexat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="comment">// Eq. (21)</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordtype">double</span> wsum = 0., wslopesum = 0.;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; numpoles; ++j) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordtype">double</span> wcontrib = *weightat(j) * factors[j];</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <span class="keywordtype">double</span> wslopecontrib = *weightat(j) * slopefactors[j];</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                wsum += wcontrib;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                wslopesum += wslopecontrib;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a> = (wsum * slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] - wslopesum * factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>]) * diry;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == poleyat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="comment">// Eq. (21)</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keywordtype">double</span> wsum = 0., wslopesum = 0.;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="keywordtype">double</span> wcontrib = *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <span class="keywordtype">double</span> wslopecontrib = *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                wsum += wcontrib;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                wslopesum += wslopecontrib;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a> = -(wsum * slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] - wslopesum * factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>]) * dirx;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="comment">// Eq. (22)</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordtype">double</span> xsum = 0., xslopesum = 0.;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordtype">double</span> ysum = 0., yslopesum = 0.;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; numpoles; ++j) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keywordtype">double</span> wcontrib = *weightat(j) * factors[j];</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <span class="keywordtype">double</span> wslopecontrib = *weightat(j) * slopefactors[j];</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                xsum += wcontrib * (*polexat(j) - *polexat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>));</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                xslopesum += wslopecontrib * (*polexat(j) - *polexat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>));</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                ysum += wcontrib * (*poleyat(j) - *poleyat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>));</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                yslopesum += wslopecontrib * (*poleyat(j) - *poleyat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a> = (factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] * xslopesum - slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] * xsum) * diry</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                - (factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] * yslopesum - slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] * ysum) * dirx;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordtype">double</span> slopex = 0., slopey = 0.;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keyword">auto</span> getSlopes = [&amp;]() {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordtype">double</span> xsum = 0., xslopesum = 0.;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordtype">double</span> ysum = 0., yslopesum = 0.;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordtype">double</span> wsum = 0., wslopesum = 0.;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; numpoles; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordtype">double</span> wcontrib = *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * factors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordtype">double</span> wslopecontrib = *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * slopefactors[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            wsum += wcontrib;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            xsum += *polexat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * wcontrib;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            ysum += *poleyat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * wcontrib;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            wslopesum += wslopecontrib;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            xslopesum += *polexat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * wslopecontrib;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            yslopesum += *poleyat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * wslopecontrib;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="comment">// This is actually wsum^2 * the respective slopes</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        slopex = wsum * xslopesum - wslopesum * xsum;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        slopey = wsum * yslopesum - wslopesum * ysum;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    };</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == linep1x()) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        getSlopes();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordtype">double</span> dDirxDLinex = (liney * liney) / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(linex * linex + liney * liney, 1.5);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordtype">double</span> dDiryDLinex = -(linex * liney) / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(linex * linex + liney * liney, 1.5);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="comment">// NOTE: d(linex)/d(x1) = -1</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a> = slopex * (-dDiryDLinex) - slopey * (-dDirxDLinex);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == linep2x()) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        getSlopes();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordtype">double</span> dDirxDLinex = (liney * liney) / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(linex * linex + liney * liney, 1.5);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordtype">double</span> dDiryDLinex = -(linex * liney) / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(linex * linex + liney * liney, 1.5);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="comment">// NOTE: d(linex)/d(x2) = 1</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a> = slopex * dDiryDLinex - slopey * dDirxDLinex;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == linep1y()) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        getSlopes();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordtype">double</span> dDirxDLiney = -(linex * liney) / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(linex * linex + liney * liney, 1.5);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordtype">double</span> dDiryDLiney = (linex * linex) / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(linex * linex + liney * liney, 1.5);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="comment">// NOTE: d(liney)/d(y1) = -1</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a> = slopex * (-dDiryDLiney) - slopey * (-dDirxDLiney);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == linep2y()) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        getSlopes();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordtype">double</span> dDirxDLiney = -(linex * liney) / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(linex * linex + liney * liney, 1.5);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordtype">double</span> dDiryDLiney = (linex * linex) / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(linex * linex + liney * liney, 1.5);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="comment">// NOTE: d(liney)/d(y2) = 1</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a> = slopex * dDiryDLiney - slopey * dDirxDLiney;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">// Point On BSpline</span></div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#ae4eeedde4f517f2fe9eb487aec25186a">  504</a></span>&#160;<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#ae4eeedde4f517f2fe9eb487aec25186a">ConstraintPointOnBSpline::ConstraintPointOnBSpline</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d8/dbc/namespacepoint.html">point</a>,</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                                   <span class="keywordtype">double</span>* initparam,</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                                   <span class="keywordtype">int</span> coordidx,</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                                   <a class="code" href="../../d7/d41/classGCS_1_1BSpline.html">BSpline</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    : bsp(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;{</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// This is always going to be true</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a> = <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a> + 1;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.reserve(2 + 2 * <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles.size());</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d8/dbc/namespacepoint.html">point</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(initparam);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    setStartPole(*initparam);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles.size(); ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">if</span> (coordidx == 0) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>].x);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.poles[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>].y);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.weights.size(); ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>.weights[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>]);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>.empty()) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#aed6dae5b561f7936b5b8280bb9a0c286">setupFlattenedKnots</a>();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a09dd3ad19281a4f198d1e559993763c0">rescale</a>();</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a4801f76462abedbcfe6b3d3fcb79c859">  539</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a4801f76462abedbcfe6b3d3fcb79c859">ConstraintPointOnBSpline::getTypeId</a>()</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;{</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ab933e55921c36a71e8779bee41630b9c">PointOnBSpline</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="keywordtype">void</span> ConstraintPointOnBSpline::setStartPole(<span class="keywordtype">double</span> <a class="code" href="../../d6/dad/namespacebuildPsets.html#a5750e99d8d3598682a5f22fa6cf72bf9">u</a>)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="comment">// The startpole logic is repeated in a lot of places,</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">// for example in GCS and slope at knot</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">// find relevant poles</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> = 0;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 1; j &lt; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a459a48f14b82864d4d7db0379bce4e69">mult</a>.size() &amp;&amp; *(<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#ae671d3158b3ab3383381489936fc1324">knots</a>[j]) &lt;= <a class="code" href="../../d6/dad/namespacebuildPsets.html#a5750e99d8d3598682a5f22fa6cf72bf9">u</a>; ++j) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> += <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a459a48f14b82864d4d7db0379bce4e69">mult</a>[j];</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a79f757a96005a4f91e8e80c634756df9">periodic</a> &amp;&amp; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> &gt;= <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#ad35e2adac92591dd6074c7c12a7a1643">poles</a>.size()) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> = <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#ad35e2adac92591dd6074c7c12a7a1643">poles</a>.size() - <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a> - 1;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a09dd3ad19281a4f198d1e559993763c0">  558</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a09dd3ad19281a4f198d1e559993763c0">ConstraintPointOnBSpline::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.0;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#add460658e0df0370d9cc126765dfcf52">  563</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#add460658e0df0370d9cc126765dfcf52">ConstraintPointOnBSpline::error</a>()</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;{</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (*theparam() &lt; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>[<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>]</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        || *theparam() &gt; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>[<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a> + 1]) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        setStartPole(*theparam());</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordtype">double</span> sum = 0;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordtype">double</span> wsum = 0;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// TODO: maybe make it global so it doesn&#39;t have to be created every time</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="../../d6/d63/namespaceGCS.html#a06123ccbb1f50a5e41d11e91a5730f29">VEC_D</a> d(<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a>; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        d[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] = *poleat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    sum = <a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a0755e71f0a6e7feced586053be91f16e">BSpline::splineValue</a>(*theparam(),</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                               <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                               <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                               d,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                               <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a>; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        d[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] = *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    wsum = <a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a0755e71f0a6e7feced586053be91f16e">BSpline::splineValue</a>(*theparam(),</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>,</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                                <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>,</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                                d,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// TODO: Change the poles as the point moves between pieces</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * (*thepoint() * wsum - sum);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#ab743b58d3f26e556986a75e99d8202b7">  597</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#ab743b58d3f26e556986a75e99d8202b7">ConstraintPointOnBSpline::grad</a>(<span class="keywordtype">double</span>* gcsparam)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (gcsparam == thepoint()) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <a class="code" href="../../d6/d63/namespaceGCS.html#a06123ccbb1f50a5e41d11e91a5730f29">VEC_D</a> d(<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a>; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            d[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>] = *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordtype">double</span> wsum = <a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a0755e71f0a6e7feced586053be91f16e">BSpline::splineValue</a>(*theparam(),</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                           <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                                           <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>,</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                                           d,</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                                           <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        deriv += wsum;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (gcsparam == theparam()) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="../../d6/d63/namespaceGCS.html#a06123ccbb1f50a5e41d11e91a5730f29">VEC_D</a> d(<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a> - 1);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 1; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a>; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            d[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> - 1] = (*poleat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) - *poleat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> - 1) * *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> - 1))</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                / (<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>[<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>]</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                   - <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>[<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>]);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordtype">double</span> slopevalue = <a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a0755e71f0a6e7feced586053be91f16e">BSpline::splineValue</a>(*theparam(),</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                                                 <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>,</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                                                 <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a> - 1,</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                                                 d,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                                 <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 1; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a>; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            d[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> - 1] = (*weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) - *weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> - 1))</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                / (<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>[<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>]</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                   - <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>[<a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>]);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordtype">double</span> wslopevalue = <a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a0755e71f0a6e7feced586053be91f16e">BSpline::splineValue</a>(*theparam(),</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                                                  <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>,</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                                                  <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a> - 1,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                                  d,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                                                  <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">flattenedknots</a>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        deriv += (*thepoint() * wslopevalue - slopevalue) * <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0; <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> &lt; <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">numpoints</a>; ++<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">if</span> (gcsparam == poleat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="keyword">auto</span> factorsI =</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#aee6bcc16e14be4ed4015c056fed6e48f">getLinCombFactor</a>(*theparam(), <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>, <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            deriv += -(*weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>) * factorsI);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">if</span> (gcsparam == weightat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keyword">auto</span> factorsI =</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#aee6bcc16e14be4ed4015c056fed6e48f">getLinCombFactor</a>(*theparam(), <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">bsp</a>.<a class="code" href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">degree</a>, <a class="code" href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">startpole</a> + <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            deriv += (*thepoint() - *poleat(<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>)) * factorsI;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;}</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">// Difference</span></div>
<div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a1b512f30ab76d2dc711b416c57bb53f2">  655</a></span>&#160;<a class="code" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a1b512f30ab76d2dc711b416c57bb53f2">ConstraintDifference::ConstraintDifference</a>(<span class="keywordtype">double</span>* p1, <span class="keywordtype">double</span>* p2, <span class="keywordtype">double</span>* d)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;{</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(d);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a5ee7b3bf46a953098851ae1f2f646306">rescale</a>();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a309f97444174a81925275d703e7cfc7d">  664</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a309f97444174a81925275d703e7cfc7d">ConstraintDifference::getTypeId</a>()</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a0a1ef3f38f63abbe85dde108f0eb5a0e">Difference</a>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a5ee7b3bf46a953098851ae1f2f646306">  669</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a5ee7b3bf46a953098851ae1f2f646306">ConstraintDifference::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;{</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno"><a class="line" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a8868fbb043a6255527c17e93430fda84">  674</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a8868fbb043a6255527c17e93430fda84">ConstraintDifference::error</a>()</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * (*param2() - *param1() - *difference());</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a033e17476386b1f201799c9ff36fff7d">  679</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d45/classGCS_1_1ConstraintDifference.html#a033e17476386b1f201799c9ff36fff7d">ConstraintDifference::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;{</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == param1()) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        deriv += -1;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == param2()) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        deriv += 1;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == difference()) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        deriv += -1;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">// P2PDistance</span></div>
<div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a043b42b6b1aa90f1b29682191bf0b425">  697</a></span>&#160;<a class="code" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a043b42b6b1aa90f1b29682191bf0b425">ConstraintP2PDistance::ConstraintP2PDistance</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; p1, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; p2, <span class="keywordtype">double</span>* d)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;{</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(d);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a0d3f79f30bfe93b7b9c8d1bf2df58a2d">rescale</a>();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a524e7a3fac25c83abd289f38767e1098">  708</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a524e7a3fac25c83abd289f38767e1098">ConstraintP2PDistance::getTypeId</a>()</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;{</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a815175ecf4aa113ca0105a19d6ce5195">P2PDistance</a>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a0d3f79f30bfe93b7b9c8d1bf2df58a2d">  713</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a0d3f79f30bfe93b7b9c8d1bf2df58a2d">ConstraintP2PDistance::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;{</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno"><a class="line" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a153359d51138ee178b37d657e3ac61bc">  718</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a153359d51138ee178b37d657e3ac61bc">ConstraintP2PDistance::error</a>()</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;{</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordtype">double</span> dx = (*p1x() - *p2x());</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordtype">double</span> dy = (*p1y() - *p2y());</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordtype">double</span> d = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(dx * dx + dy * dy);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../dc/dc3/group__DRAFTVECUTILS.html#ga2af953a65bfefb422584aa67c55dbc39">dist</a> = *distance();</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * (d - <a class="code" href="../../dc/dc3/group__DRAFTVECUTILS.html#ga2af953a65bfefb422584aa67c55dbc39">dist</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;}</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno"><a class="line" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a2ba9b4905fdcded858e1dc07738f1fee">  727</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a2ba9b4905fdcded858e1dc07738f1fee">ConstraintP2PDistance::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;{</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2y()) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordtype">double</span> dx = (*p1x() - *p2x());</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordtype">double</span> dy = (*p1y() - *p2y());</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordtype">double</span> d = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(dx * dx + dy * dy);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x()) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            deriv += dx / d;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y()) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            deriv += dy / d;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2x()) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            deriv += -dx / d;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2y()) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            deriv += -dy / d;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == distance()) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        deriv += -1.;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno"><a class="line" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a658e24f9972721b6df5c31b01bb6287c">  754</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a658e24f9972721b6df5c31b01bb6287c">ConstraintP2PDistance::maxStep</a>(<a class="code" href="../../d6/d63/namespaceGCS.html#af7f92fc184daf9388f8a48ab93afb8b7">MAP_pD_D</a>&amp; dir, <span class="keywordtype">double</span> lim)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;{</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    MAP_pD_D::iterator it;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    it = dir.find(distance());</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">if</span> (it-&gt;second &lt; 0.) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            lim = <a class="code" href="../../d0/dbc/namespaceKDL.html#aa7c26c4bc57cab66adc41b08110f5948">std::min</a>(lim, -(*distance()) / it-&gt;second);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">// restrict actual distance change</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordtype">double</span> ddx = 0., ddy = 0.;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    it = dir.find(p1x());</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        ddx += it-&gt;second;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    it = dir.find(p1y());</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        ddy += it-&gt;second;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    it = dir.find(p2x());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        ddx -= it-&gt;second;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    it = dir.find(p2y());</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        ddy -= it-&gt;second;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordtype">double</span> dd = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(ddx * ddx + ddy * ddy);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../dc/dc3/group__DRAFTVECUTILS.html#ga2af953a65bfefb422584aa67c55dbc39">dist</a> = *distance();</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">if</span> (dd &gt; <a class="code" href="../../dc/dc3/group__DRAFTVECUTILS.html#ga2af953a65bfefb422584aa67c55dbc39">dist</a>) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordtype">double</span> dx = (*p1x() - *p2x());</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordtype">double</span> dy = (*p1y() - *p2y());</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <span class="keywordtype">double</span> d = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(dx * dx + dy * dy);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="keywordflow">if</span> (dd &gt; d) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            lim = <a class="code" href="../../d0/dbc/namespaceKDL.html#aa7c26c4bc57cab66adc41b08110f5948">std::min</a>(lim, <a class="code" href="../../d0/dbc/namespaceKDL.html#adb3f6f67f41bc87f6d98423ac7a5b92f">std::max</a>(d, <a class="code" href="../../dc/dc3/group__DRAFTVECUTILS.html#ga2af953a65bfefb422584aa67c55dbc39">dist</a>) / dd);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> lim;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">// P2PAngle</span></div>
<div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#aae1e2361bb09c5a07114fdda4e42666e">  797</a></span>&#160;<a class="code" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#aae1e2361bb09c5a07114fdda4e42666e">ConstraintP2PAngle::ConstraintP2PAngle</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; p1, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; p2, <span class="keywordtype">double</span>* <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, <span class="keywordtype">double</span> da_)</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    : da(da_)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae1415cee5acb0d754db44ea3b148fe00">rescale</a>();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;}</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#aff8ca38031ee3829a9ae23243c9815ad">  809</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#aff8ca38031ee3829a9ae23243c9815ad">ConstraintP2PAngle::getTypeId</a>()</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a1bf237ca7812f3fcb2e952365898f9d2">P2PAngle</a>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae1415cee5acb0d754db44ea3b148fe00">  814</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae1415cee5acb0d754db44ea3b148fe00">ConstraintP2PAngle::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;{</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae55a5d7afba4eaae0eab20eb261521bc">  819</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae55a5d7afba4eaae0eab20eb261521bc">ConstraintP2PAngle::error</a>()</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;{</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordtype">double</span> dx = (*p2x() - *p1x());</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordtype">double</span> dy = (*p2y() - *p1y());</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a> = *angle() + da;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordtype">double</span> ca = <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordtype">double</span> sa = <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../dd/d94/namespaceMovieTool.html#a64759ecfbf20a226f93995c0dbf569f4">x</a> = dx * ca + dy * sa;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../dd/d94/namespaceMovieTool.html#af6ed6588a29737b3a08fe046e735122c">y</a> = -dx * sa + dy * ca;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a18fd601f480771f35c7432404411824b">atan2</a>(<a class="code" href="../../dd/d94/namespaceMovieTool.html#af6ed6588a29737b3a08fe046e735122c">y</a>, <a class="code" href="../../dd/d94/namespaceMovieTool.html#a64759ecfbf20a226f93995c0dbf569f4">x</a>);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae50e87a9381352da0f6b8cad2332127c">  831</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae50e87a9381352da0f6b8cad2332127c">ConstraintP2PAngle::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;{</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2y()) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordtype">double</span> dx = (*p2x() - *p1x());</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordtype">double</span> dy = (*p2y() - *p1y());</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a> = *angle() + da;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordtype">double</span> ca = <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="keywordtype">double</span> sa = <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../dd/d94/namespaceMovieTool.html#a64759ecfbf20a226f93995c0dbf569f4">x</a> = dx * ca + dy * sa;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../dd/d94/namespaceMovieTool.html#af6ed6588a29737b3a08fe046e735122c">y</a> = -dx * sa + dy * ca;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordtype">double</span> r2 = dx * dx + dy * dy;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        dx = -<a class="code" href="../../dd/d94/namespaceMovieTool.html#af6ed6588a29737b3a08fe046e735122c">y</a> / r2;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        dy = <a class="code" href="../../dd/d94/namespaceMovieTool.html#a64759ecfbf20a226f93995c0dbf569f4">x</a> / r2;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x()) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            deriv += (-ca * dx + sa * dy);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y()) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            deriv += (-sa * dx - ca * dy);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2x()) {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            deriv += (ca * dx - sa * dy);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2y()) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            deriv += (sa * dx + ca * dy);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == angle()) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        deriv += -1;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#a42c0171619de6e6ca0f61b481ff1ecec">  865</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#a42c0171619de6e6ca0f61b481ff1ecec">ConstraintP2PAngle::maxStep</a>(<a class="code" href="../../d6/d63/namespaceGCS.html#af7f92fc184daf9388f8a48ab93afb8b7">MAP_pD_D</a>&amp; dir, <span class="keywordtype">double</span> lim)</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;{</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    MAP_pD_D::iterator it = dir.find(angle());</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordtype">double</span> step = <a class="code" href="../../d0/dbc/namespaceKDL.html#a02b43d75a30870d9bac78a36a10b00e7">std::abs</a>(it-&gt;second);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">if</span> (step &gt; <a class="code" href="../../d6/d63/namespaceGCS.html#a2377d05b953587230970fe5e4b9b49ef">pi_18</a>) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            lim = <a class="code" href="../../d0/dbc/namespaceKDL.html#aa7c26c4bc57cab66adc41b08110f5948">std::min</a>(lim, <a class="code" href="../../d6/d63/namespaceGCS.html#a2377d05b953587230970fe5e4b9b49ef">pi_18</a> / step);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">return</span> lim;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;}</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">// P2LDistance</span></div>
<div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a945e4d21a48ce62ee1b75d7e34e19f45">  880</a></span>&#160;<a class="code" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a945e4d21a48ce62ee1b75d7e34e19f45">ConstraintP2LDistance::ConstraintP2LDistance</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>, <span class="keywordtype">double</span>* d)</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;{</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p1.x);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p1.y);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p2.x);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p2.y);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(d);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a8399c50dba5d568a0652c4947c5598db">rescale</a>();</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a9528d88f8c5890481463e51490cd3c73">  893</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a9528d88f8c5890481463e51490cd3c73">ConstraintP2LDistance::getTypeId</a>()</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a2897cd0867db333676afe96ebfae41ee">P2LDistance</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;}</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno"><a class="line" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a8399c50dba5d568a0652c4947c5598db">  898</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a8399c50dba5d568a0652c4947c5598db">ConstraintP2LDistance::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;{</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno"><a class="line" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a7889dc88e6bf771831d8808628aebe53">  903</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a7889dc88e6bf771831d8808628aebe53">ConstraintP2LDistance::error</a>()</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;{</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordtype">double</span> x0 = *p0x(), x1 = *p1x(), x2 = *p2x();</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordtype">double</span> y0 = *p0y(), y1 = *p1y(), y2 = *p2y();</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../dc/dc3/group__DRAFTVECUTILS.html#ga2af953a65bfefb422584aa67c55dbc39">dist</a> = *distance();</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordtype">double</span> dx = x2 - x1;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordtype">double</span> dy = y2 - y1;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordtype">double</span> d = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(dx * dx + dy * dy);  <span class="comment">// line length</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordtype">double</span> area = <a class="code" href="../../d0/dbc/namespaceKDL.html#a02b43d75a30870d9bac78a36a10b00e7">std::abs</a>(-x0 * dy + y0 * dx + x1 * y2 - x2 * y1);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * (area / d - <a class="code" href="../../dc/dc3/group__DRAFTVECUTILS.html#ga2af953a65bfefb422584aa67c55dbc39">dist</a>);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno"><a class="line" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#ae327616aa4a123a214f015ce76c7a289">  915</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#ae327616aa4a123a214f015ce76c7a289">ConstraintP2LDistance::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;{</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p0x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p0y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2x()</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2y()) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordtype">double</span> x0 = *p0x(), x1 = *p1x(), x2 = *p2x();</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordtype">double</span> y0 = *p0y(), y1 = *p1y(), y2 = *p2y();</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordtype">double</span> dx = x2 - x1;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordtype">double</span> dy = y2 - y1;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="keywordtype">double</span> d2 = dx * dx + dy * dy;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordtype">double</span> d = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(d2);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="keywordtype">double</span> area = -x0 * dy + y0 * dx + x1 * y2 - x2 * y1;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p0x()) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            deriv += (y1 - y2) / d;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p0y()) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            deriv += (x2 - x1) / d;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x()) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            deriv += ((y2 - y0) * d + (dx / d) * area) / d2;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y()) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            deriv += ((x0 - x2) * d + (dy / d) * area) / d2;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2x()) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            deriv += ((y0 - y1) * d - (dx / d) * area) / d2;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2y()) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            deriv += ((x1 - x0) * d - (dy / d) * area) / d2;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="keywordflow">if</span> (area &lt; 0) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            deriv *= -1;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == distance()) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        deriv += -1;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;}</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a0fa42c749c3fde7834ba0fac051b6320">  957</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a0fa42c749c3fde7834ba0fac051b6320">ConstraintP2LDistance::maxStep</a>(<a class="code" href="../../d6/d63/namespaceGCS.html#af7f92fc184daf9388f8a48ab93afb8b7">MAP_pD_D</a>&amp; dir, <span class="keywordtype">double</span> lim)</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;{</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    MAP_pD_D::iterator it;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    it = dir.find(distance());</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">if</span> (it-&gt;second &lt; 0.) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            lim = <a class="code" href="../../d0/dbc/namespaceKDL.html#aa7c26c4bc57cab66adc41b08110f5948">std::min</a>(lim, -(*distance()) / it-&gt;second);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="comment">// restrict actual area change</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordtype">double</span> darea = 0.;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordtype">double</span> x0 = *p0x(), x1 = *p1x(), x2 = *p2x();</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordtype">double</span> y0 = *p0y(), y1 = *p1y(), y2 = *p2y();</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    it = dir.find(p0x());</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        darea += (y1 - y2) * it-&gt;second;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    it = dir.find(p0y());</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        darea += (x2 - x1) * it-&gt;second;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    it = dir.find(p1x());</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        darea += (y2 - y0) * it-&gt;second;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    it = dir.find(p1y());</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        darea += (x0 - x2) * it-&gt;second;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    it = dir.find(p2x());</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        darea += (y0 - y1) * it-&gt;second;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    it = dir.find(p2y());</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        darea += (x1 - x0) * it-&gt;second;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    darea = <a class="code" href="../../d0/dbc/namespaceKDL.html#a02b43d75a30870d9bac78a36a10b00e7">std::abs</a>(darea);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">if</span> (darea &gt; 0.) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordtype">double</span> dx = x2 - x1;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordtype">double</span> dy = y2 - y1;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordtype">double</span> area = 0.3 * (*distance()) * <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(dx * dx + dy * dy);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">if</span> (darea &gt; area) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            area = <a class="code" href="../../d0/dbc/namespaceKDL.html#adb3f6f67f41bc87f6d98423ac7a5b92f">std::max</a>(area, 0.3 * <a class="code" href="../../d0/dbc/namespaceKDL.html#a02b43d75a30870d9bac78a36a10b00e7">std::abs</a>(-x0 * dy + y0 * dx + x1 * y2 - x2 * y1));</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <span class="keywordflow">if</span> (darea &gt; area) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                lim = <a class="code" href="../../d0/dbc/namespaceKDL.html#aa7c26c4bc57cab66adc41b08110f5948">std::min</a>(lim, area / darea);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">return</span> lim;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;}</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">// PointOnLine</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"><a class="line" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a307b0811e1848bb634782aff48f9876a"> 1013</a></span>&#160;<a class="code" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a307b0811e1848bb634782aff48f9876a">ConstraintPointOnLine::ConstraintPointOnLine</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;{</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p1.x);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p1.y);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p2.x);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p2.y);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <a class="code" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#aebe1886fec11ad0b17a852f40d66cfc7">rescale</a>();</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;}</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#ad37f13c8ab6183c0c0dd832e363324db"> 1025</a></span>&#160;<a class="code" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a307b0811e1848bb634782aff48f9876a">ConstraintPointOnLine::ConstraintPointOnLine</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; lp1, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; lp2)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;{</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(lp1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(lp1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(lp2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(lp2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <a class="code" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#aebe1886fec11ad0b17a852f40d66cfc7">rescale</a>();</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a0cb94d6b14fdd560baee9840ab9bdfc7"> 1037</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a0cb94d6b14fdd560baee9840ab9bdfc7">ConstraintPointOnLine::getTypeId</a>()</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;{</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a57da578fcdba2f206748bebeb48119c4">PointOnLine</a>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;}</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"><a class="line" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#aebe1886fec11ad0b17a852f40d66cfc7"> 1042</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#aebe1886fec11ad0b17a852f40d66cfc7">ConstraintPointOnLine::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;{</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;}</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a27cc2ad32f94fc1d8b1a8e6b6ed2741e"> 1047</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a27cc2ad32f94fc1d8b1a8e6b6ed2741e">ConstraintPointOnLine::error</a>()</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;{</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordtype">double</span> x0 = *p0x(), x1 = *p1x(), x2 = *p2x();</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordtype">double</span> y0 = *p0y(), y1 = *p1y(), y2 = *p2y();</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordtype">double</span> dx = x2 - x1;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordtype">double</span> dy = y2 - y1;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordtype">double</span> d = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(dx * dx + dy * dy);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordtype">double</span> area = -x0 * dy + y0 * dx + x1 * y2 - x2 * y1;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * area / d;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;}</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#ac535694a5c19989aed50a0a86419a9c4"> 1058</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#ac535694a5c19989aed50a0a86419a9c4">ConstraintPointOnLine::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;{</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p0x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p0y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2x()</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2y()) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="keywordtype">double</span> x0 = *p0x(), x1 = *p1x(), x2 = *p2x();</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="keywordtype">double</span> y0 = *p0y(), y1 = *p1y(), y2 = *p2y();</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordtype">double</span> dx = x2 - x1;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="keywordtype">double</span> dy = y2 - y1;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="keywordtype">double</span> d2 = dx * dx + dy * dy;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <span class="keywordtype">double</span> d = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(d2);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordtype">double</span> area = -x0 * dy + y0 * dx + x1 * y2 - x2 * y1;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p0x()) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            deriv += (y1 - y2) / d;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p0y()) {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            deriv += (x2 - x1) / d;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x()) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            deriv += ((y2 - y0) * d + (dx / d) * area) / d2;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y()) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            deriv += ((x0 - x2) * d + (dy / d) * area) / d2;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        }</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2x()) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            deriv += ((y0 - y1) * d - (dx / d) * area) / d2;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p2y()) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            deriv += ((x1 - x0) * d - (dy / d) * area) / d2;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;}</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">// PointOnPerpBisector</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"><a class="line" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#adfff94c450bdad75f14816c6255432a5"> 1095</a></span>&#160;<a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#adfff94c450bdad75f14816c6255432a5">ConstraintPointOnPerpBisector::ConstraintPointOnPerpBisector</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>)</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;{</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p1.x);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p1.y);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p2.x);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>.p2.y);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#ac3590bf049e62d25c836239489e94bfd">rescale</a>();</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"><a class="line" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#ae37cd0cf0a5ef73ccd766e90efceb232"> 1107</a></span>&#160;<a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#adfff94c450bdad75f14816c6255432a5">ConstraintPointOnPerpBisector::ConstraintPointOnPerpBisector</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; lp1, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; lp2)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;{</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(lp1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(lp1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(lp2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(lp2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#ac3590bf049e62d25c836239489e94bfd">rescale</a>();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;}</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"><a class="line" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a49326ecd72188b30b10662edce47f098"> 1119</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a49326ecd72188b30b10662edce47f098">ConstraintPointOnPerpBisector::getTypeId</a>()</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;{</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924af04bb17302b3161b0de43c395fedc3f9">PointOnPerpBisector</a>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;}</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"><a class="line" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#ac3590bf049e62d25c836239489e94bfd"> 1124</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#ac3590bf049e62d25c836239489e94bfd">ConstraintPointOnPerpBisector::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;{</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;}</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="keywordtype">void</span> ConstraintPointOnPerpBisector::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;{</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> p0(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>(p0x(), p0y()), <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> p1(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>(p1x(), p1y()), <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> p2(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>(p2x(), p2y()), <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> d1 = p0.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3ef978e1eed6a37f4ccf940737dc86f9">subtr</a>(p1);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> d2 = p0.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3ef978e1eed6a37f4ccf940737dc86f9">subtr</a>(p2);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> <a class="code" href="../../d9/d86/namespacePath_1_1Dressup_1_1Gui_1_1Dragknife.html#af6e12d0e3b142aedb0436fe371d4c690">D</a> = p2.subtr(p1).getNormalized();</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordtype">double</span> projd1, dprojd1;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    projd1 = d1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a5d980143d1bb1f55e4cd457c9c1354e9">scalarProd</a>(<a class="code" href="../../d9/d86/namespacePath_1_1Dressup_1_1Gui_1_1Dragknife.html#af6e12d0e3b142aedb0436fe371d4c690">D</a>, &amp;dprojd1);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordtype">double</span> projd2, dprojd2;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    projd2 = d2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a5d980143d1bb1f55e4cd457c9c1354e9">scalarProd</a>(<a class="code" href="../../d9/d86/namespacePath_1_1Dressup_1_1Gui_1_1Dragknife.html#af6e12d0e3b142aedb0436fe371d4c690">D</a>, &amp;dprojd2);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        *err = projd1 + projd2;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a88b26687d4b6366377e5370f7141ce6e">grad</a>) {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        *<a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a88b26687d4b6366377e5370f7141ce6e">grad</a> = dprojd1 + dprojd2;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"><a class="line" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a81d6ef6df70df8972a6dfcdaee58e0e1"> 1153</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a81d6ef6df70df8972a6dfcdaee58e0e1">ConstraintPointOnPerpBisector::error</a>()</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;{</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;}</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a88b26687d4b6366377e5370f7141ce6e"> 1160</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a88b26687d4b6366377e5370f7141ce6e">ConstraintPointOnPerpBisector::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;{</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;}</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160; </div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="comment">// Parallel</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"><a class="line" href="../../df/d81/classGCS_1_1ConstraintParallel.html#a30539244f1f28861693bd88c357abbd8"> 1176</a></span>&#160;<a class="code" href="../../df/d81/classGCS_1_1ConstraintParallel.html#a30539244f1f28861693bd88c357abbd8">ConstraintParallel::ConstraintParallel</a>(<a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>)</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;{</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p1.x);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p1.y);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p2.x);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p2.y);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p1.x);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p1.y);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p2.x);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p2.y);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="../../df/d81/classGCS_1_1ConstraintParallel.html#a8744ffb78b4474aba7279fd61240192e">rescale</a>();</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"><a class="line" href="../../df/d81/classGCS_1_1ConstraintParallel.html#a7a4dbd48cff2ab58c56fbd92311e13ad"> 1190</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../df/d81/classGCS_1_1ConstraintParallel.html#a7a4dbd48cff2ab58c56fbd92311e13ad">ConstraintParallel::getTypeId</a>()</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;{</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a48f5041d3c159c534f2ca44c0fc98972">Parallel</a>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;}</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; </div>
<div class="line"><a name="l01195"></a><span class="lineno"><a class="line" href="../../df/d81/classGCS_1_1ConstraintParallel.html#a8744ffb78b4474aba7279fd61240192e"> 1195</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d81/classGCS_1_1ConstraintParallel.html#a8744ffb78b4474aba7279fd61240192e">ConstraintParallel::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;{</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordtype">double</span> dx1 = (*l1p1x() - *l1p2x());</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordtype">double</span> dy1 = (*l1p1y() - *l1p2y());</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordtype">double</span> dx2 = (*l2p1x() - *l2p2x());</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordtype">double</span> dy2 = (*l2p1y() - *l2p2y());</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>((dx1 * dx1 + dy1 * dy1) * (dx2 * dx2 + dy2 * dy2));</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;}</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"><a class="line" href="../../df/d81/classGCS_1_1ConstraintParallel.html#a3c102d5a8bed6bf695967293634e70d7"> 1204</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../df/d81/classGCS_1_1ConstraintParallel.html#a3c102d5a8bed6bf695967293634e70d7">ConstraintParallel::error</a>()</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;{</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordtype">double</span> dx1 = (*l1p1x() - *l1p2x());</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordtype">double</span> dy1 = (*l1p1y() - *l1p2y());</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordtype">double</span> dx2 = (*l2p1x() - *l2p2x());</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordtype">double</span> dy2 = (*l2p1y() - *l2p2y());</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * (dx1 * dy2 - dy1 * dx2);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;}</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"><a class="line" href="../../df/d81/classGCS_1_1ConstraintParallel.html#ab0ed80423ffbf4cd8fab1f73ff32ef7a"> 1213</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../df/d81/classGCS_1_1ConstraintParallel.html#ab0ed80423ffbf4cd8fab1f73ff32ef7a">ConstraintParallel::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;{</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1x()) {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        deriv += (*l2p1y() - *l2p2y());  <span class="comment">// = dy2</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2x()) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        deriv += -(*l2p1y() - *l2p2y());  <span class="comment">// = -dy2</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1y()) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        deriv += -(*l2p1x() - *l2p2x());  <span class="comment">// = -dx2</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2y()) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        deriv += (*l2p1x() - *l2p2x());  <span class="comment">// = dx2</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1x()) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        deriv += -(*l1p1y() - *l1p2y());  <span class="comment">// = -dy1</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2x()) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        deriv += (*l1p1y() - *l1p2y());  <span class="comment">// = dy1</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1y()) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        deriv += (*l1p1x() - *l1p2x());  <span class="comment">// = dx1</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2y()) {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        deriv += -(*l1p1x() - *l1p2x());  <span class="comment">// = -dx1</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;}</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160; </div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment">// Perpendicular</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"><a class="line" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a2b45cd93a0cdc4d7e99e8056a3dfc102"> 1248</a></span>&#160;<a class="code" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a2b45cd93a0cdc4d7e99e8056a3dfc102">ConstraintPerpendicular::ConstraintPerpendicular</a>(<a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>)</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;{</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p1.x);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p1.y);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p2.x);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p2.y);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p1.x);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p1.y);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p2.x);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p2.y);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <a class="code" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#aebd74171ac23ba4f9373901b038d8a96">rescale</a>();</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;}</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"><a class="line" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a3cf215b2377653df0ac5551be4e91708"> 1262</a></span>&#160;<a class="code" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a2b45cd93a0cdc4d7e99e8056a3dfc102">ConstraintPerpendicular::ConstraintPerpendicular</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l1p1, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l1p2, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l2p1, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l2p2)</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;{</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <a class="code" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#aebd74171ac23ba4f9373901b038d8a96">rescale</a>();</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"><a class="line" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a6c176386ed5ff40dd5f97c7000228cec"> 1276</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a6c176386ed5ff40dd5f97c7000228cec">ConstraintPerpendicular::getTypeId</a>()</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;{</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ac9dc39b0e54986c5e3c035758e809a54">Perpendicular</a>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;}</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"><a class="line" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#aebd74171ac23ba4f9373901b038d8a96"> 1281</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#aebd74171ac23ba4f9373901b038d8a96">ConstraintPerpendicular::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;{</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordtype">double</span> dx1 = (*l1p1x() - *l1p2x());</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordtype">double</span> dy1 = (*l1p1y() - *l1p2y());</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordtype">double</span> dx2 = (*l2p1x() - *l2p2x());</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordtype">double</span> dy2 = (*l2p1y() - *l2p2y());</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>((dx1 * dx1 + dy1 * dy1) * (dx2 * dx2 + dy2 * dy2));</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"><a class="line" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#ad7deccab29ab12a5d63777e25de41983"> 1290</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#ad7deccab29ab12a5d63777e25de41983">ConstraintPerpendicular::error</a>()</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;{</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordtype">double</span> dx1 = (*l1p1x() - *l1p2x());</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordtype">double</span> dy1 = (*l1p1y() - *l1p2y());</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="keywordtype">double</span> dx2 = (*l2p1x() - *l2p2x());</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="keywordtype">double</span> dy2 = (*l2p1y() - *l2p2y());</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * (dx1 * dx2 + dy1 * dy2);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"><a class="line" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a8901181d5d7f59877487d872f4905918"> 1299</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a8901181d5d7f59877487d872f4905918">ConstraintPerpendicular::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;{</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1x()) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        deriv += (*l2p1x() - *l2p2x());  <span class="comment">// = dx2</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2x()) {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        deriv += -(*l2p1x() - *l2p2x());  <span class="comment">// = -dx2</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1y()) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        deriv += (*l2p1y() - *l2p2y());  <span class="comment">// = dy2</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2y()) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        deriv += -(*l2p1y() - *l2p2y());  <span class="comment">// = -dy2</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1x()) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        deriv += (*l1p1x() - *l1p2x());  <span class="comment">// = dx1</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2x()) {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        deriv += -(*l1p1x() - *l1p2x());  <span class="comment">// = -dx1</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1y()) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        deriv += (*l1p1y() - *l1p2y());  <span class="comment">// = dy1</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    }</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2y()) {</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        deriv += -(*l1p1y() - *l1p2y());  <span class="comment">// = -dy1</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    }</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;}</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">// L2LAngle</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#ac6a45d8bb7ca541e24afae0536ec0141"> 1334</a></span>&#160;<a class="code" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#ac6a45d8bb7ca541e24afae0536ec0141">ConstraintL2LAngle::ConstraintL2LAngle</a>(<a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>, <span class="keywordtype">double</span>* <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>)</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;{</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p1.x);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p1.y);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p2.x);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p2.y);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p1.x);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p1.y);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p2.x);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p2.y);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a8e4467b3c1bb0e0a54ebb3f6cd53998e">rescale</a>();</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;}</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"><a class="line" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a4ab75a697f6bbe69631ebdaf37d68ade"> 1349</a></span>&#160;<a class="code" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#ac6a45d8bb7ca541e24afae0536ec0141">ConstraintL2LAngle::ConstraintL2LAngle</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l1p1,</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                                       <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l1p2,</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                                       <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l2p1,</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                                       <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l2p2,</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                                       <span class="keywordtype">double</span>* <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;{</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <a class="code" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a8e4467b3c1bb0e0a54ebb3f6cd53998e">rescale</a>();</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;}</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"><a class="line" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a75aafdb4fe02854401bcc7aaa22e2ad9"> 1368</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a75aafdb4fe02854401bcc7aaa22e2ad9">ConstraintL2LAngle::getTypeId</a>()</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;{</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a415610c897f054e2350f9492a0171706">L2LAngle</a>;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;}</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a8e4467b3c1bb0e0a54ebb3f6cd53998e"> 1373</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a8e4467b3c1bb0e0a54ebb3f6cd53998e">ConstraintL2LAngle::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;{</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"><a class="line" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#ad4736bde4b962a3d458950eab558f188"> 1378</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#ad4736bde4b962a3d458950eab558f188">ConstraintL2LAngle::error</a>()</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;{</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordtype">double</span> dx1 = (*l1p2x() - *l1p1x());</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordtype">double</span> dy1 = (*l1p2y() - *l1p1y());</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordtype">double</span> dx2 = (*l2p2x() - *l2p1x());</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordtype">double</span> dy2 = (*l2p2y() - *l2p1y());</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a> = <a class="code" href="../../d0/dbc/namespaceKDL.html#a18fd601f480771f35c7432404411824b">atan2</a>(dy1, dx1) + *angle();</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordtype">double</span> ca = <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordtype">double</span> sa = <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="keywordtype">double</span> x2 = dx2 * ca + dy2 * sa;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordtype">double</span> y2 = -dx2 * sa + dy2 * ca;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a18fd601f480771f35c7432404411824b">atan2</a>(y2, x2);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;}</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"><a class="line" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#afbb9cc4c0551f6b59706903c4ef9531f"> 1392</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#afbb9cc4c0551f6b59706903c4ef9531f">ConstraintL2LAngle::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;{</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2y()) {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordtype">double</span> dx1 = (*l1p2x() - *l1p1x());</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="keywordtype">double</span> dy1 = (*l1p2y() - *l1p1y());</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordtype">double</span> r2 = dx1 * dx1 + dy1 * dy1;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1x()) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            deriv += -dy1 / r2;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1y()) {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            deriv += dx1 / r2;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2x()) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            deriv += dy1 / r2;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2y()) {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            deriv += -dx1 / r2;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    }</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2y()) {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordtype">double</span> dx1 = (*l1p2x() - *l1p1x());</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <span class="keywordtype">double</span> dy1 = (*l1p2y() - *l1p1y());</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <span class="keywordtype">double</span> dx2 = (*l2p2x() - *l2p1x());</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="keywordtype">double</span> dy2 = (*l2p2y() - *l2p1y());</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a> = <a class="code" href="../../d0/dbc/namespaceKDL.html#a18fd601f480771f35c7432404411824b">atan2</a>(dy1, dx1) + *angle();</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        <span class="keywordtype">double</span> ca = <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <span class="keywordtype">double</span> sa = <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <span class="keywordtype">double</span> x2 = dx2 * ca + dy2 * sa;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="keywordtype">double</span> y2 = -dx2 * sa + dy2 * ca;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordtype">double</span> r2 = dx2 * dx2 + dy2 * dy2;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        dx2 = -y2 / r2;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        dy2 = x2 / r2;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1x()) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            deriv += (-ca * dx2 + sa * dy2);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1y()) {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;            deriv += (-sa * dx2 - ca * dy2);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2x()) {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            deriv += (ca * dx2 - sa * dy2);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2y()) {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            deriv += (sa * dx2 + ca * dy2);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == angle()) {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        deriv += -1;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;}</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"><a class="line" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a94dce60eaa805f2e5d495d5811a91281"> 1445</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a94dce60eaa805f2e5d495d5811a91281">ConstraintL2LAngle::maxStep</a>(<a class="code" href="../../d6/d63/namespaceGCS.html#af7f92fc184daf9388f8a48ab93afb8b7">MAP_pD_D</a>&amp; dir, <span class="keywordtype">double</span> lim)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;{</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    MAP_pD_D::iterator it = dir.find(angle());</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">if</span> (it != dir.end()) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="keywordtype">double</span> step = <a class="code" href="../../d0/dbc/namespaceKDL.html#a02b43d75a30870d9bac78a36a10b00e7">std::abs</a>(it-&gt;second);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="keywordflow">if</span> (step &gt; <a class="code" href="../../d6/d63/namespaceGCS.html#a2377d05b953587230970fe5e4b9b49ef">pi_18</a>) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            lim = <a class="code" href="../../d0/dbc/namespaceKDL.html#aa7c26c4bc57cab66adc41b08110f5948">std::min</a>(lim, <a class="code" href="../../d6/d63/namespaceGCS.html#a2377d05b953587230970fe5e4b9b49ef">pi_18</a> / step);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">return</span> lim;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="comment">// MidpointOnLine</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a396efa4b7a59d72e544b9b3eedc1eab9"> 1460</a></span>&#160;<a class="code" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a396efa4b7a59d72e544b9b3eedc1eab9">ConstraintMidpointOnLine::ConstraintMidpointOnLine</a>(<a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>)</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;{</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p1.x);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p1.y);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p2.x);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>.p2.y);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p1.x);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p1.y);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p2.x);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>.p2.y);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a31447a41e5f1d8988bdaef714c3e75ef">rescale</a>();</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;}</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#ad3c02f0b2a3f5583e1f02a4376a518f6"> 1474</a></span>&#160;<a class="code" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a396efa4b7a59d72e544b9b3eedc1eab9">ConstraintMidpointOnLine::ConstraintMidpointOnLine</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l1p1,</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                                                   <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l1p2,</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                                                   <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l2p1,</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                                                   <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; l2p2)</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;{</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l1p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(l2p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <a class="code" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a31447a41e5f1d8988bdaef714c3e75ef">rescale</a>();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;}</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a0f349415f88760bb9a3066afa35181c5"> 1491</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a0f349415f88760bb9a3066afa35181c5">ConstraintMidpointOnLine::getTypeId</a>()</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;{</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a55af29b83f07764700a11c0eafc8793e">MidpointOnLine</a>;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a31447a41e5f1d8988bdaef714c3e75ef"> 1496</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a31447a41e5f1d8988bdaef714c3e75ef">ConstraintMidpointOnLine::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;{</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a6d04f064e0fbe1187b9c760cd8ab6846"> 1501</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a6d04f064e0fbe1187b9c760cd8ab6846">ConstraintMidpointOnLine::error</a>()</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;{</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordtype">double</span> x0 = ((*l1p1x()) + (*l1p2x())) / 2;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keywordtype">double</span> y0 = ((*l1p1y()) + (*l1p2y())) / 2;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordtype">double</span> x1 = *l2p1x(), x2 = *l2p2x();</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordtype">double</span> y1 = *l2p1y(), y2 = *l2p2y();</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordtype">double</span> dx = x2 - x1;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordtype">double</span> dy = y2 - y1;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="keywordtype">double</span> d = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(dx * dx + dy * dy);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordtype">double</span> area = -x0 * dy + y0 * dx + x1 * y2 - x2 * y1;  <span class="comment">// = 2*(triangle area)</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * area / d;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;}</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"><a class="line" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a3b67598f303001a93733962783687f57"> 1514</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a3b67598f303001a93733962783687f57">ConstraintMidpointOnLine::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;{</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2y()</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2y()) {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        <span class="keywordtype">double</span> x0 = ((*l1p1x()) + (*l1p2x())) / 2;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="keywordtype">double</span> y0 = ((*l1p1y()) + (*l1p2y())) / 2;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        <span class="keywordtype">double</span> x1 = *l2p1x(), x2 = *l2p2x();</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <span class="keywordtype">double</span> y1 = *l2p1y(), y2 = *l2p2y();</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        <span class="keywordtype">double</span> dx = x2 - x1;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordtype">double</span> dy = y2 - y1;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <span class="keywordtype">double</span> d2 = dx * dx + dy * dy;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordtype">double</span> d = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(d2);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        <span class="keywordtype">double</span> area = -x0 * dy + y0 * dx + x1 * y2 - x2 * y1;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1x()) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;            deriv += (y1 - y2) / (2 * d);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p1y()) {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            deriv += (x2 - x1) / (2 * d);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2x()) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;            deriv += (y1 - y2) / (2 * d);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1p2y()) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            deriv += (x2 - x1) / (2 * d);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1x()) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            deriv += ((y2 - y0) * d + (dx / d) * area) / d2;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        }</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p1y()) {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            deriv += ((x0 - x2) * d + (dy / d) * area) / d2;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2x()) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            deriv += ((y0 - y1) * d - (dx / d) * area) / d2;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2p2y()) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            deriv += ((x1 - x0) * d - (dy / d) * area) / d2;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;}</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment">// TangentCircumf</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"><a class="line" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#af4c8de4cb4a04fb8bb2a366339b6f054"> 1559</a></span>&#160;<a class="code" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#af4c8de4cb4a04fb8bb2a366339b6f054">ConstraintTangentCircumf::ConstraintTangentCircumf</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; p1,</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                                                   <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; p2,</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                                                   <span class="keywordtype">double</span>* rad1,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                                   <span class="keywordtype">double</span>* rad2,</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                                                   <span class="keywordtype">bool</span> internal_)</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;{</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keyword">internal</span> = internal_;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(rad1);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(rad2);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <a class="code" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#acffc4102b78a8c2cbf8229be0a734b8a">rescale</a>();</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;}</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"><a class="line" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#a4a8d3258eb1ecede5e9d6bd94de6b71d"> 1576</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#a4a8d3258eb1ecede5e9d6bd94de6b71d">ConstraintTangentCircumf::getTypeId</a>()</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;{</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a7db90ba1ad4efc17acfa952f6f5a51ed">TangentCircumf</a>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;}</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160; </div>
<div class="line"><a name="l01581"></a><span class="lineno"><a class="line" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#acffc4102b78a8c2cbf8229be0a734b8a"> 1581</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#acffc4102b78a8c2cbf8229be0a734b8a">ConstraintTangentCircumf::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;{</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;}</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160; </div>
<div class="line"><a name="l01586"></a><span class="lineno"><a class="line" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#ad36b21422e17f5da9f90ee0021eb69fe"> 1586</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#ad36b21422e17f5da9f90ee0021eb69fe">ConstraintTangentCircumf::error</a>()</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;{</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordtype">double</span> dx = (*c1x() - *c2x());</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordtype">double</span> dy = (*c1y() - *c2y());</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">internal</span>) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * ((dx * dx + dy * dy) - (*r1() - *r2()) * (*r1() - *r2()));</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * ((dx * dx + dy * dy) - (*r1() + *r2()) * (*r1() + *r2()));</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;}</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"><a class="line" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#a420af373f285526cb2b1dd4d1e93bfcc"> 1598</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#a420af373f285526cb2b1dd4d1e93bfcc">ConstraintTangentCircumf::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;{</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c2x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c2y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == r1()</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == r2()) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        <span class="keywordtype">double</span> dx = (*c1x() - *c2x());</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <span class="keywordtype">double</span> dy = (*c1y() - *c2y());</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c1x()) {</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            deriv += 2 * dx;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c1y()) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            deriv += 2 * dy;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c2x()) {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            deriv += 2 * -dx;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c2y()) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            deriv += 2 * -dy;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        }</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">internal</span>) {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == r1()) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                deriv += 2 * (*r2() - *r1());</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == r2()) {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                deriv += 2 * (*r1() - *r2());</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            }</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == r1()) {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                deriv += -2 * (*r1() + *r2());</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == r2()) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                deriv += -2 * (*r1() + *r2());</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            }</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;}</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment">// ConstraintPointOnEllipse</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"><a class="line" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a160f3cef91cf12784bc9ca166e3940ec"> 1640</a></span>&#160;<a class="code" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a160f3cef91cf12784bc9ca166e3940ec">ConstraintPointOnEllipse::ConstraintPointOnEllipse</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html">Ellipse</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>)</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;{</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.center.x);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.center.y);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.focus1.x);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.focus1.y);</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.radmin);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <a class="code" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#ae4f2d79d169fbc4fcea4fd174e0c1722">rescale</a>();</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;}</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"><a class="line" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a2e919399290a6ac3a5133fd41b851f3b"> 1653</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a2e919399290a6ac3a5133fd41b851f3b">ConstraintPointOnEllipse::getTypeId</a>()</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;{</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924abf3e3af702375baede991a84711d2176">PointOnEllipse</a>;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;}</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"><a class="line" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#ae4f2d79d169fbc4fcea4fd174e0c1722"> 1658</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#ae4f2d79d169fbc4fcea4fd174e0c1722">ConstraintPointOnEllipse::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;{</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;}</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"><a class="line" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a11d90b725d72394dccc6fb9c2e7ff06c"> 1663</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a11d90b725d72394dccc6fb9c2e7ff06c">ConstraintPointOnEllipse::error</a>()</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;{</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="keywordtype">double</span> X_0 = *p1x();</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordtype">double</span> Y_0 = *p1y();</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordtype">double</span> X_c = *cx();</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordtype">double</span> Y_c = *cy();</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordtype">double</span> X_F1 = *f1x();</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordtype">double</span> Y_F1 = *f1y();</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a> = *rmin();</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordtype">double</span> err = <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        + <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2))</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        - 2 * <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2));</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;}</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"><a class="line" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a6241c7c59c5db15602786be15f9e4669"> 1679</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a6241c7c59c5db15602786be15f9e4669">ConstraintPointOnEllipse::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;{</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == f1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == f1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == cx()</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == cy() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == rmin()) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        <span class="keywordtype">double</span> X_0 = *p1x();</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <span class="keywordtype">double</span> Y_0 = *p1y();</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="keywordtype">double</span> X_c = *cx();</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <span class="keywordtype">double</span> Y_c = *cy();</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keywordtype">double</span> X_F1 = *f1x();</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <span class="keywordtype">double</span> Y_F1 = *f1y();</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a> = *rmin();</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x()) {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            deriv += (X_0 - X_F1) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                + (X_0 + X_F1 - 2 * X_c)</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y()) {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;            deriv += (Y_0 - Y_F1) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                + (Y_0 + Y_F1 - 2 * Y_c)</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        }</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == f1x()) {</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            deriv += -(X_0 - X_F1) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                - 2 * (X_F1 - X_c) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2))</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                + (X_0 + X_F1 - 2 * X_c)</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == f1y()) {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            deriv += -(Y_0 - Y_F1) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                - 2 * (Y_F1 - Y_c) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2))</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                + (Y_0 + Y_F1 - 2 * Y_c)</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        }</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == cx()) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            deriv += 2 * (X_F1 - X_c) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2))</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                - 2 * (X_0 + X_F1 - 2 * X_c)</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == cy()) {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            deriv += 2 * (Y_F1 - Y_c) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2))</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                - 2 * (Y_0 + Y_F1 - 2 * Y_c)</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == rmin()) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;            deriv += -2 * <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a> / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2));</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    }</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;}</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="comment">// ConstraintEllipseTangentLine</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"><a class="line" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ac0cee389cf958f01ee7ceec07effa35f"> 1735</a></span>&#160;<a class="code" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ac0cee389cf958f01ee7ceec07effa35f">ConstraintEllipseTangentLine::ConstraintEllipseTangentLine</a>(<a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>, <a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html">Ellipse</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>)</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;{</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    this-&gt;l = l;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    this-&gt;l.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#a67bf7bc2feb397c67825847b2240ee1e">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    this-&gt;e = e;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    this-&gt;e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#ac0a62c420a2992eeae16f69feadaa9b4">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);  <span class="comment">// DeepSOIC: hopefully, this won&#39;t push arc&#39;s parameters</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#a84a9401f3ec35fd9698eb5ba1ca0fc86">rescale</a>();</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;}</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160; </div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="keywordtype">void</span> ConstraintEllipseTangentLine::ReconstructGeomPointers()</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;{</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    l.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#a7f397d0f8283c64eecc17c600f304f98">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#a5b247101def1b74b727d8a131dfd90d2">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;}</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"><a class="line" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#a3d4e613cfae38086b73b5b1d6cddaa1d"> 1755</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#a3d4e613cfae38086b73b5b1d6cddaa1d">ConstraintEllipseTangentLine::getTypeId</a>()</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;{</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a75892a2d161cf6bf5fab0d94d720c4c0">TangentEllipseLine</a>;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;}</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160; </div>
<div class="line"><a name="l01760"></a><span class="lineno"><a class="line" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#a84a9401f3ec35fd9698eb5ba1ca0fc86"> 1760</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#a84a9401f3ec35fd9698eb5ba1ca0fc86">ConstraintEllipseTangentLine::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;{</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="keywordtype">void</span> ConstraintEllipseTangentLine::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;{</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="comment">// DeepSOIC equation</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="comment">// https://forum.freecad.org/viewtopic.php?f=10&amp;t=7520&amp;start=140</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160; </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    DeriVector2 p1(l.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">p1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    DeriVector2 p2(l.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ad63e2c32a7a115e674d8d5a206f945fc">p2</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    DeriVector2 f1(e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#a0ee4ef12b506ab687d3a554b232291d5">focus1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    DeriVector2 <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>(e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#a1da403ed669f4d8ea31d1bd9781d52e5">center</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    DeriVector2 f2 = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.linCombi(2.0, f1, -1.0);  <span class="comment">// 2*cv - f1v</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160; </div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="comment">// mirror F1 against the line</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    DeriVector2 nl = l.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#a8dcb73106a85aaf8423feb28d4440e08">CalculateNormal</a>(l.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">p1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>).<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#abcc08d3fb665e62533eacb6f89256421">getNormalized</a>();</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="keywordtype">double</span> distF1L = 0, ddistF1L = 0;  <span class="comment">// distance F1 to line</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    distF1L = f1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3ef978e1eed6a37f4ccf940737dc86f9">subtr</a>(p1).<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a5d980143d1bb1f55e4cd457c9c1354e9">scalarProd</a>(nl, &amp;ddistF1L);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    DeriVector2 f1m = f1.sum(nl.multD(-2 * distF1L, -2 * ddistF1L));  <span class="comment">// f1m = f1 mirrored</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="comment">// calculate distance form f1m to f2</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keywordtype">double</span> distF1mF2, ddistF1mF2;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    distF1mF2 = f2.subtr(f1m).length(ddistF1mF2);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="comment">// calculate major radius (to compare the distance to)</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordtype">double</span> dradmin = (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#abd1a03f83d878c8718097760ad441a9f">radmin</a>) ? 1.0 : 0.0;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keywordtype">double</span> radmaj, dradmaj;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    radmaj = e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#ae73a8ecc1a6808d29518857af75b0d0f">getRadMaj</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>, f1, *e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#abd1a03f83d878c8718097760ad441a9f">radmin</a>, dradmin, dradmaj);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        *err = distF1mF2 - 2 * radmaj;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    }</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ac844deb2e4325ec2aca75aa2a6872c59">grad</a>) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        *<a class="code" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ac844deb2e4325ec2aca75aa2a6872c59">grad</a> = ddistF1mF2 - 2 * dradmaj;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    }</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;}</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"><a class="line" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ab992230d30f6a89b9d09873afbeefd87"> 1802</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ab992230d30f6a89b9d09873afbeefd87">ConstraintEllipseTangentLine::error</a>()</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;{</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;}</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"><a class="line" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ac844deb2e4325ec2aca75aa2a6872c59"> 1809</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ac844deb2e4325ec2aca75aa2a6872c59">ConstraintEllipseTangentLine::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;{</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;}</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">// ConstraintInternalAlignmentPoint2Ellipse</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"><a class="line" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#aab1d13bcda2c75c8c173dda64fdb4808"> 1825</a></span>&#160;<a class="code" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#aab1d13bcda2c75c8c173dda64fdb4808">ConstraintInternalAlignmentPoint2Ellipse::ConstraintInternalAlignmentPoint2Ellipse</a>(</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html">Ellipse</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>,</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; p1,</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2">InternalAlignmentType</a> alignmentType)</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;{</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    this-&gt;p = p1;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    this-&gt;e = e;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    this-&gt;e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#ac0a62c420a2992eeae16f69feadaa9b4">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    this-&gt;AlignmentType = alignmentType;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <a class="code" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a890bc4fc04fbc39609e43e00ac038a7a">rescale</a>();</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;}</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160; </div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="keywordtype">void</span> ConstraintInternalAlignmentPoint2Ellipse::ReconstructGeomPointers()</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;{</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#a5b247101def1b74b727d8a131dfd90d2">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;}</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"><a class="line" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a4e4814e80dfa107a78192c10f8eff075"> 1851</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a4e4814e80dfa107a78192c10f8eff075">ConstraintInternalAlignmentPoint2Ellipse::getTypeId</a>()</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;{</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a5271b8b1d2af2789e8aca3221dd49b06">InternalAlignmentPoint2Ellipse</a>;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;}</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160; </div>
<div class="line"><a name="l01856"></a><span class="lineno"><a class="line" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a890bc4fc04fbc39609e43e00ac038a7a"> 1856</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a890bc4fc04fbc39609e43e00ac038a7a">ConstraintInternalAlignmentPoint2Ellipse::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;{</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;}</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160; </div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="keywordtype">void</span> ConstraintInternalAlignmentPoint2Ellipse::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;{</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    }</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160; </div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="comment">// todo: prefill only what&#39;s needed, not everything</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160; </div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    DeriVector2 <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>(e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#a1da403ed669f4d8ea31d1bd9781d52e5">center</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    DeriVector2 f1(e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#a0ee4ef12b506ab687d3a554b232291d5">focus1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    DeriVector2 emaj = f1.subtr(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>).getNormalized();</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    DeriVector2 emin = emaj.rotate90ccw();</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    DeriVector2 pv(p, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, db;  <span class="comment">// minor radius</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a> = *e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#abd1a03f83d878c8718097760ad441a9f">radmin</a>;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    db = (e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#abd1a03f83d878c8718097760ad441a9f">radmin</a> == <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) ? 1.0 : 0.0;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160; </div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="comment">// major radius</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, da;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a> = e.<a class="code" href="../../dc/dd0/classGCS_1_1Ellipse.html#ae73a8ecc1a6808d29518857af75b0d0f">getRadMaj</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>, f1, <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, db, da);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160; </div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    DeriVector2 poa;  <span class="comment">// point to align to</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordtype">bool</span> by_y_not_by_x =</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        <span class="keyword">false</span>;  <span class="comment">// a flag to indicate if the alignment error function is for y (false - x, true - y)</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160; </div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keywordflow">switch</span> (AlignmentType) {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a164cc7e89f0ea1f8df42e15bfa144f5b">EllipsePositiveMajorX</a>:</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a68558a675026d9869bb14c9ed72f141f">EllipsePositiveMajorY</a>:</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            poa = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.sum(emaj.multD(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, da));</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            by_y_not_by_x = AlignmentType == <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a68558a675026d9869bb14c9ed72f141f">EllipsePositiveMajorY</a>;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2abda6e7371fbb686ed78d650301688a2a">EllipseNegativeMajorX</a>:</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a96ce17eddc3ad13965d5c620d14c6864">EllipseNegativeMajorY</a>:</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            poa = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.sum(emaj.multD(-<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, -da));</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            by_y_not_by_x = AlignmentType == <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a96ce17eddc3ad13965d5c620d14c6864">EllipseNegativeMajorY</a>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a98f580cbd233f92a6327b648cd9a1eae">EllipsePositiveMinorX</a>:</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2afbf82ee56e8f00505c338354cb4c0b66">EllipsePositiveMinorY</a>:</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            poa = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.sum(emin.multD(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, db));</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            by_y_not_by_x = AlignmentType == <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2afbf82ee56e8f00505c338354cb4c0b66">EllipsePositiveMinorY</a>;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a2626a0d4e9c62e8c9bc6781bcb7d841d">EllipseNegativeMinorX</a>:</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ab7a6faa3513fd44a61f9249d7016e078">EllipseNegativeMinorY</a>:</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            poa = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.sum(emin.multD(-<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, -db));</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            by_y_not_by_x = AlignmentType == <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ab7a6faa3513fd44a61f9249d7016e078">EllipseNegativeMinorY</a>;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2af53a229f4d1378e233c6d1920c307a3a">EllipseFocus2X</a>:</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a782c811b2f23cbaffdfd6edbd1cbcaa9">EllipseFocus2Y</a>:</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;            poa = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.linCombi(2.0, f1, -1.0);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            by_y_not_by_x = AlignmentType == <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a782c811b2f23cbaffdfd6edbd1cbcaa9">EllipseFocus2Y</a>;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;            <span class="comment">// shouldn&#39;t happen</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            poa = pv;  <span class="comment">// align to the point itself, doing nothing essentially</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    }</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        *err = by_y_not_by_x ? pv.y - poa.y : pv.x - poa.x;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    }</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a4cece1217cae603f5e29483bb7af1d5a">grad</a>) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        *<a class="code" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a4cece1217cae603f5e29483bb7af1d5a">grad</a> = by_y_not_by_x ? pv.dy - poa.dy : pv.dx - poa.dx;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    }</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;}</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160; </div>
<div class="line"><a name="l01924"></a><span class="lineno"><a class="line" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#abc8583ad0b29ca1ff30b6d70570837f7"> 1924</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#abc8583ad0b29ca1ff30b6d70570837f7">ConstraintInternalAlignmentPoint2Ellipse::error</a>()</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;{</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;}</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"><a class="line" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a4cece1217cae603f5e29483bb7af1d5a"> 1931</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a4cece1217cae603f5e29483bb7af1d5a">ConstraintInternalAlignmentPoint2Ellipse::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;{</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    }</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160; </div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160; </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;}</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160; </div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;<span class="comment">// ConstraintInternalAlignmentPoint2Hyperbola</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"><a class="line" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#af6a2e87fa928577435f80ce606ef18f9"> 1947</a></span>&#160;<a class="code" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#af6a2e87fa928577435f80ce606ef18f9">ConstraintInternalAlignmentPoint2Hyperbola::ConstraintInternalAlignmentPoint2Hyperbola</a>(</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <a class="code" href="../../d6/d0b/classGCS_1_1Hyperbola.html">Hyperbola</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>,</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; p1,</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2">InternalAlignmentType</a> alignmentType)</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;{</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    this-&gt;p = p1;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    this-&gt;e = e;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    this-&gt;e.<a class="code" href="../../d6/d0b/classGCS_1_1Hyperbola.html#a311838aa354b71a268ef9ff60a055dd0">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    this-&gt;AlignmentType = alignmentType;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <a class="code" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#ab0f688bc9fd964567893c3a83b2fa6be">rescale</a>();</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;}</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160; </div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="keywordtype">void</span> ConstraintInternalAlignmentPoint2Hyperbola::ReconstructGeomPointers()</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;{</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    e.<a class="code" href="../../d6/d0b/classGCS_1_1Hyperbola.html#a507613cd6cb5a8892d59fd6ba87ee0ea">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;}</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160; </div>
<div class="line"><a name="l01973"></a><span class="lineno"><a class="line" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#a0e97181f6bfb7c95772751869a15761b"> 1973</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#a0e97181f6bfb7c95772751869a15761b">ConstraintInternalAlignmentPoint2Hyperbola::getTypeId</a>()</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;{</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ac075e9c88f9e580485de3e3ac5f5dc09">InternalAlignmentPoint2Hyperbola</a>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;}</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160; </div>
<div class="line"><a name="l01978"></a><span class="lineno"><a class="line" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#ab0f688bc9fd964567893c3a83b2fa6be"> 1978</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#ab0f688bc9fd964567893c3a83b2fa6be">ConstraintInternalAlignmentPoint2Hyperbola::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;{</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;}</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160; </div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;<span class="keywordtype">void</span> ConstraintInternalAlignmentPoint2Hyperbola::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;{</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    }</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160; </div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="comment">// todo: prefill only what&#39;s needed, not everything</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160; </div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    DeriVector2 <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>(e.<a class="code" href="../../d6/d0b/classGCS_1_1Hyperbola.html#aff0b449fc1515953d437abf9ed8d047a">center</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    DeriVector2 f1(e.<a class="code" href="../../d6/d0b/classGCS_1_1Hyperbola.html#a15facd51eb954cfd3d9bf96718109cbf">focus1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    DeriVector2 emaj = f1.subtr(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>).getNormalized();</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    DeriVector2 emin = emaj.rotate90ccw();</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    DeriVector2 pv(p, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, db;  <span class="comment">// minor radius</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a> = *e.<a class="code" href="../../d6/d0b/classGCS_1_1Hyperbola.html#aa6c658d626de8d8def992aa40970bfe5">radmin</a>;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    db = (e.<a class="code" href="../../d6/d0b/classGCS_1_1Hyperbola.html#aa6c658d626de8d8def992aa40970bfe5">radmin</a> == <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) ? 1.0 : 0.0;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160; </div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="comment">// major radius</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, da;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a> = e.<a class="code" href="../../d6/d0b/classGCS_1_1Hyperbola.html#a14504d338d0a25097fa869f2ddeb854a">getRadMaj</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>, f1, <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, db, da);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160; </div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    DeriVector2 poa;  <span class="comment">// point to align to</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="keywordtype">bool</span> by_y_not_by_x =</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <span class="keyword">false</span>;  <span class="comment">// a flag to indicate if the alignment error function is for y (false - x, true - y)</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160; </div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordflow">switch</span> (AlignmentType) {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a84c26bfb55dc2464a1ef3be686287c9f">HyperbolaPositiveMajorX</a>:</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a0b2aa5cf612303afe89e141f83d4f632">HyperbolaPositiveMajorY</a>:</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            poa = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.sum(emaj.multD(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, da));</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            by_y_not_by_x = AlignmentType == <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a0b2aa5cf612303afe89e141f83d4f632">HyperbolaPositiveMajorY</a>;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a3b0285fc85c29591ade070361702e269">HyperbolaNegativeMajorX</a>:</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ae51923c801c8d4e09e59ddcfa0ce5f4e">HyperbolaNegativeMajorY</a>:</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;            poa = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.sum(emaj.multD(-<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, -da));</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;            by_y_not_by_x = AlignmentType == <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ae51923c801c8d4e09e59ddcfa0ce5f4e">HyperbolaNegativeMajorY</a>;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a25964b60112b3ff02d285dc62ab75162">HyperbolaPositiveMinorX</a>:</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a036a52acafca5662cdd9da10c3b05205">HyperbolaPositiveMinorY</a>: {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            DeriVector2 pa = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.sum(emaj.multD(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, da));</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;            <span class="comment">// DeriVector2 A(pa.x,pa.y);</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;            <span class="comment">// poa = A.sum(emin.multD(b, db));</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;            poa = pa.sum(emin.multD(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, db));</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;            by_y_not_by_x = AlignmentType == <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a036a52acafca5662cdd9da10c3b05205">HyperbolaPositiveMinorY</a>;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;        }</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ad582a8a7dfe3a3dfe263048d0f72c828">HyperbolaNegativeMinorX</a>:</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ad043e5467aa2a1069a978eac02d82fc0">HyperbolaNegativeMinorY</a>: {</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;            DeriVector2 pa = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>.sum(emaj.multD(<a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, da));</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;            <span class="comment">// DeriVector2 A(pa.x,pa.y);</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;            <span class="comment">// poa = A.sum(emin.multD(-b, -db));</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;            poa = pa.sum(emin.multD(-<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, -db));</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;            by_y_not_by_x = AlignmentType == <a class="code" href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ad043e5467aa2a1069a978eac02d82fc0">HyperbolaNegativeMinorY</a>;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        }</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;            <span class="comment">// shouldn&#39;t happen</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;            poa = pv;  <span class="comment">// align to the point itself, doing nothing essentially</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    }</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160; </div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        *err = by_y_not_by_x ? pv.y - poa.y : pv.x - poa.x;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    }</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#ab31eb416277c11b32bf872e188b20b46">grad</a>) {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        *<a class="code" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#ab31eb416277c11b32bf872e188b20b46">grad</a> = by_y_not_by_x ? pv.dy - poa.dy : pv.dx - poa.dx;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;}</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"><a class="line" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#aabe12fad4513a858eb931874df55e1e1"> 2051</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#aabe12fad4513a858eb931874df55e1e1">ConstraintInternalAlignmentPoint2Hyperbola::error</a>()</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;{</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;}</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"><a class="line" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#ab31eb416277c11b32bf872e188b20b46"> 2058</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#ab31eb416277c11b32bf872e188b20b46">ConstraintInternalAlignmentPoint2Hyperbola::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;{</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    }</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;}</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160; </div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160; </div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;<span class="comment">//  ConstraintEqualMajorAxesEllipse</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"><a class="line" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ab06782768f1c3838ceb0c47de6cc29b8"> 2074</a></span>&#160;<a class="code" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ab06782768f1c3838ceb0c47de6cc29b8">ConstraintEqualMajorAxesConic::ConstraintEqualMajorAxesConic</a>(<a class="code" href="../../d3/df3/classGCS_1_1MajorRadiusConic.html">MajorRadiusConic</a>* <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#adf376f021a13400f5ce6ff0d2acd442d">a1</a>,</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                                                             <a class="code" href="../../d3/df3/classGCS_1_1MajorRadiusConic.html">MajorRadiusConic</a>* <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#a31db92a5e16845316171485ce6b403d2">a2</a>)</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;{</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    this-&gt;e1 = <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#adf376f021a13400f5ce6ff0d2acd442d">a1</a>;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    this-&gt;e1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    this-&gt;e2 = <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#a31db92a5e16845316171485ce6b403d2">a2</a>;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    this-&gt;e2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <a class="code" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#a7a9b4bc13b45ba0157db1d6aa4907b69">rescale</a>();</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;}</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160; </div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<span class="keywordtype">void</span> ConstraintEqualMajorAxesConic::ReconstructGeomPointers()</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;{</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    e1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    e2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;}</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"><a class="line" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ae929f493cb75c1c9c07cdad57493d2ca"> 2094</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ae929f493cb75c1c9c07cdad57493d2ca">ConstraintEqualMajorAxesConic::getTypeId</a>()</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;{</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a3ec50967c3ab600d8b123e9e13865537">EqualMajorAxesConic</a>;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;}</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160; </div>
<div class="line"><a name="l02099"></a><span class="lineno"><a class="line" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#a7a9b4bc13b45ba0157db1d6aa4907b69"> 2099</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#a7a9b4bc13b45ba0157db1d6aa4907b69">ConstraintEqualMajorAxesConic::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;{</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;}</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="keywordtype">void</span> ConstraintEqualMajorAxesConic::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;{</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#adf376f021a13400f5ce6ff0d2acd442d">a1</a>, da1;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#adf376f021a13400f5ce6ff0d2acd442d">a1</a> = e1-&gt;<a class="code" href="../../d3/df3/classGCS_1_1MajorRadiusConic.html#aa7a3fe1379485804f9b9102f672eed6c">getRadMaj</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>, da1);</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#a31db92a5e16845316171485ce6b403d2">a2</a>, da2;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#a31db92a5e16845316171485ce6b403d2">a2</a> = e2-&gt;<a class="code" href="../../d3/df3/classGCS_1_1MajorRadiusConic.html#aa7a3fe1379485804f9b9102f672eed6c">getRadMaj</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>, da2);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        *err = <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#a31db92a5e16845316171485ce6b403d2">a2</a> - <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#adf376f021a13400f5ce6ff0d2acd442d">a1</a>;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    }</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ad78783ea2403ab6617f2fb38aa7c6d32">grad</a>) {</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;        *<a class="code" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ad78783ea2403ab6617f2fb38aa7c6d32">grad</a> = da2 - da1;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    }</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;}</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160; </div>
<div class="line"><a name="l02121"></a><span class="lineno"><a class="line" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#af932376a8ca1789d8238c6c959805b2a"> 2121</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#af932376a8ca1789d8238c6c959805b2a">ConstraintEqualMajorAxesConic::error</a>()</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;{</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;}</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160; </div>
<div class="line"><a name="l02128"></a><span class="lineno"><a class="line" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ad78783ea2403ab6617f2fb38aa7c6d32"> 2128</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ad78783ea2403ab6617f2fb38aa7c6d32">ConstraintEqualMajorAxesConic::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;{</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160; </div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;}</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160; </div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="comment">//  ConstraintEqualFocalDistance</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"><a class="line" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#a0f9c4779744f443c903d28d1126f3831"> 2142</a></span>&#160;<a class="code" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#a0f9c4779744f443c903d28d1126f3831">ConstraintEqualFocalDistance::ConstraintEqualFocalDistance</a>(<a class="code" href="../../d3/d10/classGCS_1_1ArcOfParabola.html">ArcOfParabola</a>* <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#adf376f021a13400f5ce6ff0d2acd442d">a1</a>, <a class="code" href="../../d3/d10/classGCS_1_1ArcOfParabola.html">ArcOfParabola</a>* <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#a31db92a5e16845316171485ce6b403d2">a2</a>)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;{</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    this-&gt;e1 = <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#adf376f021a13400f5ce6ff0d2acd442d">a1</a>;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    this-&gt;e1-&gt;<a class="code" href="../../d3/d10/classGCS_1_1ArcOfParabola.html#a94f5fef60be8bec9ed8420016d73a3e9">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    this-&gt;e2 = <a class="code" href="../../d0/d29/namespaceNavigationIndicatorGui.html#a31db92a5e16845316171485ce6b403d2">a2</a>;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    this-&gt;e2-&gt;<a class="code" href="../../d3/d10/classGCS_1_1ArcOfParabola.html#a94f5fef60be8bec9ed8420016d73a3e9">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <a class="code" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aa97d08e04c07f914074f03497c9df2c9">rescale</a>();</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;}</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="keywordtype">void</span> ConstraintEqualFocalDistance::ReconstructGeomPointers()</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;{</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    e1-&gt;<a class="code" href="../../d3/d10/classGCS_1_1ArcOfParabola.html#a53a90804d715bfc60b42c36a54a3b045">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    e2-&gt;<a class="code" href="../../d3/d10/classGCS_1_1ArcOfParabola.html#a53a90804d715bfc60b42c36a54a3b045">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;}</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"><a class="line" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aae7a7c09c8538df48be0aa6dbb3631df"> 2161</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aae7a7c09c8538df48be0aa6dbb3631df">ConstraintEqualFocalDistance::getTypeId</a>()</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;{</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ad8d83e713802c988e09d1ee85ba3629a">EqualFocalDistance</a>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;}</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160; </div>
<div class="line"><a name="l02166"></a><span class="lineno"><a class="line" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aa97d08e04c07f914074f03497c9df2c9"> 2166</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aa97d08e04c07f914074f03497c9df2c9">ConstraintEqualFocalDistance::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;{</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;}</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;<span class="keywordtype">void</span> ConstraintEqualFocalDistance::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;{</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    }</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160; </div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    DeriVector2 focus1(this-&gt;e1-&gt;<a class="code" href="../../d1/d23/classGCS_1_1Parabola.html#a901f864d01bb665fe319b6c49bf2e065">focus1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    DeriVector2 vertex1(this-&gt;e1-&gt;<a class="code" href="../../d1/d23/classGCS_1_1Parabola.html#af38a8dc5cc64d1b3e3f20b2bdd4f2251">vertex</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160; </div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    DeriVector2 focalvect1 = vertex1.subtr(focus1);</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="keywordtype">double</span> focal1, dfocal1;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160; </div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    focal1 = focalvect1.length(dfocal1);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    DeriVector2 focus2(this-&gt;e2-&gt;<a class="code" href="../../d1/d23/classGCS_1_1Parabola.html#a901f864d01bb665fe319b6c49bf2e065">focus1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    DeriVector2 vertex2(this-&gt;e2-&gt;<a class="code" href="../../d1/d23/classGCS_1_1Parabola.html#af38a8dc5cc64d1b3e3f20b2bdd4f2251">vertex</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    DeriVector2 focalvect2 = vertex2.subtr(focus2);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordtype">double</span> focal2, dfocal2;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160; </div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    focal2 = focalvect2.length(dfocal2);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160; </div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        *err = focal2 - focal1;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    }</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aa0a23e034fc22f082e9e6c84733f4a26">grad</a>) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        *<a class="code" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aa0a23e034fc22f082e9e6c84733f4a26">grad</a> = dfocal2 - dfocal1;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    }</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;}</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160; </div>
<div class="line"><a name="l02203"></a><span class="lineno"><a class="line" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#a4acb83f0a1ab7dc3392d3e439e6b064c"> 2203</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#a4acb83f0a1ab7dc3392d3e439e6b064c">ConstraintEqualFocalDistance::error</a>()</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;{</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;}</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160; </div>
<div class="line"><a name="l02210"></a><span class="lineno"><a class="line" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aa0a23e034fc22f082e9e6c84733f4a26"> 2210</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aa0a23e034fc22f082e9e6c84733f4a26">ConstraintEqualFocalDistance::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;{</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    }</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160; </div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; </div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;}</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160; </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;<span class="comment">// ConstraintCurveValue</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"><a class="line" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ae8992d13475768962817048a3ed1dc42"> 2226</a></span>&#160;<a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ae8992d13475768962817048a3ed1dc42">ConstraintCurveValue::ConstraintCurveValue</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <span class="keywordtype">double</span>* pcoord, <a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; crv, <span class="keywordtype">double</span>* <a class="code" href="../../d6/dad/namespacebuildPsets.html#a5750e99d8d3598682a5f22fa6cf72bf9">u</a>)</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;{</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.x);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.y);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(pcoord);</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(u);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    crv.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    this-&gt;crv = crv.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a6efc48e6fd6b182eabd09f07f72fcda5">rescale</a>();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;}</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160; </div>
<div class="line"><a name="l02239"></a><span class="lineno"><a class="line" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a6a1c53309d14326c289aa78e54078dff"> 2239</a></span>&#160;<a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a6a1c53309d14326c289aa78e54078dff">ConstraintCurveValue::~ConstraintCurveValue</a>()</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;{</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keyword">delete</span> this-&gt;crv;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    this-&gt;crv = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;}</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160; </div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="keywordtype">void</span> ConstraintCurveValue::ReconstructGeomPointers()</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;{</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;  <span class="comment">// we have an inline function for point coordinate</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;  <span class="comment">// we have an inline function for the parameterU</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    this-&gt;crv-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;}</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160; </div>
<div class="line"><a name="l02258"></a><span class="lineno"><a class="line" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#afb1af34960a62c41b7dbacd32f90b887"> 2258</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#afb1af34960a62c41b7dbacd32f90b887">ConstraintCurveValue::getTypeId</a>()</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;{</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924adf24026e53a10eafdebc06eb687a6b6b">CurveValue</a>;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;}</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160; </div>
<div class="line"><a name="l02263"></a><span class="lineno"><a class="line" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a6efc48e6fd6b182eabd09f07f72fcda5"> 2263</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a6efc48e6fd6b182eabd09f07f72fcda5">ConstraintCurveValue::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;{</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;}</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160; </div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;<span class="keywordtype">void</span> ConstraintCurveValue::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;{</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160; </div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordtype">double</span> u, du;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    u = *(this-&gt;u());</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    du = (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == this-&gt;u()) ? 1.0 : 0.0;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160; </div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    DeriVector2 P_to;  <span class="comment">// point of curve at parameter value of u, in global coordinates</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    P_to = this-&gt;crv-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a8ce05316fb85713deb983fe58c5a5bd8">Value</a>(u, du, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    DeriVector2 P_from(this-&gt;p, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);  <span class="comment">// point to be constrained</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160; </div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    DeriVector2 err_vec = P_from.subtr(P_to);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="keywordflow">if</span> (this-&gt;pcoord() == this-&gt;p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>) {  <span class="comment">// this constraint is for X projection</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;            *err = err_vec.x;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        }</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ab7f9ced739b176989687c3079111c6af">grad</a>) {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;            *<a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ab7f9ced739b176989687c3079111c6af">grad</a> = err_vec.dx;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        }</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    }</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this-&gt;pcoord() == this-&gt;p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>) {  <span class="comment">// this constraint is for Y projection</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;            *err = err_vec.y;</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        }</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ab7f9ced739b176989687c3079111c6af">grad</a>) {</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;            *<a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ab7f9ced739b176989687c3079111c6af">grad</a> = err_vec.dy;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        }</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    }</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        assert(<span class="keyword">false</span> <span class="comment">/*this constraint is neither X nor Y. Nothing to do..*/</span>);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    }</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;}</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160; </div>
<div class="line"><a name="l02306"></a><span class="lineno"><a class="line" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a92d148a07f0fe4f76bda1872cf3e5b59"> 2306</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a92d148a07f0fe4f76bda1872cf3e5b59">ConstraintCurveValue::error</a>()</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;{</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;}</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160; </div>
<div class="line"><a name="l02313"></a><span class="lineno"><a class="line" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ab7f9ced739b176989687c3079111c6af"> 2313</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ab7f9ced739b176989687c3079111c6af">ConstraintCurveValue::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;{</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    }</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160; </div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160; </div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;}</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"><a class="line" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a538ea7439744383391989af92b80346a"> 2326</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a538ea7439744383391989af92b80346a">ConstraintCurveValue::maxStep</a>(<a class="code" href="../../d6/d63/namespaceGCS.html#af7f92fc184daf9388f8a48ab93afb8b7">MAP_pD_D</a>&amp; <span class="comment">/*dir*/</span>, <span class="keywordtype">double</span> lim)</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;{</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keywordflow">return</span> lim;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;}</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160; </div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160; </div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="comment">// ConstraintPointOnHyperbola</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"><a class="line" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#ac1a13d9050fb04d99a9adf699acd6f0e"> 2334</a></span>&#160;<a class="code" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#ac1a13d9050fb04d99a9adf699acd6f0e">ConstraintPointOnHyperbola::ConstraintPointOnHyperbola</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d6/d0b/classGCS_1_1Hyperbola.html">Hyperbola</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>)</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;{</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.center.x);</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.center.y);</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.focus1.x);</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.focus1.y);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.radmin);</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    <a class="code" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a248e1a82a5874f48cff331c3de96cea2">rescale</a>();</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;}</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160; </div>
<div class="line"><a name="l02347"></a><span class="lineno"><a class="line" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#ae1050876f88abc067b87c2051e2a2258"> 2347</a></span>&#160;<a class="code" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#ac1a13d9050fb04d99a9adf699acd6f0e">ConstraintPointOnHyperbola::ConstraintPointOnHyperbola</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d5/d83/classGCS_1_1ArcOfHyperbola.html">ArcOfHyperbola</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>)</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;{</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.center.x);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.center.y);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.focus1.x);</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.focus1.y);</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.radmin);</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <a class="code" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a248e1a82a5874f48cff331c3de96cea2">rescale</a>();</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;}</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160; </div>
<div class="line"><a name="l02360"></a><span class="lineno"><a class="line" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#aeb08f7ed44e8b8163e7f844e01683133"> 2360</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#aeb08f7ed44e8b8163e7f844e01683133">ConstraintPointOnHyperbola::getTypeId</a>()</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;{</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a7137531ac5c8da0639ff7cbf538701f8">PointOnHyperbola</a>;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;}</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160; </div>
<div class="line"><a name="l02365"></a><span class="lineno"><a class="line" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a248e1a82a5874f48cff331c3de96cea2"> 2365</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a248e1a82a5874f48cff331c3de96cea2">ConstraintPointOnHyperbola::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;{</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;}</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160; </div>
<div class="line"><a name="l02370"></a><span class="lineno"><a class="line" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a4cb48fb548ed0ba65d5e5a67a799e06f"> 2370</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a4cb48fb548ed0ba65d5e5a67a799e06f">ConstraintPointOnHyperbola::error</a>()</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;{</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="keywordtype">double</span> X_0 = *p1x();</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <span class="keywordtype">double</span> Y_0 = *p1y();</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="keywordtype">double</span> X_c = *cx();</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="keywordtype">double</span> Y_c = *cy();</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <span class="keywordtype">double</span> X_F1 = *f1x();</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordtype">double</span> Y_F1 = *f1y();</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a> = *rmin();</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160; </div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <span class="comment">// Full sage worksheet at:</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="comment">// https://forum.freecad.org/viewtopic.php?f=10&amp;t=8038&amp;p=110447#p110447</span></div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="comment">// Err = |PF2| - |PF1| - 2*a</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <span class="comment">// sage code:</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="comment">// C = vector([X_c,Y_c])</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="comment">// F2 = C+(C-F1)</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <span class="comment">// X_F2 = F2[0]</span></div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="comment">// Y_F2 = F2[1]</span></div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <span class="comment">// a = sqrt((F1-C)*(F1-C)-b*b);</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="comment">// show(a)</span></div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="comment">// DM=sqrt((P-F2)*(P-F2))-sqrt((P-F1)*(P-F1))-2*a</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="comment">// show(DM.simplify_radical())</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordtype">double</span> err = -<a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;        + <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2))</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        - 2 * <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(-<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2));</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;}</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160; </div>
<div class="line"><a name="l02399"></a><span class="lineno"><a class="line" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a89bb402cd1de8a3971cab411b9373599"> 2399</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a89bb402cd1de8a3971cab411b9373599">ConstraintPointOnHyperbola::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;{</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == f1x() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == f1y() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == cx()</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;        || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == cy() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == rmin()) {</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160; </div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;        <span class="keywordtype">double</span> X_0 = *p1x();</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        <span class="keywordtype">double</span> Y_0 = *p1y();</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;        <span class="keywordtype">double</span> X_c = *cx();</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;        <span class="keywordtype">double</span> Y_c = *cy();</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        <span class="keywordtype">double</span> X_F1 = *f1x();</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        <span class="keywordtype">double</span> Y_F1 = *f1y();</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a> = *rmin();</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160; </div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1x()) {</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;            deriv += -(X_0 - X_F1) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;                + (X_0 + X_F1 - 2 * X_c)</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        }</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == p1y()) {</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;            deriv += -(Y_0 - Y_F1) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;                + (Y_0 + Y_F1 - 2 * Y_c)</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        }</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == f1x()) {</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;            deriv += (X_0 - X_F1) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;                - 2 * (X_F1 - X_c) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(-<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2))</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;                + (X_0 + X_F1 - 2 * X_c)</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;        }</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == f1y()) {</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;            deriv += (Y_0 - Y_F1) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 - X_F1, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 - Y_F1, 2))</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;                - 2 * (Y_F1 - Y_c) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(-<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2))</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;                + (Y_0 + Y_F1 - 2 * Y_c)</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;        }</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == cx()) {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;            deriv += 2 * (X_F1 - X_c) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(-<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2))</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                - 2 * (X_0 + X_F1 - 2 * X_c)</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;        }</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == cy()) {</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;            deriv += 2 * (Y_F1 - Y_c) / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(-<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2))</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;                - 2 * (Y_0 + Y_F1 - 2 * Y_c)</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                    / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_0 + X_F1 - 2 * X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_0 + Y_F1 - 2 * Y_c, 2));</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;        }</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == rmin()) {</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;            deriv += 2 * <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a> / <a class="code" href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">sqrt</a>(-<a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">b</a>, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(X_F1 - X_c, 2) + <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(Y_F1 - Y_c, 2));</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        }</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    }</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;}</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160; </div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160; </div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;<span class="comment">// ConstraintPointOnParabola</span></div>
<div class="line"><a name="l02455"></a><span class="lineno"><a class="line" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a147a026297d17110e5d09caaccbb5793"> 2455</a></span>&#160;<a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a147a026297d17110e5d09caaccbb5793">ConstraintPointOnParabola::ConstraintPointOnParabola</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d1/d23/classGCS_1_1Parabola.html">Parabola</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>)</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;{</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.x);</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.y);</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.PushOwnParams(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    this-&gt;parab = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.Copy();</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a8aba52de8bc7f13f45c70055af6ca4d7">rescale</a>();</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;}</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160; </div>
<div class="line"><a name="l02466"></a><span class="lineno"><a class="line" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#aca6bed455024c4c526085939039ddde3"> 2466</a></span>&#160;<a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a147a026297d17110e5d09caaccbb5793">ConstraintPointOnParabola::ConstraintPointOnParabola</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d3/d10/classGCS_1_1ArcOfParabola.html">ArcOfParabola</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>)</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;{</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.x);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p.y);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.PushOwnParams(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    this-&gt;parab = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>.Copy();</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a8aba52de8bc7f13f45c70055af6ca4d7">rescale</a>();</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;}</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"><a class="line" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a7f3cf94c28bb8f7a90392cc3c4f25042"> 2477</a></span>&#160;<a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a7f3cf94c28bb8f7a90392cc3c4f25042">ConstraintPointOnParabola::~ConstraintPointOnParabola</a>()</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;{</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="keyword">delete</span> this-&gt;parab;</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    this-&gt;parab = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;}</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;<span class="keywordtype">void</span> ConstraintPointOnParabola::ReconstructGeomPointers()</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;{</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    p.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[<a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>];</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    this-&gt;parab-&gt;<a class="code" href="../../d1/d23/classGCS_1_1Parabola.html#a1f048fc6f4ac8548e79b2d455897a705">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;}</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160; </div>
<div class="line"><a name="l02494"></a><span class="lineno"><a class="line" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a13400bfb23b2b006f8c2241e97b1e611"> 2494</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a13400bfb23b2b006f8c2241e97b1e611">ConstraintPointOnParabola::getTypeId</a>()</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;{</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ab2675e900469b5f1d1660cfe3a9da905">PointOnParabola</a>;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;}</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160; </div>
<div class="line"><a name="l02499"></a><span class="lineno"><a class="line" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a8aba52de8bc7f13f45c70055af6ca4d7"> 2499</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a8aba52de8bc7f13f45c70055af6ca4d7">ConstraintPointOnParabola::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;{</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;}</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160; </div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;<span class="keywordtype">void</span> ConstraintPointOnParabola::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;{</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    }</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160; </div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    DeriVector2 focus(this-&gt;parab-&gt;<a class="code" href="../../d1/d23/classGCS_1_1Parabola.html#a901f864d01bb665fe319b6c49bf2e065">focus1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    DeriVector2 vertex(this-&gt;parab-&gt;<a class="code" href="../../d1/d23/classGCS_1_1Parabola.html#af38a8dc5cc64d1b3e3f20b2bdd4f2251">vertex</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160; </div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    DeriVector2 <a class="code" href="../../d6/d45/namespaceupdateLeaderLines.html#aa848319c83203fb8ec8ac56d17585481">point</a>(this-&gt;p, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);  <span class="comment">// point to be constrained to parabola</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160; </div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    DeriVector2 focalvect = focus.subtr(vertex);</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160; </div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    DeriVector2 xdir = focalvect.getNormalized();</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160; </div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    DeriVector2 point_to_focus = <a class="code" href="../../d8/dbc/namespacepoint.html">point</a>.subtr(focus);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160; </div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keywordtype">double</span> focal, dfocal;</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160; </div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    focal = focalvect.length(dfocal);</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160; </div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="keywordtype">double</span> pf, dpf;</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160; </div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    pf = point_to_focus.length(dpf);</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160; </div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordtype">double</span> proj, dproj;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160; </div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    proj = point_to_focus.scalarProd(xdir, &amp;dproj);</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160; </div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        *err = pf - 2 * focal - proj;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    }</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a96d21e4c4b0b714f65ce845cc1d12e9e">grad</a>) {</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        *<a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a96d21e4c4b0b714f65ce845cc1d12e9e">grad</a> = dpf - 2 * dfocal - dproj;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    }</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;}</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160; </div>
<div class="line"><a name="l02541"></a><span class="lineno"><a class="line" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a4daf6553b2dd696eb134100fe4fbcb92"> 2541</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a4daf6553b2dd696eb134100fe4fbcb92">ConstraintPointOnParabola::error</a>()</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;{</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;}</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160; </div>
<div class="line"><a name="l02548"></a><span class="lineno"><a class="line" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a96d21e4c4b0b714f65ce845cc1d12e9e"> 2548</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a96d21e4c4b0b714f65ce845cc1d12e9e">ConstraintPointOnParabola::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;{</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    }</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160; </div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160; </div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;}</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160; </div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160; </div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;<span class="comment">// ConstraintAngleViaPoint</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"><a class="line" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#a98f4a82d1664c0bfee6cc91b07c51e4b"> 2564</a></span>&#160;<a class="code" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#a98f4a82d1664c0bfee6cc91b07c51e4b">ConstraintAngleViaPoint::ConstraintAngleViaPoint</a>(<a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; acrv1, <a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; acrv2, <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a> <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <span class="keywordtype">double</span>* angle)</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;{</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(angle);</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    acrv1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    acrv2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    crv1 = acrv1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    crv2 = acrv2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <a class="code" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ad72f28d1e02ca12fede4280de430ca5d">rescale</a>();</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;}</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"><a class="line" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ae50d728ea44d2749434c34989e7f8c38"> 2578</a></span>&#160;<a class="code" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ae50d728ea44d2749434c34989e7f8c38">ConstraintAngleViaPoint::~ConstraintAngleViaPoint</a>()</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;{</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="keyword">delete</span> crv1;</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    crv1 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <span class="keyword">delete</span> crv2;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    crv2 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;}</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160; </div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;<span class="keywordtype">void</span> ConstraintAngleViaPoint::ReconstructGeomPointers()</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;{</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    cnt++;  <span class="comment">// skip angle - we have an inline function for that</span></div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    poa.x = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    cnt++;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    poa.y = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    cnt++;</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;}</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160; </div>
<div class="line"><a name="l02599"></a><span class="lineno"><a class="line" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#a7dba9caf49055592aa476845ba4ee869"> 2599</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#a7dba9caf49055592aa476845ba4ee869">ConstraintAngleViaPoint::getTypeId</a>()</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;{</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a7217a4502a74d0435cec9d4a66f78c6d">AngleViaPoint</a>;</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;}</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160; </div>
<div class="line"><a name="l02604"></a><span class="lineno"><a class="line" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ad72f28d1e02ca12fede4280de430ca5d"> 2604</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ad72f28d1e02ca12fede4280de430ca5d">ConstraintAngleViaPoint::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;{</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;}</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; </div>
<div class="line"><a name="l02609"></a><span class="lineno"><a class="line" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#a4ebecfe7dd7bd8853dee7d5aa5ad96ae"> 2609</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#a4ebecfe7dd7bd8853dee7d5aa5ad96ae">ConstraintAngleViaPoint::error</a>()</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;{</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    }</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="keywordtype">double</span> ang = *angle();</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1 = crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa);</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n2 = crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa);</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160; </div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="comment">// rotate n1 by angle</span></div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1r(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(ang) - n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(ang), n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(ang) + n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(ang));</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160; </div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <span class="comment">// calculate angle between n1r and n2. Since we have rotated the n1, the angle is the error</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <span class="comment">// function. for our atan2, y is a dot product (n2) * (n1r rotated ccw by 90 degrees).</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <span class="comment">//                x is a dot product (n2) * (n1r)</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    <span class="keywordtype">double</span> err = <a class="code" href="../../d0/dbc/namespaceKDL.html#a18fd601f480771f35c7432404411824b">atan2</a>(-n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a>, n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a>);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <span class="comment">// essentially, the function is equivalent to atan2(n2)-(atan2(n1)+angle). The only difference</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <span class="comment">// is behavior when normals are zero (the intended result is also zero in this case).</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;}</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160; </div>
<div class="line"><a name="l02630"></a><span class="lineno"><a class="line" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ab22f1bcd280f7acf453b3edc1ec95657"> 2630</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ab22f1bcd280f7acf453b3edc1ec95657">ConstraintAngleViaPoint::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;{</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    }</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160; </div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160; </div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    }</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160; </div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == angle()) {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;        deriv += -1.0;</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    }</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1 = crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n2 = crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    deriv -= ((-n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a328a011f0d1e6a2589c9a1350bd5ebe1">dx</a>) * n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2) + n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#afa41881a084f86296760e67628559223">dy</a> * n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2));</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    deriv += ((-n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a328a011f0d1e6a2589c9a1350bd5ebe1">dx</a>) * n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2) + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#afa41881a084f86296760e67628559223">dy</a> * n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2));</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160; </div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;}</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160; </div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;<span class="comment">// ConstraintAngleViaTwoPoints</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"><a class="line" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a16cea4a4b9a6a238d80eb6a3c549945a"> 2656</a></span>&#160;<a class="code" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a16cea4a4b9a6a238d80eb6a3c549945a">ConstraintAngleViaTwoPoints::ConstraintAngleViaTwoPoints</a>(<a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; acrv1,</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                                                         <a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; acrv2,</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;                                                         <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a> p1,</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;                                                         <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a> p2,</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                                                         <span class="keywordtype">double</span>* angle)</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;{</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(angle);</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>);</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(p2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    acrv1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    acrv2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    crv1 = acrv1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    crv2 = acrv2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <a class="code" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#aee16b7fa6b0cdd0eef77ea27b914729a">rescale</a>();</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;}</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160; </div>
<div class="line"><a name="l02676"></a><span class="lineno"><a class="line" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a700aecd8d1467dbf71e19d95bbd3e510"> 2676</a></span>&#160;<a class="code" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a700aecd8d1467dbf71e19d95bbd3e510">ConstraintAngleViaTwoPoints::~ConstraintAngleViaTwoPoints</a>()</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;{</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    <span class="keyword">delete</span> crv1;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    crv1 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <span class="keyword">delete</span> crv2;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    crv2 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;}</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160; </div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;<span class="keywordtype">void</span> ConstraintAngleViaTwoPoints::ReconstructGeomPointers()</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;{</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    cnt++;  <span class="comment">// skip angle - we have an inline function for that</span></div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    poa1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    cnt++;</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    poa1.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    cnt++;</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    poa2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    cnt++;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    poa2.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    cnt++;</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;}</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160; </div>
<div class="line"><a name="l02701"></a><span class="lineno"><a class="line" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a90515a312e73d272e2546b6f282249b2"> 2701</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a90515a312e73d272e2546b6f282249b2">ConstraintAngleViaTwoPoints::getTypeId</a>()</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;{</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a3b9d2da4b22b8292e08b0fd7756f1b0d">AngleViaTwoPoints</a>;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;}</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160; </div>
<div class="line"><a name="l02706"></a><span class="lineno"><a class="line" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#aee16b7fa6b0cdd0eef77ea27b914729a"> 2706</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#aee16b7fa6b0cdd0eef77ea27b914729a">ConstraintAngleViaTwoPoints::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;{</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;}</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160; </div>
<div class="line"><a name="l02711"></a><span class="lineno"><a class="line" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a3632e4f2a5a2f8c2da3a4a0f5c718a7b"> 2711</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a3632e4f2a5a2f8c2da3a4a0f5c718a7b">ConstraintAngleViaTwoPoints::error</a>()</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;{</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    }</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keywordtype">double</span> ang = *angle();</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1 = crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa1);</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n2 = crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa2);</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160; </div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    <span class="comment">// rotate n1 by angle</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1r(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(ang) - n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(ang), n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(ang) + n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(ang));</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160; </div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="comment">// calculate angle between n1r and n2. Since we have rotated the n1, the angle is the error</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="comment">// function. for our atan2, y is a dot product (n2) * (n1r rotated ccw by 90 degrees).</span></div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    <span class="comment">//                x is a dot product (n2) * (n1r)</span></div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    <span class="keywordtype">double</span> err = <a class="code" href="../../d0/dbc/namespaceKDL.html#a18fd601f480771f35c7432404411824b">atan2</a>(-n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a>, n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a>);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    <span class="comment">// essentially, the function is equivalent to atan2(n2)-(atan2(n1)+angle). The only difference</span></div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    <span class="comment">// is behavior when normals are zero (the intended result is also zero in this case).</span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;}</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160; </div>
<div class="line"><a name="l02732"></a><span class="lineno"><a class="line" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a6e9f6e7f787ea144afc74fe6652eb6ca"> 2732</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a6e9f6e7f787ea144afc74fe6652eb6ca">ConstraintAngleViaTwoPoints::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;{</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    }</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160; </div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160; </div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    }</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == angle()) {</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;        deriv += -1.0;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    }</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1 = crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa1, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n2 = crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa2, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    deriv -= ((-n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a328a011f0d1e6a2589c9a1350bd5ebe1">dx</a>) * n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2) + n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#afa41881a084f86296760e67628559223">dy</a> * n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2));</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    deriv += ((-n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a328a011f0d1e6a2589c9a1350bd5ebe1">dx</a>) * n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2) + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#afa41881a084f86296760e67628559223">dy</a> * n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2));</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160; </div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;}</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160; </div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;<span class="comment">// ConstraintAngleViaPointAndParam</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"><a class="line" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#a31dca161f603afb9ab663cdca1087792"> 2758</a></span>&#160;<a class="code" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#a31dca161f603afb9ab663cdca1087792">ConstraintAngleViaPointAndParam::ConstraintAngleViaPointAndParam</a>(<a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; acrv1,</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;                                                                 <a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; acrv2,</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;                                                                 <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a> <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>,</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;                                                                 <span class="keywordtype">double</span>* cparam,</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                                                                 <span class="keywordtype">double</span>* angle)</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;{</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(angle);</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(cparam);</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    acrv1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    acrv2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    crv1 = acrv1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    crv2 = acrv2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <a class="code" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#aa1821be37d734b7f834a2a34999af336">rescale</a>();</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;}</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160; </div>
<div class="line"><a name="l02777"></a><span class="lineno"><a class="line" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#aafd18889ac2cdc28cb1639f0ccf06806"> 2777</a></span>&#160;<a class="code" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#aafd18889ac2cdc28cb1639f0ccf06806">ConstraintAngleViaPointAndParam::~ConstraintAngleViaPointAndParam</a>()</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;{</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keyword">delete</span> crv1;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    crv1 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    <span class="keyword">delete</span> crv2;</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    crv2 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;}</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160; </div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;<span class="keywordtype">void</span> ConstraintAngleViaPointAndParam::ReconstructGeomPointers()</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;{</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    cnt++;  <span class="comment">// skip angle - we have an inline function for that</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    poa.x = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    cnt++;</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    poa.y = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    cnt++;</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    cnt++;  <span class="comment">// skip cparam</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;}</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160; </div>
<div class="line"><a name="l02799"></a><span class="lineno"><a class="line" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#a4716999171df6a3a9764b63b487b4a98"> 2799</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#a4716999171df6a3a9764b63b487b4a98">ConstraintAngleViaPointAndParam::getTypeId</a>()</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;{</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ae386757cf2f4003461c41d24b9dd174a">AngleViaPointAndParam</a>;</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;}</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160; </div>
<div class="line"><a name="l02804"></a><span class="lineno"><a class="line" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#aa1821be37d734b7f834a2a34999af336"> 2804</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#aa1821be37d734b7f834a2a34999af336">ConstraintAngleViaPointAndParam::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;{</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;}</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160; </div>
<div class="line"><a name="l02809"></a><span class="lineno"><a class="line" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#a5ce7b306cd67c3eb6e21ff7497e7b74b"> 2809</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#a5ce7b306cd67c3eb6e21ff7497e7b74b">ConstraintAngleViaPointAndParam::error</a>()</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;{</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    }</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;    <span class="keywordtype">double</span> ang = *angle();</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1 = crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(cparam());</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n2 = crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa);</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160; </div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <span class="comment">// rotate n1 by angle</span></div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1r(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(ang) - n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(ang), n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(ang) + n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(ang));</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160; </div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <span class="comment">// calculate angle between n1r and n2. Since we have rotated the n1, the angle is the error</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="comment">// function. for our atan2, y is a dot product (n2) * (n1r rotated ccw by 90 degrees).</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="comment">//                x is a dot product (n2) * (n1r)</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    <span class="keywordtype">double</span> err = <a class="code" href="../../d0/dbc/namespaceKDL.html#a18fd601f480771f35c7432404411824b">atan2</a>(-n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a>, n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a>);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <span class="comment">// essentially, the function is equivalent to atan2(n2)-(atan2(n1)+angle). The only difference</span></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    <span class="comment">// is behavior when normals are zero (the intended result is also zero in this case).</span></div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;}</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160; </div>
<div class="line"><a name="l02830"></a><span class="lineno"><a class="line" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#ac1f7bee7d42d94ae057beee4eed09d54"> 2830</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#ac1f7bee7d42d94ae057beee4eed09d54">ConstraintAngleViaPointAndParam::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;{</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160; </div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160; </div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    }</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160; </div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == angle()) {</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;        deriv += -1.0;</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    }</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1 = crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(cparam(), <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n2 = crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    deriv -= ((-n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a328a011f0d1e6a2589c9a1350bd5ebe1">dx</a>) * n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2) + n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#afa41881a084f86296760e67628559223">dy</a> * n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2));</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    deriv += ((-n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a328a011f0d1e6a2589c9a1350bd5ebe1">dx</a>) * n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2) + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#afa41881a084f86296760e67628559223">dy</a> * n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2));</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; </div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;}</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160; </div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="comment">// ConstraintAngleViaPointAndTwoParams</span></div>
<div class="line"><a name="l02856"></a><span class="lineno"><a class="line" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#aca47b43334b61a3b03ba27510c439d3e"> 2856</a></span>&#160;<a class="code" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#aca47b43334b61a3b03ba27510c439d3e">ConstraintAngleViaPointAndTwoParams::ConstraintAngleViaPointAndTwoParams</a>(<a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; acrv1,</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;                                                                         <a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; acrv2,</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;                                                                         <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a> <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>,</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;                                                                         <span class="keywordtype">double</span>* cparam1,</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;                                                                         <span class="keywordtype">double</span>* cparam2,</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;                                                                         <span class="keywordtype">double</span>* angle)</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;{</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(angle);</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(cparam1);</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(cparam2);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    acrv1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    acrv2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    crv1 = acrv1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    crv2 = acrv2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;    <a class="code" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a986d2defac5cef7f9693760b245e7044">rescale</a>();</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;}</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160; </div>
<div class="line"><a name="l02877"></a><span class="lineno"><a class="line" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a7f5a94e9a40cd3b21055ebe1a301ed75"> 2877</a></span>&#160;<a class="code" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a7f5a94e9a40cd3b21055ebe1a301ed75">ConstraintAngleViaPointAndTwoParams::~ConstraintAngleViaPointAndTwoParams</a>()</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;{</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <span class="keyword">delete</span> crv1;</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    crv1 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    <span class="keyword">delete</span> crv2;</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    crv2 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;}</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160; </div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;<span class="keywordtype">void</span> ConstraintAngleViaPointAndTwoParams::ReconstructGeomPointers()</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;{</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    cnt++;  <span class="comment">// skip angle - we have an inline function for that</span></div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    poa.x = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    cnt++;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    poa.y = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    cnt++;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    cnt++;  <span class="comment">// skip cparam1 - we have an inline function for that</span></div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;    cnt++;  <span class="comment">// skip cparam2 - we have an inline function for that</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;}</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160; </div>
<div class="line"><a name="l02900"></a><span class="lineno"><a class="line" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#ab6cbe0a7b228d7ddc47378cb08e35e73"> 2900</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#ab6cbe0a7b228d7ddc47378cb08e35e73">ConstraintAngleViaPointAndTwoParams::getTypeId</a>()</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;{</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ab8c3a54ead5b7d6e82975251df6ff14b">AngleViaPointAndTwoParams</a>;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;}</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160; </div>
<div class="line"><a name="l02905"></a><span class="lineno"><a class="line" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a986d2defac5cef7f9693760b245e7044"> 2905</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a986d2defac5cef7f9693760b245e7044">ConstraintAngleViaPointAndTwoParams::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;{</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;}</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160; </div>
<div class="line"><a name="l02910"></a><span class="lineno"><a class="line" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#ac8384d615068f6b9a21fc163241497a9"> 2910</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#ac8384d615068f6b9a21fc163241497a9">ConstraintAngleViaPointAndTwoParams::error</a>()</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;{</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    }</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <span class="keywordtype">double</span> ang = *angle();</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1 = crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(cparam1());</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n2 = crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(cparam2());</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160; </div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <span class="comment">// rotate n1 by angle</span></div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1r(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(ang) - n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(ang), n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">sin</a>(ang) + n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * <a class="code" href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">cos</a>(ang));</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <span class="comment">// calculate angle between n1r and n2. Since we have rotated the n1, the angle is the error</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    <span class="comment">// function. for our atan2, y is a dot product (n2) * (n1r rotated ccw by 90 degrees).</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    <span class="comment">//                x is a dot product (n2) * (n1r)</span></div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;    <span class="keywordtype">double</span> err = <a class="code" href="../../d0/dbc/namespaceKDL.html#a18fd601f480771f35c7432404411824b">atan2</a>(-n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a>, n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> * n1r.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a>);</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="comment">// essentially, the function is equivalent to atan2(n2)-(atan2(n1)+angle). The only difference</span></div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <span class="comment">// is behavior when normals are zero (the intended result is also zero in this case).</span></div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;}</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160; </div>
<div class="line"><a name="l02931"></a><span class="lineno"><a class="line" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a1815fb9cf26666a3f2c27c8e07493beb"> 2931</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a1815fb9cf26666a3f2c27c8e07493beb">ConstraintAngleViaPointAndTwoParams::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;{</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    }</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160; </div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <span class="keywordtype">double</span> deriv = 0.;</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160; </div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    }</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160; </div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == angle()) {</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;        deriv += -1.0;</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    }</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n1 = crv1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(cparam1(), <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html">DeriVector2</a> n2 = crv2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(cparam2(), <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    deriv -= ((-n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a328a011f0d1e6a2589c9a1350bd5ebe1">dx</a>) * n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2) + n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#afa41881a084f86296760e67628559223">dy</a> * n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2));</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    deriv += ((-n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a328a011f0d1e6a2589c9a1350bd5ebe1">dx</a>) * n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">y</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2) + n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#afa41881a084f86296760e67628559223">dy</a> * n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">x</a> / <a class="code" href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">pow</a>(n2.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">length</a>(), 2));</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160; </div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;}</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160; </div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160; </div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;<span class="comment">// ConstraintSnell</span></div>
<div class="line"><a name="l02958"></a><span class="lineno"><a class="line" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a722e6b5cbde9dd737db9568b56a0ba17"> 2958</a></span>&#160;<a class="code" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a722e6b5cbde9dd737db9568b56a0ba17">ConstraintSnell::ConstraintSnell</a>(<a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; ray1,</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;                                 <a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; ray2,</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                                 <a class="code" href="../../d5/d14/classGCS_1_1Curve.html">Curve</a>&amp; boundary,</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                                 <a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a> <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>,</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;                                 <span class="keywordtype">double</span>* n1,</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;                                 <span class="keywordtype">double</span>* n2,</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                                 <span class="keywordtype">bool</span> flipn1,</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                                 <span class="keywordtype">bool</span> flipn2)</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;{</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(n1);</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(n2);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.x);</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>.y);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    ray1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    ray2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    boundary.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;    this-&gt;ray1 = ray1.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    this-&gt;ray2 = ray2.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    this-&gt;boundary = boundary.<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">Copy</a>();</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160; </div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    this-&gt;flipn1 = flipn1;</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    this-&gt;flipn2 = flipn2;</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160; </div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <a class="code" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a9201949104e5969d042135d7fe4230e1">rescale</a>();</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;}</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160; </div>
<div class="line"><a name="l02986"></a><span class="lineno"><a class="line" href="../../de/d26/classGCS_1_1ConstraintSnell.html#af3ec61403d911cbc03bb338e3da14eac"> 2986</a></span>&#160;<a class="code" href="../../de/d26/classGCS_1_1ConstraintSnell.html#af3ec61403d911cbc03bb338e3da14eac">ConstraintSnell::~ConstraintSnell</a>()</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;{</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <span class="keyword">delete</span> ray1;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    ray1 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <span class="keyword">delete</span> ray2;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;    ray2 = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    <span class="keyword">delete</span> boundary;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    boundary = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;}</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160; </div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;<span class="keywordtype">void</span> ConstraintSnell::ReconstructGeomPointers()</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;{</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    cnt++;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    cnt++;  <span class="comment">// skip n1, n2 - we have an inline function for that</span></div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    poa.x = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    cnt++;</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    poa.y = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>[cnt];</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    cnt++;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    ray1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    ray2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    boundary-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, cnt);</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;}</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160; </div>
<div class="line"><a name="l03011"></a><span class="lineno"><a class="line" href="../../de/d26/classGCS_1_1ConstraintSnell.html#ab0f723e3d51f771f567e05b17df1c8fc"> 3011</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../de/d26/classGCS_1_1ConstraintSnell.html#ab0f723e3d51f771f567e05b17df1c8fc">ConstraintSnell::getTypeId</a>()</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;{</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924abe20f7160ea1114eed7fcab18c062735">Snell</a>;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;}</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160; </div>
<div class="line"><a name="l03016"></a><span class="lineno"><a class="line" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a9201949104e5969d042135d7fe4230e1"> 3016</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a9201949104e5969d042135d7fe4230e1">ConstraintSnell::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;{</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1.;</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;}</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160; </div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;<span class="comment">// error and gradient combined. Values are returned through pointers.</span></div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;<span class="keywordtype">void</span> ConstraintSnell::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;{</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    }</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    DeriVector2 tang1 = ray1-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>).<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a541397c13e60c7aeb1f6493c4bd2d6af">rotate90cw</a>().<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#abcc08d3fb665e62533eacb6f89256421">getNormalized</a>();</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    DeriVector2 tang2 = ray2-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>).<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a541397c13e60c7aeb1f6493c4bd2d6af">rotate90cw</a>().<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#abcc08d3fb665e62533eacb6f89256421">getNormalized</a>();</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    DeriVector2 tangB = boundary-&gt;<a class="code" href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">CalculateNormal</a>(poa, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>).<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a541397c13e60c7aeb1f6493c4bd2d6af">rotate90cw</a>().<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#abcc08d3fb665e62533eacb6f89256421">getNormalized</a>();</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <span class="keywordtype">double</span> sin1, dsin1, sin2, dsin2;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    sin1 = tang1.<a class="code" href="../../d7/dc6/classGCS_1_1DeriVector2.html#a5d980143d1bb1f55e4cd457c9c1354e9">scalarProd</a>(tangB, &amp;dsin1);  <span class="comment">// sinus of angle of incidence</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;    sin2 = tang2.scalarProd(tangB, &amp;dsin2);</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    <span class="keywordflow">if</span> (flipn1) {</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;        sin1 = -sin1;</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;        dsin1 = -dsin1;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    }</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <span class="keywordflow">if</span> (flipn2) {</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;        sin2 = -sin2;</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;        dsin2 = -dsin2;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    }</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160; </div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="keywordtype">double</span> dn1 = (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == n1()) ? 1.0 : 0.0;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <span class="keywordtype">double</span> dn2 = (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == n2()) ? 1.0 : 0.0;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;        *err = *n1() * sin1 - *n2() * sin2;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    }</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a817d1174083a630d72f2b05bd4528b19">grad</a>) {</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;        *<a class="code" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a817d1174083a630d72f2b05bd4528b19">grad</a> = dn1 * sin1 + *n1() * dsin1 - dn2 * sin2 - *n2() * dsin2;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    }</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;}</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160; </div>
<div class="line"><a name="l03052"></a><span class="lineno"><a class="line" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a8ca22e30580ce269917397dde86bbb41"> 3052</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a8ca22e30580ce269917397dde86bbb41">ConstraintSnell::error</a>()</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;{</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;}</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160; </div>
<div class="line"><a name="l03059"></a><span class="lineno"><a class="line" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a817d1174083a630d72f2b05bd4528b19"> 3059</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../de/d26/classGCS_1_1ConstraintSnell.html#a817d1174083a630d72f2b05bd4528b19">ConstraintSnell::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;{</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    <span class="comment">// first of all, check that we need to compute anything.</span></div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    }</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160; </div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160; </div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * deriv;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;}</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160; </div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160; </div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;<span class="comment">// ConstraintEqualLineLength</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"><a class="line" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#ae161c2b5506907b50cbea229ed09ad7b"> 3075</a></span>&#160;<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#ae161c2b5506907b50cbea229ed09ad7b">ConstraintEqualLineLength::ConstraintEqualLineLength</a>(<a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">l1</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">l2</a>)</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;{</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    this-&gt;l1 = l1;</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    this-&gt;l1.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#a67bf7bc2feb397c67825847b2240ee1e">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160; </div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    this-&gt;l2 = l2;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    this-&gt;l2.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#a67bf7bc2feb397c67825847b2240ee1e">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    <a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a4f80d35b60dfa0ecd2a1fc67d9b07bd9">rescale</a>();</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;}</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160; </div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;<span class="keywordtype">void</span> ConstraintEqualLineLength::ReconstructGeomPointers()</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;{</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    l1.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#a7f397d0f8283c64eecc17c600f304f98">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    l2.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#a7f397d0f8283c64eecc17c600f304f98">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;}</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160; </div>
<div class="line"><a name="l03095"></a><span class="lineno"><a class="line" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a3aadc5a012dd53dca1bca90cecbdae15"> 3095</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a3aadc5a012dd53dca1bca90cecbdae15">ConstraintEqualLineLength::getTypeId</a>()</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;{</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a5678703f01dc659e8015d8c153f5b9a4">EqualLineLength</a>;</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;}</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160; </div>
<div class="line"><a name="l03100"></a><span class="lineno"><a class="line" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a4f80d35b60dfa0ecd2a1fc67d9b07bd9"> 3100</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a4f80d35b60dfa0ecd2a1fc67d9b07bd9">ConstraintEqualLineLength::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;{</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;}</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160; </div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;<span class="keywordtype">void</span> ConstraintEqualLineLength::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;{</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    }</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160; </div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    DeriVector2 p1(l1.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">p1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    DeriVector2 p2(l1.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ad63e2c32a7a115e674d8d5a206f945fc">p2</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    DeriVector2 p3(l2.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">p1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    DeriVector2 p4(l2.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ad63e2c32a7a115e674d8d5a206f945fc">p2</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160; </div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    DeriVector2 <a class="code" href="../../d9/dfd/group__draftgeoutils.html#ga07ad5262ee7b26511c5c3592f2681804">v1</a> = p1.subtr(p2);</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    DeriVector2 v2 = p3.subtr(p4);</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160; </div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="keywordtype">double</span> length1, dlength1;</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    length1 = <a class="code" href="../../d9/dfd/group__draftgeoutils.html#ga07ad5262ee7b26511c5c3592f2681804">v1</a>.length(dlength1);</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160; </div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="keywordtype">double</span> length2, dlength2;</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    length2 = v2.length(dlength2);</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160; </div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        *err = length2 - length1;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    }</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160; </div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a>) {</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;        *<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a> = dlength2 - dlength1;</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;        <span class="comment">// if the one of the lines gets vertical or horizontal, the gradients will become zero. this</span></div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;        <span class="comment">// will affect the diagnose function and the detection of dependent/independent parameters.</span></div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;        <span class="comment">// So here we maintain the very small derivative of 1e-10 when the gradient is under such</span></div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;        <span class="comment">// value, such that the diagnose function with pivot threshold of 1e-13 treats the value as</span></div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;        <span class="comment">// non-zero and correctly detects and can tell apart when a parameter is fully constrained</span></div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;        <span class="comment">// or just locked into a maximum/minimum</span></div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;        <span class="keywordflow">if</span> (fabs(*<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a>) &lt; 1<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>-10) {</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;            <span class="keywordtype">double</span> surrogate = 1<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>-10;</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">p1</a>.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>) {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;                *<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a> = <a class="code" href="../../d9/dfd/group__draftgeoutils.html#ga07ad5262ee7b26511c5c3592f2681804">v1</a>.x &gt; 0 ? surrogate : -surrogate;</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;            }</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">p1</a>.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>) {</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                *<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a> = <a class="code" href="../../d9/dfd/group__draftgeoutils.html#ga07ad5262ee7b26511c5c3592f2681804">v1</a>.y &gt; 0 ? surrogate : -surrogate;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;            }</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ad63e2c32a7a115e674d8d5a206f945fc">p2</a>.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>) {</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;                *<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a> = <a class="code" href="../../d9/dfd/group__draftgeoutils.html#ga07ad5262ee7b26511c5c3592f2681804">v1</a>.x &gt; 0 ? -surrogate : surrogate;</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;            }</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l1.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ad63e2c32a7a115e674d8d5a206f945fc">p2</a>.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>) {</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                *<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a> = <a class="code" href="../../d9/dfd/group__draftgeoutils.html#ga07ad5262ee7b26511c5c3592f2681804">v1</a>.y &gt; 0 ? -surrogate : surrogate;</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;            }</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">p1</a>.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>) {</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;                *<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a> = v2.x &gt; 0 ? surrogate : -surrogate;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;            }</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">p1</a>.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>) {</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                *<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a> = v2.y &gt; 0 ? surrogate : -surrogate;</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;            }</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ad63e2c32a7a115e674d8d5a206f945fc">p2</a>.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">x</a>) {</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                *<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a> = v2.x &gt; 0 ? -surrogate : surrogate;</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;            }</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == l2.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ad63e2c32a7a115e674d8d5a206f945fc">p2</a>.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">y</a>) {</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;                *<a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">grad</a> = v2.y &gt; 0 ? -surrogate : surrogate;</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;            }</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;        }</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;    }</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;}</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160; </div>
<div class="line"><a name="l03168"></a><span class="lineno"><a class="line" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#ae2398bb742252933bc1f8c9236001c3c"> 3168</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#ae2398bb742252933bc1f8c9236001c3c">ConstraintEqualLineLength::error</a>()</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;{</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;}</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160; </div>
<div class="line"><a name="l03175"></a><span class="lineno"><a class="line" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23"> 3175</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">ConstraintEqualLineLength::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;{</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    }</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160; </div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160; </div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;}</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160; </div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160; </div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;<span class="comment">// ConstraintC2CDistance</span></div>
<div class="line"><a name="l03190"></a><span class="lineno"><a class="line" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a82401931c67eb49c8ac42682008f2ff5"> 3190</a></span>&#160;<a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a82401931c67eb49c8ac42682008f2ff5">ConstraintC2CDistance::ConstraintC2CDistance</a>(<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html">Circle</a>&amp; <a class="code" href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a038eaef2520def74d52dd4a899ab23e9">c1</a>, <a class="code" href="../../d4/ddf/classGCS_1_1Circle.html">Circle</a>&amp; c2, <span class="keywordtype">double</span>* d)</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;{</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    this-&gt;d = d;</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(d);</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160; </div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    this-&gt;c1 = c1;</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    this-&gt;c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#a833e653c2de722ca9e505d620781e3d5">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160; </div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    this-&gt;c2 = c2;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    this-&gt;c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#a833e653c2de722ca9e505d620781e3d5">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160; </div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    <a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a2f1d7a591cc1ac17c7f8368cf6b7570b">rescale</a>();</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;}</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160; </div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<span class="keywordtype">void</span> ConstraintC2CDistance::ReconstructGeomPointers()</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;{</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;  <span class="comment">// skip the first parameter as there is the inline function distance for it</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#a4b10e2f83a1d5f66686ea425bb50dcee">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#a4b10e2f83a1d5f66686ea425bb50dcee">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;}</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160; </div>
<div class="line"><a name="l03215"></a><span class="lineno"><a class="line" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a160658e04db61e50369ec76be75c8270"> 3215</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a160658e04db61e50369ec76be75c8270">ConstraintC2CDistance::getTypeId</a>()</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;{</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a5b55ef131a3d4092cb1e753bb1b7fcda">C2CDistance</a>;</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;}</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160; </div>
<div class="line"><a name="l03220"></a><span class="lineno"><a class="line" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a2f1d7a591cc1ac17c7f8368cf6b7570b"> 3220</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a2f1d7a591cc1ac17c7f8368cf6b7570b">ConstraintC2CDistance::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;{</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef * 1;</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;}</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160; </div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;<span class="keywordtype">void</span> ConstraintC2CDistance::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;{</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    }</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160; </div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    DeriVector2 ct1(c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#a30e1d3f00ba6853557dd7bb04b53e99d">center</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    DeriVector2 ct2(c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#a30e1d3f00ba6853557dd7bb04b53e99d">center</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160; </div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    DeriVector2 vector_ct12 = ct1.subtr(ct2);</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160; </div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordtype">double</span> length_ct12, dlength_ct12;</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;    length_ct12 = vector_ct12.length(dlength_ct12);</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160; </div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    <span class="comment">// outer case (defined as the centers of the circles are outside the center of the other</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <span class="comment">// circles) it may well be that the circles intersect.</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <span class="keywordflow">if</span> (length_ct12 &gt;= *c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> &amp;&amp; length_ct12 &gt;= *c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a>) {</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;            *err = length_ct12 - (*c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> + *c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> + *distance());</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;        }</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#ad982c2cc92dedfc0007d23630dbc0ead">grad</a>) {</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;            <span class="keywordtype">double</span> drad = (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == distance()) ? -1.0 : 0.0;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;            *<a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#ad982c2cc92dedfc0007d23630dbc0ead">grad</a> = dlength_ct12 + drad;</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;        }</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    }</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;        <span class="keywordtype">double</span>* bigradius = (*c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> &gt;= *c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a>) ? c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> : c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a>;</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        <span class="keywordtype">double</span>* smallradius = (*c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> &gt;= *c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a>) ? c2.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> : c1.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a>;</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160; </div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;        <span class="keywordtype">double</span> smallspan = *smallradius + length_ct12 + *distance();</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160; </div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;            *err = *bigradius - smallspan;</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;        }</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#ad982c2cc92dedfc0007d23630dbc0ead">grad</a>) {</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;            <span class="keywordtype">double</span> drad = 0.0;</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160; </div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == bigradius) {</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;                drad = 1.0;</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;            }</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == smallradius) {</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                drad = -1.0;</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;            }</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == distance()) {</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;                drad = (*distance() &lt; 0.) ? 1.0 : -1.0;</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;            }</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;            <span class="keywordflow">if</span> (length_ct12 &gt; 1<a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">e</a>-13) {</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                *<a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#ad982c2cc92dedfc0007d23630dbc0ead">grad</a> = -dlength_ct12 + drad;</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            }</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;            <span class="keywordflow">else</span> {  <span class="comment">// concentric case</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;                *<a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#ad982c2cc92dedfc0007d23630dbc0ead">grad</a> = drad;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            }</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;        }</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;    }</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;}</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160; </div>
<div class="line"><a name="l03281"></a><span class="lineno"><a class="line" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a10579279a68388441068a6b5ef693d57"> 3281</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a10579279a68388441068a6b5ef693d57">ConstraintC2CDistance::error</a>()</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;{</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;}</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160; </div>
<div class="line"><a name="l03288"></a><span class="lineno"><a class="line" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#ad982c2cc92dedfc0007d23630dbc0ead"> 3288</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#ad982c2cc92dedfc0007d23630dbc0ead">ConstraintC2CDistance::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;{</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    }</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160; </div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160; </div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;}</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160; </div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;<span class="comment">// ConstraintC2LDistance</span></div>
<div class="line"><a name="l03302"></a><span class="lineno"><a class="line" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#ad7c691540d4a9c54340884ea6ea361d6"> 3302</a></span>&#160;<a class="code" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#ad7c691540d4a9c54340884ea6ea361d6">ConstraintC2LDistance::ConstraintC2LDistance</a>(<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html">Circle</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>, <a class="code" href="../../d6/d00/classGCS_1_1Line.html">Line</a>&amp; <a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>, <span class="keywordtype">double</span>* d)</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;{</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    this-&gt;d = d;</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(d);</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160; </div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    this-&gt;<a class="code" href="../../d0/d79/namespacecircle.html">circle</a> = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    this-&gt;<a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.PushOwnParams(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160; </div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    this-&gt;line = <a class="code" href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">l</a>;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;    this-&gt;line.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#a67bf7bc2feb397c67825847b2240ee1e">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160; </div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    <a class="code" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a4b116714f78a35ac96eaa61031ddf4ce">rescale</a>();</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;}</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160; </div>
<div class="line"><a name="l03318"></a><span class="lineno"><a class="line" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a890637d9404c4b920cb42c8f312959b2"> 3318</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a890637d9404c4b920cb42c8f312959b2">ConstraintC2LDistance::getTypeId</a>()</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;{</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924adfcc04ad511cd15305a5c0a5c850c99c">C2LDistance</a>;</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;}</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160; </div>
<div class="line"><a name="l03323"></a><span class="lineno"><a class="line" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a4b116714f78a35ac96eaa61031ddf4ce"> 3323</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a4b116714f78a35ac96eaa61031ddf4ce">ConstraintC2LDistance::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;{</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef;</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;}</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160; </div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;<span class="keywordtype">void</span> ConstraintC2LDistance::ReconstructGeomPointers()</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;{</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;  <span class="comment">// skip the first parameter as there is the inline function distance for it</span></div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.ReconstructOnNewPvec(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    line.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#a7f397d0f8283c64eecc17c600f304f98">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;}</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160; </div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;<span class="keywordtype">void</span> ConstraintC2LDistance::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;{</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    }</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160; </div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;    DeriVector2 ct(<a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.center, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    DeriVector2 p1(line.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">p1</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;    DeriVector2 p2(line.<a class="code" href="../../d6/d00/classGCS_1_1Line.html#ad63e2c32a7a115e674d8d5a206f945fc">p2</a>, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    DeriVector2 v_line = p2.subtr(p1);</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    DeriVector2 v_p1ct = ct.subtr(p1);</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160; </div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    <span class="comment">// center to line distance (=h) and its derivative (=dh)</span></div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;    <span class="keywordtype">double</span> darea = 0.0;</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <span class="keywordtype">double</span> area = v_line.crossProdNorm(v_p1ct, darea);  <span class="comment">// parallelogram oriented area</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160; </div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    <span class="keywordtype">double</span> dlength;</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../df/d14/namespacePartDesign.html#a67cbbd64c2a2c0d7a436b41048d70089a2fa47f7c65fec19cc163b195725e3844">length</a> = v_line.length(dlength);</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160; </div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    <span class="comment">// vector product (cross vector) has a magnitude corresponding to the area of</span></div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    <span class="comment">// the parallelogram defined by the vectors above. The area of the triangle is</span></div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <span class="comment">// half the parallelogram area. The height of the triangle is the area divided by</span></div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    <span class="comment">// the base, which is the distance from the center of the circle to the line.</span></div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    <span class="comment">// However, the vector (which points in z direction), can be positive or negative.</span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;    <span class="comment">// the area is the absolute value</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;    <span class="keywordtype">double</span> h = <a class="code" href="../../d0/dbc/namespaceKDL.html#a02b43d75a30870d9bac78a36a10b00e7">std::abs</a>(area) / <a class="code" href="../../df/d14/namespacePartDesign.html#a67cbbd64c2a2c0d7a436b41048d70089a2fa47f7c65fec19cc163b195725e3844">length</a>;</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160; </div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    <span class="comment">// darea is the magnitude of a vector in the z direction, which makes the area vector</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;    <span class="comment">// increase or decrease. If area vector is negative a negative value makes the area increase</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    <span class="comment">// and a positive value makes it decrease.</span></div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    darea = std::signbit(area) ? -darea : darea;</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160; </div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    <span class="keywordtype">double</span> dh = (darea - h * dlength) / length;</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160; </div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;        *err = *distance() + *<a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.rad - h;</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;    }</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a64d295887cf4767f8b54596d7af8c805">grad</a>) {</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == distance() || <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == <a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.rad) {</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;            *<a class="code" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a64d295887cf4767f8b54596d7af8c805">grad</a> = 1.0;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;        }</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;            *<a class="code" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a64d295887cf4767f8b54596d7af8c805">grad</a> = -dh;</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        }</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    }</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;}</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160; </div>
<div class="line"><a name="l03385"></a><span class="lineno"><a class="line" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a0423fdbe60f296a522ea362b7d064870"> 3385</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a0423fdbe60f296a522ea362b7d064870">ConstraintC2LDistance::error</a>()</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;{</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;}</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160; </div>
<div class="line"><a name="l03392"></a><span class="lineno"><a class="line" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a64d295887cf4767f8b54596d7af8c805"> 3392</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a64d295887cf4767f8b54596d7af8c805">ConstraintC2LDistance::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;{</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    }</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160; </div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160; </div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;}</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160; </div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;<span class="comment">// ConstraintP2CDistance</span></div>
<div class="line"><a name="l03406"></a><span class="lineno"><a class="line" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#a03cd024d95b4e2bf694ecf611bc88c6d"> 3406</a></span>&#160;<a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#a03cd024d95b4e2bf694ecf611bc88c6d">ConstraintP2CDistance::ConstraintP2CDistance</a>(<a class="code" href="../../d7/de8/classGCS_1_1Point.html">Point</a>&amp; <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>, <a class="code" href="../../d4/ddf/classGCS_1_1Circle.html">Circle</a>&amp; <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>, <span class="keywordtype">double</span>* d)</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;{</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;    this-&gt;d = d;</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(d);</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160; </div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    this-&gt;<a class="code" href="../../d0/d79/namespacecircle.html">circle</a> = <a class="code" href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">c</a>;</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    this-&gt;<a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.PushOwnParams(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160; </div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    this-&gt;pt = <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>;</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    this-&gt;pt.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a555828810e99fa100ca1c2a8488ca451">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160; </div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    <a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#abca56bfd166a0e4f0e077da41bf664bb">rescale</a>();</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;}</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160; </div>
<div class="line"><a name="l03422"></a><span class="lineno"><a class="line" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#a3fdf4831a5c14f51fa55d8795dbfd333"> 3422</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#a3fdf4831a5c14f51fa55d8795dbfd333">ConstraintP2CDistance::getTypeId</a>()</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;{</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ad322a7af799b97c553a993974a2ffce2">P2CDistance</a>;</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;}</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160; </div>
<div class="line"><a name="l03427"></a><span class="lineno"><a class="line" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#abca56bfd166a0e4f0e077da41bf664bb"> 3427</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#abca56bfd166a0e4f0e077da41bf664bb">ConstraintP2CDistance::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;{</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;}</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160; </div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;<span class="keywordtype">void</span> ConstraintP2CDistance::ReconstructGeomPointers()</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;{</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;  <span class="comment">// skip the first parameter as there is the inline function distance for it</span></div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;    <a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.ReconstructOnNewPvec(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    pt.<a class="code" href="../../d7/de8/classGCS_1_1Point.html#a49cbaf813cfe2c442a03a15bd7acbb1b">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;}</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160; </div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;<span class="keywordtype">void</span> ConstraintP2CDistance::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;{</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    }</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160; </div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;    DeriVector2 ct(<a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.center, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    DeriVector2 <a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>(pt, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    DeriVector2 v_length = ct.subtr(<a class="code" href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">p</a>);</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160; </div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    <span class="keywordtype">double</span> dlength;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../df/d14/namespacePartDesign.html#a67cbbd64c2a2c0d7a436b41048d70089a2fa47f7c65fec19cc163b195725e3844">length</a> = v_length.length(dlength);</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160; </div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;        *err = *<a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.rad + *distance() - <a class="code" href="../../df/d14/namespacePartDesign.html#a67cbbd64c2a2c0d7a436b41048d70089a2fa47f7c65fec19cc163b195725e3844">length</a>;</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;        <span class="keywordflow">if</span> (length &lt; *<a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.rad) {</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;            *err = *<a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.rad - *distance() - <a class="code" href="../../df/d14/namespacePartDesign.html#a67cbbd64c2a2c0d7a436b41048d70089a2fa47f7c65fec19cc163b195725e3844">length</a>;</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;        }</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    }</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#af031f9b7b51320071866358e081e7d76">grad</a>) {</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == distance()) {</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;            *<a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#af031f9b7b51320071866358e081e7d76">grad</a> = 1.0;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;            <span class="keywordflow">if</span> (length &lt; *<a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.rad) {</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;                *<a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#af031f9b7b51320071866358e081e7d76">grad</a> = -1.0;</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;            }</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;        }</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == <a class="code" href="../../d0/d79/namespacecircle.html">circle</a>.rad) {</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;            *<a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#af031f9b7b51320071866358e081e7d76">grad</a> = 1.0;</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;        }</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;            *<a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#af031f9b7b51320071866358e081e7d76">grad</a> = -dlength;</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;        }</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    }</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;}</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160; </div>
<div class="line"><a name="l03476"></a><span class="lineno"><a class="line" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#a2e8e2414d62c45aaf39577247dbbe119"> 3476</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#a2e8e2414d62c45aaf39577247dbbe119">ConstraintP2CDistance::error</a>()</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;{</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;}</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160; </div>
<div class="line"><a name="l03483"></a><span class="lineno"><a class="line" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#af031f9b7b51320071866358e081e7d76"> 3483</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#af031f9b7b51320071866358e081e7d76">ConstraintP2CDistance::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;{</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    }</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160; </div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160; </div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;}</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160; </div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;<span class="comment">// --------------------------------------------------------</span></div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;<span class="comment">// ConstraintArcLength</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"><a class="line" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a65d3b4068d9d4615b257f872cc2be4c0"> 3497</a></span>&#160;<a class="code" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a65d3b4068d9d4615b257f872cc2be4c0">ConstraintArcLength::ConstraintArcLength</a>(<a class="code" href="../../d7/d9d/classGCS_1_1Arc.html">Arc</a>&amp; <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>, <span class="keywordtype">double</span>* d)</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;{</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    this-&gt;d = d;</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>.push_back(d);</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160; </div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    this-&gt;arc = <a class="code" href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a>;</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    this-&gt;arc.<a class="code" href="../../d7/d9d/classGCS_1_1Arc.html#a5b00574cd42fc0bc04d07ff7892410e1">PushOwnParams</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160; </div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">origpvec</a> = <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>;</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    <a class="code" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a8de08bf324f222711d231ce19d4a5a48">rescale</a>();</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;}</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160; </div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;<span class="keywordtype">void</span> ConstraintArcLength::ReconstructGeomPointers()</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;{</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a> = 0;</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>++;  <span class="comment">// skip the first parameter as there is the inline function distance for it</span></div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    arc.<a class="code" href="../../d7/d9d/classGCS_1_1Arc.html#a6e62c89b0dfe7f23f65fdb64b4b53d74">ReconstructOnNewPvec</a>(<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">pvec</a>, <a class="code" href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">i</a>);</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;}</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160; </div>
<div class="line"><a name="l03518"></a><span class="lineno"><a class="line" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a9df1362acec012fd8e9bb1d2aaab1a07"> 3518</a></span>&#160;<a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">ConstraintType</a> <a class="code" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a9df1362acec012fd8e9bb1d2aaab1a07">ConstraintArcLength::getTypeId</a>()</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;{</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924af62a9816c22523a9adbfc28a3a4c71e6">ArcLength</a>;</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;}</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160; </div>
<div class="line"><a name="l03523"></a><span class="lineno"><a class="line" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a8de08bf324f222711d231ce19d4a5a48"> 3523</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a8de08bf324f222711d231ce19d4a5a48">ConstraintArcLength::rescale</a>(<span class="keywordtype">double</span> coef)</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;{</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <a class="code" href="../../da/dc3/namespacescale.html">scale</a> = coef;</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;}</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160; </div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;<span class="keywordtype">void</span> ConstraintArcLength::errorgrad(<span class="keywordtype">double</span>* err, <span class="keywordtype">double</span>* grad, <span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;{</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">pvecChangedFlag</a>) {</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;        ReconstructGeomPointers();</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    }</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160; </div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <span class="keywordtype">double</span> rad = *arc.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a>;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <span class="keywordtype">double</span> endA = *arc.<a class="code" href="../../d7/d9d/classGCS_1_1Arc.html#aa3603dbf7e59d2f26d225751ad8845f1">endAngle</a>;</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <span class="keywordtype">double</span> startA = *arc.<a class="code" href="../../d7/d9d/classGCS_1_1Arc.html#a3ecfbaab0c2114926b0bcce3d6909660">startAngle</a>;</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <span class="comment">// Assume positive angles and CCW arc</span></div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    <span class="keywordflow">while</span> (startA &lt; 0.) {</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        startA += 2. * <a class="code" href="../../de/d11/App_2Datums_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    }</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <span class="keywordflow">while</span> (endA &lt; startA) {</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;        endA += 2. * <a class="code" href="../../de/d11/App_2Datums_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    }</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;        *err = rad * (endA - startA) - *distance();</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    }</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a582bdf1da5ec7b7381d8f09bb1609180">grad</a>) {</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == distance()) {</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;            <span class="comment">// if constraint is not driving it varies on distance().</span></div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;            *<a class="code" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a582bdf1da5ec7b7381d8f09bb1609180">grad</a> = -1.;</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;        }</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;            <span class="keywordtype">double</span> dRad = <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == arc.<a class="code" href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">rad</a> ? 1. : 0.;</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;            <span class="keywordtype">double</span> dStartA = <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == arc.<a class="code" href="../../d7/d9d/classGCS_1_1Arc.html#a3ecfbaab0c2114926b0bcce3d6909660">startAngle</a> ? 1. : 0.;</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;            <span class="keywordtype">double</span> dEndA = <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a> == arc.<a class="code" href="../../d7/d9d/classGCS_1_1Arc.html#aa3603dbf7e59d2f26d225751ad8845f1">endAngle</a> ? 1. : 0.;</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;            *<a class="code" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a582bdf1da5ec7b7381d8f09bb1609180">grad</a> = rad * (dEndA - dStartA) + dRad * (endA - startA);</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;        }</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    }</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;}</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160; </div>
<div class="line"><a name="l03561"></a><span class="lineno"><a class="line" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a5abb00636d237f23d08ed32098ac329b"> 3561</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a5abb00636d237f23d08ed32098ac329b">ConstraintArcLength::error</a>()</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;{</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <span class="keywordtype">double</span> err;</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;    errorgrad(&amp;err, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dc3/namespacescale.html">scale</a> * err;</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;}</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160; </div>
<div class="line"><a name="l03568"></a><span class="lineno"><a class="line" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a582bdf1da5ec7b7381d8f09bb1609180"> 3568</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a582bdf1da5ec7b7381d8f09bb1609180">ConstraintArcLength::grad</a>(<span class="keywordtype">double</span>* <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>)</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;{</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">findParamInPvec</a>(<a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>) == -1) {</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;    }</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160; </div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;    <span class="keywordtype">double</span> deriv;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    errorgrad(<span class="keyword">nullptr</span>, &amp;deriv, <a class="code" href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">param</a>);</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160; </div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <span class="keywordflow">return</span> deriv * <a class="code" href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">scale</a>;</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;}</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160; </div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160; </div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;}  <span class="comment">// namespace GCS</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a415610c897f054e2350f9492a0171706"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a415610c897f054e2350f9492a0171706">GCS::L2LAngle</a></div><div class="ttdeci">@ L2LAngle</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00059">Constraints.h:59</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSnell_html_a817d1174083a630d72f2b05bd4528b19"><div class="ttname"><a href="../../de/d26/classGCS_1_1ConstraintSnell.html#a817d1174083a630d72f2b05bd4528b19">GCS::ConstraintSnell::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03059">Constraints.cpp:3059</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintL2LAngle_html_a94dce60eaa805f2e5d495d5811a91281"><div class="ttname"><a href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a94dce60eaa805f2e5d495d5811a91281">GCS::ConstraintL2LAngle::maxStep</a></div><div class="ttdeci">double maxStep(MAP_pD_D &amp;dir, double lim=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01445">Constraints.cpp:1445</a></div></div>
<div class="ttc" id="anamespaceBase_html_ab7fea8267976ceb4298adf5e4b022588"><div class="ttname"><a href="../../db/d07/namespaceBase.html#ab7fea8267976ceb4298adf5e4b022588">Base::pow</a></div><div class="ttdeci">DualNumber pow(DualNumber a, double pw)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/DualNumber_8h_source.html#l00126">DualNumber.h:126</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEllipseTangentLine_html_a84a9401f3ec35fd9698eb5ba1ca0fc86"><div class="ttname"><a href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#a84a9401f3ec35fd9698eb5ba1ca0fc86">GCS::ConstraintEllipseTangentLine::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01760">Constraints.cpp:1760</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html_a459a48f14b82864d4d7db0379bce4e69"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html#a459a48f14b82864d4d7db0379bce4e69">GCS::BSpline::mult</a></div><div class="ttdeci">VEC_I mult</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00445">Geo.h:445</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaTwoPoints_html_aee16b7fa6b0cdd0eef77ea27b914729a"><div class="ttname"><a href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#aee16b7fa6b0cdd0eef77ea27b914729a">GCS::ConstraintAngleViaTwoPoints::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02706">Constraints.cpp:2706</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintL2LAngle_html_ad4736bde4b962a3d458950eab558f188"><div class="ttname"><a href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#ad4736bde4b962a3d458950eab558f188">GCS::ConstraintL2LAngle::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01378">Constraints.cpp:1378</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintDifference_html_a5ee7b3bf46a953098851ae1f2f646306"><div class="ttname"><a href="../../de/d45/classGCS_1_1ConstraintDifference.html#a5ee7b3bf46a953098851ae1f2f646306">GCS::ConstraintDifference::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00669">Constraints.cpp:669</a></div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html_afa41881a084f86296760e67628559223"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html#afa41881a084f86296760e67628559223">GCS::DeriVector2::dy</a></div><div class="ttdeci">double dy</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00116">Geo.h:116</a></div></div>
<div class="ttc" id="aclassGCS_1_1Circle_html_a833e653c2de722ca9e505d620781e3d5"><div class="ttname"><a href="../../d4/ddf/classGCS_1_1Circle.html#a833e653c2de722ca9e505d620781e3d5">GCS::Circle::PushOwnParams</a></div><div class="ttdeci">int PushOwnParams(VEC_pD &amp;pvec) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00208">Geo.cpp:208</a></div></div>
<div class="ttc" id="anamespaceSCL_1_1SimpleDataTypes_html_a28edd5780273e2b89848b59198853503"><div class="ttname"><a href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a28edd5780273e2b89848b59198853503">SCL.SimpleDataTypes.b</a></div><div class="ttdeci">b</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/SimpleDataTypes_8py_source.html#l00227">SimpleDataTypes.py:227</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2CDistance_html_ad982c2cc92dedfc0007d23630dbc0ead"><div class="ttname"><a href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#ad982c2cc92dedfc0007d23630dbc0ead">GCS::ConstraintC2CDistance::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03288">Constraints.cpp:3288</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a036a52acafca5662cdd9da10c3b05205"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a036a52acafca5662cdd9da10c3b05205">GCS::HyperbolaPositiveMinorY</a></div><div class="ttdeci">@ HyperbolaPositiveMinorY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00105">Constraints.h:105</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a815175ecf4aa113ca0105a19d6ce5195"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a815175ecf4aa113ca0105a19d6ce5195">GCS::P2PDistance</a></div><div class="ttdeci">@ P2PDistance</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00052">Constraints.h:52</a></div></div>
<div class="ttc" id="aclassGCS_1_1Curve_html_a5d0d8496e6644829a0e9985c0210a3a4"><div class="ttname"><a href="../../d5/d14/classGCS_1_1Curve.html#a5d0d8496e6644829a0e9985c0210a3a4">GCS::Curve::CalculateNormal</a></div><div class="ttdeci">virtual DeriVector2 CalculateNormal(const Point &amp;p, const double *derivparam=nullptr) const =0</div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ab8c3a54ead5b7d6e82975251df6ff14b"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ab8c3a54ead5b7d6e82975251df6ff14b">GCS::AngleViaPointAndTwoParams</a></div><div class="ttdeci">@ AngleViaPointAndTwoParams</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00083">Constraints.h:83</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCurveValue_html_ae8992d13475768962817048a3ed1dc42"><div class="ttname"><a href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ae8992d13475768962817048a3ed1dc42">GCS::ConstraintCurveValue::ConstraintCurveValue</a></div><div class="ttdeci">ConstraintCurveValue(Point &amp;p, double *pcoord, Curve &amp;crv, double *u)</div><div class="ttdoc">ConstraintCurveValue: solver constraint that ties parameter value with point coordinates,...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02226">Constraints.cpp:2226</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualMajorAxesConic_html_ab06782768f1c3838ceb0c47de6cc29b8"><div class="ttname"><a href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ab06782768f1c3838ceb0c47de6cc29b8">GCS::ConstraintEqualMajorAxesConic::ConstraintEqualMajorAxesConic</a></div><div class="ttdeci">ConstraintEqualMajorAxesConic(MajorRadiusConic *a1, MajorRadiusConic *a2)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02074">Constraints.cpp:2074</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnPerpBisector_html_a49326ecd72188b30b10662edce47f098"><div class="ttname"><a href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a49326ecd72188b30b10662edce47f098">GCS::ConstraintPointOnPerpBisector::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01119">Constraints.cpp:1119</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a2626a0d4e9c62e8c9bc6781bcb7d841d"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a2626a0d4e9c62e8c9bc6781bcb7d841d">GCS::EllipseNegativeMinorX</a></div><div class="ttdeci">@ EllipseNegativeMinorX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00096">Constraints.h:96</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2CDistance_html_a03cd024d95b4e2bf694ecf611bc88c6d"><div class="ttname"><a href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#a03cd024d95b4e2bf694ecf611bc88c6d">GCS::ConstraintP2CDistance::ConstraintP2CDistance</a></div><div class="ttdeci">ConstraintP2CDistance(Point &amp;p, Circle &amp;c, double *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03406">Constraints.cpp:3406</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html_ae671d3158b3ab3383381489936fc1324"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html#ae671d3158b3ab3383381489936fc1324">GCS::BSpline::knots</a></div><div class="ttdeci">VEC_pD knots</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00438">Geo.h:438</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_a09296ea2147dfbd5d07396a09d662bee"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#a09296ea2147dfbd5d07396a09d662bee">GCS::Constraint::Constraint</a></div><div class="ttdeci">Constraint()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00048">Constraints.cpp:48</a></div></div>
<div class="ttc" id="aMod_2CAM_2libarea_2kurve_2Matrix_8cpp_html_a8d3c3518d793541417a4845125da1ae1"><div class="ttname"><a href="../../d3/d1b/Mod_2CAM_2libarea_2kurve_2Matrix_8cpp.html#a8d3c3518d793541417a4845125da1ae1">a</a></div><div class="ttdeci">#define a</div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnEllipse_html_a2e919399290a6ac3a5133fd41b851f3b"><div class="ttname"><a href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a2e919399290a6ac3a5133fd41b851f3b">GCS::ConstraintPointOnEllipse::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01653">Constraints.cpp:1653</a></div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html_abcc08d3fb665e62533eacb6f89256421"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html#abcc08d3fb665e62533eacb6f89256421">GCS::DeriVector2::getNormalized</a></div><div class="ttdeci">DeriVector2 getNormalized() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00082">Geo.cpp:82</a></div></div>
<div class="ttc" id="aclassGCS_1_1Parabola_html_a901f864d01bb665fe319b6c49bf2e065"><div class="ttname"><a href="../../d1/d23/classGCS_1_1Parabola.html#a901f864d01bb665fe319b6c49bf2e065">GCS::Parabola::focus1</a></div><div class="ttdeci">Point focus1</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00396">Geo.h:396</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPerpendicular_html_ad7deccab29ab12a5d63777e25de41983"><div class="ttname"><a href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#ad7deccab29ab12a5d63777e25de41983">GCS::ConstraintPerpendicular::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01290">Constraints.cpp:1290</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Ellipse_html_a4e4814e80dfa107a78192c10f8eff075"><div class="ttname"><a href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a4e4814e80dfa107a78192c10f8eff075">GCS::ConstraintInternalAlignmentPoint2Ellipse::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01851">Constraints.cpp:1851</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnBSpline_html_ae4eeedde4f517f2fe9eb487aec25186a"><div class="ttname"><a href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#ae4eeedde4f517f2fe9eb487aec25186a">GCS::ConstraintPointOnBSpline::ConstraintPointOnBSpline</a></div><div class="ttdeci">ConstraintPointOnBSpline(double *point, double *initparam, int coordidx, BSpline &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00504">Constraints.cpp:504</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924">GCS::ConstraintType</a></div><div class="ttdeci">ConstraintType</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00047">Constraints.h:47</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2af53a229f4d1378e233c6d1920c307a3a"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2af53a229f4d1378e233c6d1920c307a3a">GCS::EllipseFocus2X</a></div><div class="ttdeci">@ EllipseFocus2X</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00098">Constraints.h:98</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintDifference_html_a8868fbb043a6255527c17e93430fda84"><div class="ttname"><a href="../../de/d45/classGCS_1_1ConstraintDifference.html#a8868fbb043a6255527c17e93430fda84">GCS::ConstraintDifference::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00674">Constraints.cpp:674</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintMidpointOnLine_html_a3b67598f303001a93733962783687f57"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a3b67598f303001a93733962783687f57">GCS::ConstraintMidpointOnLine::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01514">Constraints.cpp:1514</a></div></div>
<div class="ttc" id="aclassGCS_1_1Parabola_html"><div class="ttname"><a href="../../d1/d23/classGCS_1_1Parabola.html">GCS::Parabola</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00388">Geo.h:388</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ae33c4293e578f1e9910ce6fe44e6e6aa"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ae33c4293e578f1e9910ce6fe44e6e6aa">GCS::None</a></div><div class="ttdeci">@ None</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00049">Constraints.h:49</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCurveValue_html_a6efc48e6fd6b182eabd09f07f72fcda5"><div class="ttname"><a href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a6efc48e6fd6b182eabd09f07f72fcda5">GCS::ConstraintCurveValue::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02263">Constraints.cpp:2263</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a3ec50967c3ab600d8b123e9e13865537"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a3ec50967c3ab600d8b123e9e13865537">GCS::EqualMajorAxesConic</a></div><div class="ttdeci">@ EqualMajorAxesConic</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00065">Constraints.h:65</a></div></div>
<div class="ttc" id="agroup__draftgeoutils_html_ga07ad5262ee7b26511c5c3592f2681804"><div class="ttname"><a href="../../d9/dfd/group__draftgeoutils.html#ga07ad5262ee7b26511c5c3592f2681804">draftgeoutils.general.v1</a></div><div class="ttdeci">def v1(edge)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d4f/general_8py_source.html#l00099">general.py:99</a></div></div>
<div class="ttc" id="anamespaceMovieTool_html_af6ed6588a29737b3a08fe046e735122c"><div class="ttname"><a href="../../dd/d94/namespaceMovieTool.html#af6ed6588a29737b3a08fe046e735122c">MovieTool.y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6c/MovieTool_8py_source.html#l00006">MovieTool.py:6</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a782c811b2f23cbaffdfd6edbd1cbcaa9"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a782c811b2f23cbaffdfd6edbd1cbcaa9">GCS::EllipseFocus2Y</a></div><div class="ttdeci">@ EllipseFocus2Y</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00099">Constraints.h:99</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a0b2aa5cf612303afe89e141f83d4f632"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a0b2aa5cf612303afe89e141f83d4f632">GCS::HyperbolaPositiveMajorY</a></div><div class="ttdeci">@ HyperbolaPositiveMajorY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00101">Constraints.h:101</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCenterOfGravity_html_a18442948214500d45bc08ab08fa87f5a"><div class="ttname"><a href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a18442948214500d45bc08ab08fa87f5a">GCS::ConstraintCenterOfGravity::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00254">Constraints.cpp:254</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintL2LAngle_html_afbb9cc4c0551f6b59706903c4ef9531f"><div class="ttname"><a href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#afbb9cc4c0551f6b59706903c4ef9531f">GCS::ConstraintL2LAngle::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01392">Constraints.cpp:1392</a></div></div>
<div class="ttc" id="aclassGCS_1_1Arc_html_a6e62c89b0dfe7f23f65fdb64b4b53d74"><div class="ttname"><a href="../../d7/d9d/classGCS_1_1Arc.html#a6e62c89b0dfe7f23f65fdb64b4b53d74">GCS::Arc::ReconstructOnNewPvec</a></div><div class="ttdeci">void ReconstructOnNewPvec(VEC_pD &amp;pvec, int &amp;cnt) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00253">Geo.cpp:253</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2LDistance_html_a0fa42c749c3fde7834ba0fac051b6320"><div class="ttname"><a href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a0fa42c749c3fde7834ba0fac051b6320">GCS::ConstraintP2LDistance::maxStep</a></div><div class="ttdeci">double maxStep(MAP_pD_D &amp;dir, double lim=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00957">Constraints.cpp:957</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEllipseTangentLine_html_ac844deb2e4325ec2aca75aa2a6872c59"><div class="ttname"><a href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ac844deb2e4325ec2aca75aa2a6872c59">GCS::ConstraintEllipseTangentLine::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01809">Constraints.cpp:1809</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2CDistance_html_a2f1d7a591cc1ac17c7f8368cf6b7570b"><div class="ttname"><a href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a2f1d7a591cc1ac17c7f8368cf6b7570b">GCS::ConstraintC2CDistance::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03220">Constraints.cpp:3220</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2LDistance_html_a9528d88f8c5890481463e51490cd3c73"><div class="ttname"><a href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a9528d88f8c5890481463e51490cd3c73">GCS::ConstraintP2LDistance::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00893">Constraints.cpp:893</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintDifference_html_a309f97444174a81925275d703e7cfc7d"><div class="ttname"><a href="../../de/d45/classGCS_1_1ConstraintDifference.html#a309f97444174a81925275d703e7cfc7d">GCS::ConstraintDifference::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00664">Constraints.cpp:664</a></div></div>
<div class="ttc" id="aclassGCS_1_1Ellipse_html_a1da403ed669f4d8ea31d1bd9781d52e5"><div class="ttname"><a href="../../dc/dd0/classGCS_1_1Ellipse.html#a1da403ed669f4d8ea31d1bd9781d52e5">GCS::Ellipse::center</a></div><div class="ttdeci">Point center</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00299">Geo.h:299</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnEllipse_html_ae4f2d79d169fbc4fcea4fd174e0c1722"><div class="ttname"><a href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#ae4f2d79d169fbc4fcea4fd174e0c1722">GCS::ConstraintPointOnEllipse::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01658">Constraints.cpp:1658</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndTwoParams_html_a986d2defac5cef7f9693760b245e7044"><div class="ttname"><a href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a986d2defac5cef7f9693760b245e7044">GCS::ConstraintAngleViaPointAndTwoParams::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02905">Constraints.cpp:2905</a></div></div>
<div class="ttc" id="anamespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear_html_a038eaef2520def74d52dd4a899ab23e9"><div class="ttname"><a href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a038eaef2520def74d52dd4a899ab23e9">src.Mod.PartDesign.Scripts.Gear.c1</a></div><div class="ttdeci">c1</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d19/Gear_8py_source.html#l00290">Gear.py:290</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualMajorAxesConic_html_a7a9b4bc13b45ba0157db1d6aa4907b69"><div class="ttname"><a href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#a7a9b4bc13b45ba0157db1d6aa4907b69">GCS::ConstraintEqualMajorAxesConic::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02099">Constraints.cpp:2099</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2CDistance_html_abca56bfd166a0e4f0e077da41bf664bb"><div class="ttname"><a href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#abca56bfd166a0e4f0e077da41bf664bb">GCS::ConstraintP2CDistance::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03427">Constraints.cpp:3427</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintDifference_html_a033e17476386b1f201799c9ff36fff7d"><div class="ttname"><a href="../../de/d45/classGCS_1_1ConstraintDifference.html#a033e17476386b1f201799c9ff36fff7d">GCS::ConstraintDifference::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00679">Constraints.cpp:679</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2LDistance_html_a8399c50dba5d568a0652c4947c5598db"><div class="ttname"><a href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a8399c50dba5d568a0652c4947c5598db">GCS::ConstraintP2LDistance::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00898">Constraints.cpp:898</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintTangentCircumf_html_a420af373f285526cb2b1dd4d1e93bfcc"><div class="ttname"><a href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#a420af373f285526cb2b1dd4d1e93bfcc">GCS::ConstraintTangentCircumf::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01598">Constraints.cpp:1598</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPoint_html_a7dba9caf49055592aa476845ba4ee869"><div class="ttname"><a href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#a7dba9caf49055592aa476845ba4ee869">GCS::ConstraintAngleViaPoint::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02599">Constraints.cpp:2599</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2LDistance_html_a4b116714f78a35ac96eaa61031ddf4ce"><div class="ttname"><a href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a4b116714f78a35ac96eaa61031ddf4ce">GCS::ConstraintC2LDistance::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03323">Constraints.cpp:3323</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSnell_html_a8ca22e30580ce269917397dde86bbb41"><div class="ttname"><a href="../../de/d26/classGCS_1_1ConstraintSnell.html#a8ca22e30580ce269917397dde86bbb41">GCS::ConstraintSnell::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03052">Constraints.cpp:3052</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEllipseTangentLine_html_ab992230d30f6a89b9d09873afbeefd87"><div class="ttname"><a href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ab992230d30f6a89b9d09873afbeefd87">GCS::ConstraintEllipseTangentLine::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01802">Constraints.cpp:1802</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnLine_html_a27cc2ad32f94fc1d8b1a8e6b6ed2741e"><div class="ttname"><a href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a27cc2ad32f94fc1d8b1a8e6b6ed2741e">GCS::ConstraintPointOnLine::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01047">Constraints.cpp:1047</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintMidpointOnLine_html_a0f349415f88760bb9a3066afa35181c5"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a0f349415f88760bb9a3066afa35181c5">GCS::ConstraintMidpointOnLine::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01491">Constraints.cpp:1491</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPerpendicular_html_a2b45cd93a0cdc4d7e99e8056a3dfc102"><div class="ttname"><a href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a2b45cd93a0cdc4d7e99e8056a3dfc102">GCS::ConstraintPerpendicular::ConstraintPerpendicular</a></div><div class="ttdeci">ConstraintPerpendicular(Line &amp;l1, Line &amp;l2)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01248">Constraints.cpp:1248</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqual_html_ac575690f843e18fa82718a8048dbc192"><div class="ttname"><a href="../../de/da7/classGCS_1_1ConstraintEqual.html#ac575690f843e18fa82718a8048dbc192">GCS::ConstraintEqual::ConstraintEqual</a></div><div class="ttdeci">ConstraintEqual(double *p1, double *p2, double p1p2ratio=1.0)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00116">Constraints.cpp:116</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndParam_html_ac1f7bee7d42d94ae057beee4eed09d54"><div class="ttname"><a href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#ac1f7bee7d42d94ae057beee4eed09d54">GCS::ConstraintAngleViaPointAndParam::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02830">Constraints.cpp:2830</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnParabola_html_a13400bfb23b2b006f8c2241e97b1e611"><div class="ttname"><a href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a13400bfb23b2b006f8c2241e97b1e611">GCS::ConstraintPointOnParabola::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02494">Constraints.cpp:2494</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCenterOfGravity_html_a35679646978ccbd2c55a65639a1b449e"><div class="ttname"><a href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a35679646978ccbd2c55a65639a1b449e">GCS::ConstraintCenterOfGravity::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00264">Constraints.cpp:264</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnPerpBisector_html_a81d6ef6df70df8972a6dfcdaee58e0e1"><div class="ttname"><a href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a81d6ef6df70df8972a6dfcdaee58e0e1">GCS::ConstraintPointOnPerpBisector::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01153">Constraints.cpp:1153</a></div></div>
<div class="ttc" id="aclassGCS_1_1Curve_html"><div class="ttname"><a href="../../d5/d14/classGCS_1_1Curve.html">GCS::Curve</a></div><div class="ttdoc">A base class for all curve-based objects (line, circle/arc, ellipse/arc).</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00175">Geo.h:175</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaTwoPoints_html_a16cea4a4b9a6a238d80eb6a3c549945a"><div class="ttname"><a href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a16cea4a4b9a6a238d80eb6a3c549945a">GCS::ConstraintAngleViaTwoPoints::ConstraintAngleViaTwoPoints</a></div><div class="ttdeci">ConstraintAngleViaTwoPoints(Curve &amp;acrv1, Curve &amp;acrv2, Point p1, Point p2, double *angle)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02656">Constraints.cpp:2656</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPoint_html_a4ebecfe7dd7bd8853dee7d5aa5ad96ae"><div class="ttname"><a href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#a4ebecfe7dd7bd8853dee7d5aa5ad96ae">GCS::ConstraintAngleViaPoint::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02609">Constraints.cpp:2609</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2LDistance_html_ad7c691540d4a9c54340884ea6ea361d6"><div class="ttname"><a href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#ad7c691540d4a9c54340884ea6ea361d6">GCS::ConstraintC2LDistance::ConstraintC2LDistance</a></div><div class="ttdeci">ConstraintC2LDistance(Circle &amp;c, Line &amp;l, double *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03302">Constraints.cpp:3302</a></div></div>
<div class="ttc" id="anamespacecircle_html"><div class="ttname"><a href="../../d0/d79/namespacecircle.html">circle</a></div><div class="ttdoc">Provides the object code for the Circle object.</div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCurveValue_html_ab7f9ced739b176989687c3079111c6af"><div class="ttname"><a href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#ab7f9ced739b176989687c3079111c6af">GCS::ConstraintCurveValue::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02313">Constraints.cpp:2313</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualLineLength_html_a4f80d35b60dfa0ecd2a1fc67d9b07bd9"><div class="ttname"><a href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a4f80d35b60dfa0ecd2a1fc67d9b07bd9">GCS::ConstraintEqualLineLength::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03100">Constraints.cpp:3100</a></div></div>
<div class="ttc" id="aclassGCS_1_1Parabola_html_a1f048fc6f4ac8548e79b2d455897a705"><div class="ttname"><a href="../../d1/d23/classGCS_1_1Parabola.html#a1f048fc6f4ac8548e79b2d455897a705">GCS::Parabola::ReconstructOnNewPvec</a></div><div class="ttdeci">void ReconstructOnNewPvec(VEC_pD &amp;pvec, int &amp;cnt) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00670">Geo.cpp:670</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintArcLength_html_a65d3b4068d9d4615b257f872cc2be4c0"><div class="ttname"><a href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a65d3b4068d9d4615b257f872cc2be4c0">GCS::ConstraintArcLength::ConstraintArcLength</a></div><div class="ttdeci">ConstraintArcLength(Arc &amp;a, double *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03497">Constraints.cpp:3497</a></div></div>
<div class="ttc" id="anamespaceKDL_html_a5e73e0260325e3d29e1d28fddec35305"><div class="ttname"><a href="../../d0/dbc/namespaceKDL.html#a5e73e0260325e3d29e1d28fddec35305">KDL::sin</a></div><div class="ttdeci">Rall1d&lt; T, V, S &gt; sin(const Rall1d&lt; T, V, S &gt; &amp;arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/rall1d_8h_source.html#l00335">rall1d.h:335</a></div></div>
<div class="ttc" id="aclassGCS_1_1Curve_html_aacb0699564c0ab64e7065290bad98148"><div class="ttname"><a href="../../d5/d14/classGCS_1_1Curve.html#aacb0699564c0ab64e7065290bad98148">GCS::Curve::Copy</a></div><div class="ttdeci">virtual Curve * Copy()=0</div></div>
<div class="ttc" id="aclassGCS_1_1ArcOfParabola_html_a53a90804d715bfc60b42c36a54a3b045"><div class="ttname"><a href="../../d3/d10/classGCS_1_1ArcOfParabola.html#a53a90804d715bfc60b42c36a54a3b045">GCS::ArcOfParabola::ReconstructOnNewPvec</a></div><div class="ttdeci">void ReconstructOnNewPvec(VEC_pD &amp;pvec, int &amp;cnt) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00707">Geo.cpp:707</a></div></div>
<div class="ttc" id="aclassGCS_1_1Circle_html_a30e1d3f00ba6853557dd7bb04b53e99d"><div class="ttname"><a href="../../d4/ddf/classGCS_1_1Circle.html#a30e1d3f00ba6853557dd7bb04b53e99d">GCS::Circle::center</a></div><div class="ttdeci">Point center</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00243">Geo.h:243</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_abe54470c47935067542a6ab564b03f91"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#abe54470c47935067542a6ab564b03f91">GCS::Constraint::findParamInPvec</a></div><div class="ttdeci">int findParamInPvec(double *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00101">Constraints.cpp:101</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndParam_html_aa1821be37d734b7f834a2a34999af336"><div class="ttname"><a href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#aa1821be37d734b7f834a2a34999af336">GCS::ConstraintAngleViaPointAndParam::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02804">Constraints.cpp:2804</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintMidpointOnLine_html_a396efa4b7a59d72e544b9b3eedc1eab9"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a396efa4b7a59d72e544b9b3eedc1eab9">GCS::ConstraintMidpointOnLine::ConstraintMidpointOnLine</a></div><div class="ttdeci">ConstraintMidpointOnLine(Line &amp;l1, Line &amp;l2)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01460">Constraints.cpp:1460</a></div></div>
<div class="ttc" id="anamespaceKDL_html_aa7c26c4bc57cab66adc41b08110f5948"><div class="ttname"><a href="../../d0/dbc/namespaceKDL.html#aa7c26c4bc57cab66adc41b08110f5948">KDL::min</a></div><div class="ttdeci">double min(double a, double b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d47/utility_8h_source.html#l00210">utility.h:210</a></div></div>
<div class="ttc" id="aclassGCS_1_1Curve_html_a505270b00add406847f951b8e055db74"><div class="ttname"><a href="../../d5/d14/classGCS_1_1Curve.html#a505270b00add406847f951b8e055db74">GCS::Curve::ReconstructOnNewPvec</a></div><div class="ttdeci">virtual void ReconstructOnNewPvec(VEC_pD &amp;pvec, int &amp;cnt)=0</div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html_ad14a4c8c0196589dee7798b61b01675b"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html#ad14a4c8c0196589dee7798b61b01675b">GCS::DeriVector2::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00115">Geo.h:115</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCurveValue_html_a92d148a07f0fe4f76bda1872cf3e5b59"><div class="ttname"><a href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a92d148a07f0fe4f76bda1872cf3e5b59">GCS::ConstraintCurveValue::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02306">Constraints.cpp:2306</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a07620aa497fb30a08c88e4c8e194e05a"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a07620aa497fb30a08c88e4c8e194e05a">GCS::CenterOfGravity</a></div><div class="ttdeci">@ CenterOfGravity</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00075">Constraints.h:75</a></div></div>
<div class="ttc" id="anamespaceSCL_1_1SimpleDataTypes_html_a8c4491382df9fe33f2ee7d896e00053b"><div class="ttname"><a href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#a8c4491382df9fe33f2ee7d896e00053b">SCL.SimpleDataTypes.e</a></div><div class="ttdeci">e</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/SimpleDataTypes_8py_source.html#l00231">SimpleDataTypes.py:231</a></div></div>
<div class="ttc" id="anamespaceNavigationIndicatorGui_html_a31db92a5e16845316171485ce6b403d2"><div class="ttname"><a href="../../d0/d29/namespaceNavigationIndicatorGui.html#a31db92a5e16845316171485ce6b403d2">NavigationIndicatorGui.a2</a></div><div class="ttdeci">a2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d91/NavigationIndicatorGui_8py_source.html#l00628">NavigationIndicatorGui.py:628</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCurveValue_html_afb1af34960a62c41b7dbacd32f90b887"><div class="ttname"><a href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#afb1af34960a62c41b7dbacd32f90b887">GCS::ConstraintCurveValue::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02258">Constraints.cpp:2258</a></div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html_a3ef978e1eed6a37f4ccf940737dc86f9"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3ef978e1eed6a37f4ccf940737dc86f9">GCS::DeriVector2::subtr</a></div><div class="ttdeci">DeriVector2 subtr(const DeriVector2 &amp;v2) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00139">Geo.h:139</a></div></div>
<div class="ttc" id="aJtReader_8cpp_html_a7899648a780235d12dcf5ca09844fe50"><div class="ttname"><a href="../../d7/d0f/JtReader_8cpp.html#a7899648a780235d12dcf5ca09844fe50">result</a></div><div class="ttdeci">vector&lt; SimpleMeshFacet &gt; result</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0f/JtReader_8cpp_source.html#l00031">JtReader.cpp:31</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintL2LAngle_html_a8e4467b3c1bb0e0a54ebb3f6cd53998e"><div class="ttname"><a href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a8e4467b3c1bb0e0a54ebb3f6cd53998e">GCS::ConstraintL2LAngle::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01373">Constraints.cpp:1373</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ae386757cf2f4003461c41d24b9dd174a"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ae386757cf2f4003461c41d24b9dd174a">GCS::AngleViaPointAndParam</a></div><div class="ttdeci">@ AngleViaPointAndParam</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00082">Constraints.h:82</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCurveValue_html_a538ea7439744383391989af92b80346a"><div class="ttname"><a href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a538ea7439744383391989af92b80346a">GCS::ConstraintCurveValue::maxStep</a></div><div class="ttdeci">double maxStep(MAP_pD_D &amp;dir, double lim=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02326">Constraints.cpp:2326</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Ellipse_html_a4cece1217cae603f5e29483bb7af1d5a"><div class="ttname"><a href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a4cece1217cae603f5e29483bb7af1d5a">GCS::ConstraintInternalAlignmentPoint2Ellipse::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01931">Constraints.cpp:1931</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnPerpBisector_html_ac3590bf049e62d25c836239489e94bfd"><div class="ttname"><a href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#ac3590bf049e62d25c836239489e94bfd">GCS::ConstraintPointOnPerpBisector::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01124">Constraints.cpp:1124</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnBSpline_html_a4801f76462abedbcfe6b3d3fcb79c859"><div class="ttname"><a href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a4801f76462abedbcfe6b3d3fcb79c859">GCS::ConstraintPointOnBSpline::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00539">Constraints.cpp:539</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a75892a2d161cf6bf5fab0d94d720c4c0"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a75892a2d161cf6bf5fab0d94d720c4c0">GCS::TangentEllipseLine</a></div><div class="ttdeci">@ TangentEllipseLine</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00063">Constraints.h:63</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_abdcbd5ac52995a327d6ccc34b5d3a886"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#abdcbd5ac52995a327d6ccc34b5d3a886">GCS::Constraint::Alignment</a></div><div class="ttdeci">Alignment</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00114">Constraints.h:114</a></div></div>
<div class="ttc" id="aclassGCS_1_1Point_html_a0c6425d51a303dc103375ba764d38831"><div class="ttname"><a href="../../d7/de8/classGCS_1_1Point.html#a0c6425d51a303dc103375ba764d38831">GCS::Point::y</a></div><div class="ttdeci">double * y</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00090">Geo.h:90</a></div></div>
<div class="ttc" id="anamespaceGCS_html_a2377d05b953587230970fe5e4b9b49ef"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#a2377d05b953587230970fe5e4b9b49ef">GCS::pi_18</a></div><div class="ttdeci">static constexpr double pi_18</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00078">Geo.h:78</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a5678703f01dc659e8015d8c153f5b9a4"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a5678703f01dc659e8015d8c153f5b9a4">GCS::EqualLineLength</a></div><div class="ttdeci">@ EqualLineLength</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00074">Constraints.h:74</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924abf3e3af702375baede991a84711d2176"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924abf3e3af702375baede991a84711d2176">GCS::PointOnEllipse</a></div><div class="ttdeci">@ PointOnEllipse</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00062">Constraints.h:62</a></div></div>
<div class="ttc" id="anamespaceSplineSurface_html_af6f043267a3c4e6ea7fe3b2466b50d21"><div class="ttname"><a href="../../d3/d10/namespaceSplineSurface.html#af6f043267a3c4e6ea7fe3b2466b50d21">SplineSurface.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df6/SplineSurface_8py_source.html#l00040">SplineSurface.py:40</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_acd07d564b8b3097720491263591d85fa"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#acd07d564b8b3097720491263591d85fa">GCS::Constraint::getTypeId</a></div><div class="ttdeci">virtual ConstraintType getTypeId()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00076">Constraints.cpp:76</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCenterOfGravity_html_aa543814c2f76066696a4e939a7016924"><div class="ttname"><a href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#aa543814c2f76066696a4e939a7016924">GCS::ConstraintCenterOfGravity::ConstraintCenterOfGravity</a></div><div class="ttdeci">ConstraintCenterOfGravity(const std::vector&lt; double * &gt; &amp;givenpvec, const std::vector&lt; double &gt; &amp;givenweights)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00232">Constraints.cpp:232</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924adf24026e53a10eafdebc06eb687a6b6b"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924adf24026e53a10eafdebc06eb687a6b6b">GCS::CurveValue</a></div><div class="ttdeci">@ CurveValue</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00069">Constraints.h:69</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Ellipse_html_aab1d13bcda2c75c8c173dda64fdb4808"><div class="ttname"><a href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#aab1d13bcda2c75c8c173dda64fdb4808">GCS::ConstraintInternalAlignmentPoint2Ellipse::ConstraintInternalAlignmentPoint2Ellipse</a></div><div class="ttdeci">ConstraintInternalAlignmentPoint2Ellipse(Ellipse &amp;e, Point &amp;p1, InternalAlignmentType alignmentType)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01825">Constraints.cpp:1825</a></div></div>
<div class="ttc" id="anamespaceKDL_html_ab35f36022f73ad018458d0ff26e1c6fb"><div class="ttname"><a href="../../d0/dbc/namespaceKDL.html#ab35f36022f73ad018458d0ff26e1c6fb">KDL::cos</a></div><div class="ttdeci">Rall1d&lt; T, V, S &gt; cos(const Rall1d&lt; T, V, S &gt; &amp;arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/rall1d_8h_source.html#l00343">rall1d.h:343</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_ae8c32531d510bf643a0cbf3b57e0803f"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#ae8c32531d510bf643a0cbf3b57e0803f">GCS::Constraint::error</a></div><div class="ttdeci">virtual double error()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00086">Constraints.cpp:86</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualLineLength_html_ae2398bb742252933bc1f8c9236001c3c"><div class="ttname"><a href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#ae2398bb742252933bc1f8c9236001c3c">GCS::ConstraintEqualLineLength::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03168">Constraints.cpp:3168</a></div></div>
<div class="ttc" id="anamespacePartDesign_html_a67cbbd64c2a2c0d7a436b41048d70089a2fa47f7c65fec19cc163b195725e3844"><div class="ttname"><a href="../../df/d14/namespacePartDesign.html#a67cbbd64c2a2c0d7a436b41048d70089a2fa47f7c65fec19cc163b195725e3844">PartDesign::LinearPatternMode::length</a></div><div class="ttdeci">@ length</div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintArcLength_html_a8de08bf324f222711d231ce19d4a5a48"><div class="ttname"><a href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a8de08bf324f222711d231ce19d4a5a48">GCS::ConstraintArcLength::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03523">Constraints.cpp:3523</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnParabola_html_a8aba52de8bc7f13f45c70055af6ca4d7"><div class="ttname"><a href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a8aba52de8bc7f13f45c70055af6ca4d7">GCS::ConstraintPointOnParabola::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02499">Constraints.cpp:2499</a></div></div>
<div class="ttc" id="anamespacebuildPsets_html_ac398d71a74b594c4a8b1265e3e2969c1"><div class="ttname"><a href="../../d6/dad/namespacebuildPsets.html#ac398d71a74b594c4a8b1265e3e2969c1">buildPsets.p</a></div><div class="ttdeci">p</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/buildPsets_8py_source.html#l00109">buildPsets.py:109</a></div></div>
<div class="ttc" id="aclassGCS_1_1Hyperbola_html_a14504d338d0a25097fa869f2ddeb854a"><div class="ttname"><a href="../../d6/d0b/classGCS_1_1Hyperbola.html#a14504d338d0a25097fa869f2ddeb854a">GCS::Hyperbola::getRadMaj</a></div><div class="ttdeci">double getRadMaj(const DeriVector2 &amp;center, const DeriVector2 &amp;f1, double b, double db, double &amp;ret_dRadMaj) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00445">Geo.cpp:445</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualFocalDistance_html_aae7a7c09c8538df48be0aa6dbb3631df"><div class="ttname"><a href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aae7a7c09c8538df48be0aa6dbb3631df">GCS::ConstraintEqualFocalDistance::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02161">Constraints.cpp:2161</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PDistance_html_a2ba9b4905fdcded858e1dc07738f1fee"><div class="ttname"><a href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a2ba9b4905fdcded858e1dc07738f1fee">GCS::ConstraintP2PDistance::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00727">Constraints.cpp:727</a></div></div>
<div class="ttc" id="aclassGCS_1_1Circle_html_a4b10e2f83a1d5f66686ea425bb50dcee"><div class="ttname"><a href="../../d4/ddf/classGCS_1_1Circle.html#a4b10e2f83a1d5f66686ea425bb50dcee">GCS::Circle::ReconstructOnNewPvec</a></div><div class="ttdeci">void ReconstructOnNewPvec(VEC_pD &amp;pvec, int &amp;cnt) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00219">Geo.cpp:219</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndParam_html_aafd18889ac2cdc28cb1639f0ccf06806"><div class="ttname"><a href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#aafd18889ac2cdc28cb1639f0ccf06806">GCS::ConstraintAngleViaPointAndParam::~ConstraintAngleViaPointAndParam</a></div><div class="ttdeci">~ConstraintAngleViaPointAndParam() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02777">Constraints.cpp:2777</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEllipseTangentLine_html_a3d4e613cfae38086b73b5b1d6cddaa1d"><div class="ttname"><a href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#a3d4e613cfae38086b73b5b1d6cddaa1d">GCS::ConstraintEllipseTangentLine::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01755">Constraints.cpp:1755</a></div></div>
<div class="ttc" id="anamespaceSCL_1_1SimpleDataTypes_html_afdadf6970972fc07fc4caf8032c08ffc"><div class="ttname"><a href="../../d3/da4/namespaceSCL_1_1SimpleDataTypes.html#afdadf6970972fc07fc4caf8032c08ffc">SCL.SimpleDataTypes.c</a></div><div class="ttdeci">c</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/SimpleDataTypes_8py_source.html#l00228">SimpleDataTypes.py:228</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnBSpline_html_ab743b58d3f26e556986a75e99d8202b7"><div class="ttname"><a href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#ab743b58d3f26e556986a75e99d8202b7">GCS::ConstraintPointOnBSpline::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00597">Constraints.cpp:597</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2ab7a6faa3513fd44a61f9249d7016e078"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ab7a6faa3513fd44a61f9249d7016e078">GCS::EllipseNegativeMinorY</a></div><div class="ttdeci">@ EllipseNegativeMinorY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00097">Constraints.h:97</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndParam_html_a5ce7b306cd67c3eb6e21ff7497e7b74b"><div class="ttname"><a href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#a5ce7b306cd67c3eb6e21ff7497e7b74b">GCS::ConstraintAngleViaPointAndParam::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02809">Constraints.cpp:2809</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintParallel_html_ab0ed80423ffbf4cd8fab1f73ff32ef7a"><div class="ttname"><a href="../../df/d81/classGCS_1_1ConstraintParallel.html#ab0ed80423ffbf4cd8fab1f73ff32ef7a">GCS::ConstraintParallel::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01213">Constraints.cpp:1213</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a5271b8b1d2af2789e8aca3221dd49b06"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a5271b8b1d2af2789e8aca3221dd49b06">GCS::InternalAlignmentPoint2Ellipse</a></div><div class="ttdeci">@ InternalAlignmentPoint2Ellipse</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00064">Constraints.h:64</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSnell_html_a9201949104e5969d042135d7fe4230e1"><div class="ttname"><a href="../../de/d26/classGCS_1_1ConstraintSnell.html#a9201949104e5969d042135d7fe4230e1">GCS::ConstraintSnell::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03016">Constraints.cpp:3016</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPoint_html_ab22f1bcd280f7acf453b3edc1ec95657"><div class="ttname"><a href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ab22f1bcd280f7acf453b3edc1ec95657">GCS::ConstraintAngleViaPoint::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02630">Constraints.cpp:2630</a></div></div>
<div class="ttc" id="anamespacebuildPsets_html_a5750e99d8d3598682a5f22fa6cf72bf9"><div class="ttname"><a href="../../d6/dad/namespacebuildPsets.html#a5750e99d8d3598682a5f22fa6cf72bf9">buildPsets.u</a></div><div class="ttdeci">u</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d7b/buildPsets_8py_source.html#l00108">buildPsets.py:108</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintWeightedLinearCombination_html_ae92507b4507afacefc1ef297f97d3f96"><div class="ttname"><a href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ae92507b4507afacefc1ef297f97d3f96">GCS::ConstraintWeightedLinearCombination::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00196">Constraints.cpp:196</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnHyperbola_html_aeb08f7ed44e8b8163e7f844e01683133"><div class="ttname"><a href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#aeb08f7ed44e8b8163e7f844e01683133">GCS::ConstraintPointOnHyperbola::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02360">Constraints.cpp:2360</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualFocalDistance_html_a4acb83f0a1ab7dc3392d3e439e6b064c"><div class="ttname"><a href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#a4acb83f0a1ab7dc3392d3e439e6b064c">GCS::ConstraintEqualFocalDistance::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02203">Constraints.cpp:2203</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924af62a9816c22523a9adbfc28a3a4c71e6"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924af62a9816c22523a9adbfc28a3a4c71e6">GCS::ArcLength</a></div><div class="ttdeci">@ ArcLength</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00085">Constraints.h:85</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnParabola_html_a7f3cf94c28bb8f7a90392cc3c4f25042"><div class="ttname"><a href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a7f3cf94c28bb8f7a90392cc3c4f25042">GCS::ConstraintPointOnParabola::~ConstraintPointOnParabola</a></div><div class="ttdeci">~ConstraintPointOnParabola() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02477">Constraints.cpp:2477</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnBSpline_html_add460658e0df0370d9cc126765dfcf52"><div class="ttname"><a href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#add460658e0df0370d9cc126765dfcf52">GCS::ConstraintPointOnBSpline::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00563">Constraints.cpp:563</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html_ad35e2adac92591dd6074c7c12a7a1643"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html#ad35e2adac92591dd6074c7c12a7a1643">GCS::BSpline::poles</a></div><div class="ttdeci">VEC_P poles</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00436">Geo.h:436</a></div></div>
<div class="ttc" id="aclassGCS_1_1Point_html_a555828810e99fa100ca1c2a8488ca451"><div class="ttname"><a href="../../d7/de8/classGCS_1_1Point.html#a555828810e99fa100ca1c2a8488ca451">GCS::Point::PushOwnParams</a></div><div class="ttdeci">int PushOwnParams(VEC_pD &amp;pvec)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00036">Geo.cpp:36</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_ad14af8d811d423df0c6a4d28dd2a74ab"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#ad14af8d811d423df0c6a4d28dd2a74ab">GCS::Constraint::pvec</a></div><div class="ttdeci">VEC_pD pvec</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00122">Constraints.h:122</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintTangentCircumf_html_acffc4102b78a8c2cbf8229be0a734b8a"><div class="ttname"><a href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#acffc4102b78a8c2cbf8229be0a734b8a">GCS::ConstraintTangentCircumf::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01581">Constraints.cpp:1581</a></div></div>
<div class="ttc" id="aclassGCS_1_1Arc_html"><div class="ttname"><a href="../../d7/d9d/classGCS_1_1Arc.html">GCS::Arc</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00252">Geo.h:252</a></div></div>
<div class="ttc" id="aclassGCS_1_1Hyperbola_html_a507613cd6cb5a8892d59fd6ba87ee0ea"><div class="ttname"><a href="../../d6/d0b/classGCS_1_1Hyperbola.html#a507613cd6cb5a8892d59fd6ba87ee0ea">GCS::Hyperbola::ReconstructOnNewPvec</a></div><div class="ttdeci">void ReconstructOnNewPvec(VEC_pD &amp;pvec, int &amp;cnt) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00547">Geo.cpp:547</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintParallel_html_a30539244f1f28861693bd88c357abbd8"><div class="ttname"><a href="../../df/d81/classGCS_1_1ConstraintParallel.html#a30539244f1f28861693bd88c357abbd8">GCS::ConstraintParallel::ConstraintParallel</a></div><div class="ttdeci">ConstraintParallel(Line &amp;l1, Line &amp;l2)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01176">Constraints.cpp:1176</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndTwoParams_html_a1815fb9cf26666a3f2c27c8e07493beb"><div class="ttname"><a href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a1815fb9cf26666a3f2c27c8e07493beb">GCS::ConstraintAngleViaPointAndTwoParams::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02931">Constraints.cpp:2931</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a84c26bfb55dc2464a1ef3be686287c9f"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a84c26bfb55dc2464a1ef3be686287c9f">GCS::HyperbolaPositiveMajorX</a></div><div class="ttdeci">@ HyperbolaPositiveMajorX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00100">Constraints.h:100</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PDistance_html_a524e7a3fac25c83abd289f38767e1098"><div class="ttname"><a href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a524e7a3fac25c83abd289f38767e1098">GCS::ConstraintP2PDistance::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00708">Constraints.cpp:708</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html_a79f757a96005a4f91e8e80c634756df9"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html#a79f757a96005a4f91e8e80c634756df9">GCS::BSpline::periodic</a></div><div class="ttdeci">bool periodic</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00447">Geo.h:447</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualLineLength_html_a5a5b06db06622f218e9b884115c14a23"><div class="ttname"><a href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a5a5b06db06622f218e9b884115c14a23">GCS::ConstraintEqualLineLength::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03175">Constraints.cpp:3175</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaTwoPoints_html_a90515a312e73d272e2546b6f282249b2"><div class="ttname"><a href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a90515a312e73d272e2546b6f282249b2">GCS::ConstraintAngleViaTwoPoints::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02701">Constraints.cpp:2701</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a0a1ef3f38f63abbe85dde108f0eb5a0e"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a0a1ef3f38f63abbe85dde108f0eb5a0e">GCS::Difference</a></div><div class="ttdeci">@ Difference</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00051">Constraints.h:51</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintTangentCircumf_html_af4c8de4cb4a04fb8bb2a366339b6f054"><div class="ttname"><a href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#af4c8de4cb4a04fb8bb2a366339b6f054">GCS::ConstraintTangentCircumf::ConstraintTangentCircumf</a></div><div class="ttdeci">ConstraintTangentCircumf(Point &amp;p1, Point &amp;p2, double *rd1, double *rd2, bool internal_=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01559">Constraints.cpp:1559</a></div></div>
<div class="ttc" id="anamespaceGCS_html_a8f3ecda7d8981a66d583c0272eb2522c"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#a8f3ecda7d8981a66d583c0272eb2522c">GCS::MAP_pD_pD</a></div><div class="ttdeci">std::map&lt; double *, double * &gt; MAP_pD_pD</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/Util_8h_source.html#l00056">Util.h:56</a></div></div>
<div class="ttc" id="anamespaceGCS_html_a06123ccbb1f50a5e41d11e91a5730f29"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#a06123ccbb1f50a5e41d11e91a5730f29">GCS::VEC_D</a></div><div class="ttdeci">std::vector&lt; double &gt; VEC_D</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/Util_8h_source.html#l00054">Util.h:54</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PAngle_html_aff8ca38031ee3829a9ae23243c9815ad"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#aff8ca38031ee3829a9ae23243c9815ad">GCS::ConstraintP2PAngle::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00809">Constraints.cpp:809</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualMajorAxesConic_html_ae929f493cb75c1c9c07cdad57493d2ca"><div class="ttname"><a href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ae929f493cb75c1c9c07cdad57493d2ca">GCS::ConstraintEqualMajorAxesConic::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02094">Constraints.cpp:2094</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_ac7a8cd18cee863620a67d2ef3b6818a4"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#ac7a8cd18cee863620a67d2ef3b6818a4">GCS::Constraint::grad</a></div><div class="ttdeci">virtual double grad(double *)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00091">Constraints.cpp:91</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPoint_html_a98f4a82d1664c0bfee6cc91b07c51e4b"><div class="ttname"><a href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#a98f4a82d1664c0bfee6cc91b07c51e4b">GCS::ConstraintAngleViaPoint::ConstraintAngleViaPoint</a></div><div class="ttdeci">ConstraintAngleViaPoint(Curve &amp;acrv1, Curve &amp;acrv2, Point p, double *angle)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02564">Constraints.cpp:2564</a></div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html_a886ec137be7b25bc0add649f6ffb459e"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html#a886ec137be7b25bc0add649f6ffb459e">GCS::DeriVector2::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00116">Geo.h:116</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSlopeAtBSplineKnot_html_aee40febcb30112b8a8c30289be0c3f9b"><div class="ttname"><a href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#aee40febcb30112b8a8c30289be0c3f9b">GCS::ConstraintSlopeAtBSplineKnot::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00338">Constraints.cpp:338</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2LDistance_html_a64d295887cf4767f8b54596d7af8c805"><div class="ttname"><a href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a64d295887cf4767f8b54596d7af8c805">GCS::ConstraintC2LDistance::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03392">Constraints.cpp:3392</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndTwoParams_html_ac8384d615068f6b9a21fc163241497a9"><div class="ttname"><a href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#ac8384d615068f6b9a21fc163241497a9">GCS::ConstraintAngleViaPointAndTwoParams::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02910">Constraints.cpp:2910</a></div></div>
<div class="ttc" id="aclassGCS_1_1Point_html"><div class="ttname"><a href="../../d7/de8/classGCS_1_1Point.html">GCS::Point</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00056">Geo.h:56</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a96ce17eddc3ad13965d5c620d14c6864"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a96ce17eddc3ad13965d5c620d14c6864">GCS::EllipseNegativeMajorY</a></div><div class="ttdeci">@ EllipseNegativeMajorY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00093">Constraints.h:93</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2CDistance_html_a82401931c67eb49c8ac42682008f2ff5"><div class="ttname"><a href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a82401931c67eb49c8ac42682008f2ff5">GCS::ConstraintC2CDistance::ConstraintC2CDistance</a></div><div class="ttdeci">ConstraintC2CDistance(Circle &amp;c1, Circle &amp;c2, double *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03190">Constraints.cpp:3190</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html_a856408a1a6003425442f658a8ab42c21"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html#a856408a1a6003425442f658a8ab42c21">GCS::BSpline::flattenedknots</a></div><div class="ttdeci">VEC_D flattenedknots</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00451">Geo.h:451</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnBSpline_html_a15f25b95eee7373f01f6e6528cd49c4f"><div class="ttname"><a href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a15f25b95eee7373f01f6e6528cd49c4f">GCS::ConstraintPointOnBSpline::bsp</a></div><div class="ttdeci">BSpline &amp; bsp</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00356">Constraints.h:356</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintTangentCircumf_html_ad36b21422e17f5da9f90ee0021eb69fe"><div class="ttname"><a href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#ad36b21422e17f5da9f90ee0021eb69fe">GCS::ConstraintTangentCircumf::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01586">Constraints.cpp:1586</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintMidpointOnLine_html_a31447a41e5f1d8988bdaef714c3e75ef"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a31447a41e5f1d8988bdaef714c3e75ef">GCS::ConstraintMidpointOnLine::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01496">Constraints.cpp:1496</a></div></div>
<div class="ttc" id="anamespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear_html_aab7aa7746bed1f77426ff9d192b3a2fc"><div class="ttname"><a href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#aab7aa7746bed1f77426ff9d192b3a2fc">src.Mod.PartDesign.Scripts.Gear.l2</a></div><div class="ttdeci">l2</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d19/Gear_8py_source.html#l00262">Gear.py:262</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnPerpBisector_html_adfff94c450bdad75f14816c6255432a5"><div class="ttname"><a href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#adfff94c450bdad75f14816c6255432a5">GCS::ConstraintPointOnPerpBisector::ConstraintPointOnPerpBisector</a></div><div class="ttdeci">ConstraintPointOnPerpBisector(Point &amp;p, Line &amp;l)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01095">Constraints.cpp:1095</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnHyperbola_html_a248e1a82a5874f48cff331c3de96cea2"><div class="ttname"><a href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a248e1a82a5874f48cff331c3de96cea2">GCS::ConstraintPointOnHyperbola::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02365">Constraints.cpp:2365</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualMajorAxesConic_html_af932376a8ca1789d8238c6c959805b2a"><div class="ttname"><a href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#af932376a8ca1789d8238c6c959805b2a">GCS::ConstraintEqualMajorAxesConic::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02121">Constraints.cpp:2121</a></div></div>
<div class="ttc" id="aclassGCS_1_1Line_html_ad63e2c32a7a115e674d8d5a206f945fc"><div class="ttname"><a href="../../d6/d00/classGCS_1_1Line.html#ad63e2c32a7a115e674d8d5a206f945fc">GCS::Line::p2</a></div><div class="ttdeci">Point p2</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00226">Geo.h:226</a></div></div>
<div class="ttc" id="aclassGCS_1_1Circle_html"><div class="ttname"><a href="../../d4/ddf/classGCS_1_1Circle.html">GCS::Circle</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00234">Geo.h:234</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintParallel_html_a3c102d5a8bed6bf695967293634e70d7"><div class="ttname"><a href="../../df/d81/classGCS_1_1ConstraintParallel.html#a3c102d5a8bed6bf695967293634e70d7">GCS::ConstraintParallel::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01204">Constraints.cpp:1204</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndTwoParams_html_a7f5a94e9a40cd3b21055ebe1a301ed75"><div class="ttname"><a href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#a7f5a94e9a40cd3b21055ebe1a301ed75">GCS::ConstraintAngleViaPointAndTwoParams::~ConstraintAngleViaPointAndTwoParams</a></div><div class="ttdeci">~ConstraintAngleViaPointAndTwoParams() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02877">Constraints.cpp:2877</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSnell_html_af3ec61403d911cbc03bb338e3da14eac"><div class="ttname"><a href="../../de/d26/classGCS_1_1ConstraintSnell.html#af3ec61403d911cbc03bb338e3da14eac">GCS::ConstraintSnell::~ConstraintSnell</a></div><div class="ttdeci">~ConstraintSnell() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02986">Constraints.cpp:2986</a></div></div>
<div class="ttc" id="anamespacePath_1_1Dressup_1_1Gui_1_1Dragknife_html_af6e12d0e3b142aedb0436fe371d4c690"><div class="ttname"><a href="../../d9/d86/namespacePath_1_1Dressup_1_1Gui_1_1Dragknife.html#af6e12d0e3b142aedb0436fe371d4c690">Path.Dressup.Gui.Dragknife.D</a></div><div class="ttdeci">D</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3b/Dragknife_8py_source.html#l00034">Dragknife.py:34</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PAngle_html_aae1e2361bb09c5a07114fdda4e42666e"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#aae1e2361bb09c5a07114fdda4e42666e">GCS::ConstraintP2PAngle::ConstraintP2PAngle</a></div><div class="ttdeci">ConstraintP2PAngle(Point &amp;p1, Point &amp;p2, double *a, double da_=0.)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00797">Constraints.cpp:797</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ac075e9c88f9e580485de3e3ac5f5dc09"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ac075e9c88f9e580485de3e3ac5f5dc09">GCS::InternalAlignmentPoint2Hyperbola</a></div><div class="ttdeci">@ InternalAlignmentPoint2Hyperbola</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00071">Constraints.h:71</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2ae51923c801c8d4e09e59ddcfa0ce5f4e"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ae51923c801c8d4e09e59ddcfa0ce5f4e">GCS::HyperbolaNegativeMajorY</a></div><div class="ttdeci">@ HyperbolaNegativeMajorY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00103">Constraints.h:103</a></div></div>
<div class="ttc" id="anamespaceNavigationIndicatorGui_html_adf376f021a13400f5ce6ff0d2acd442d"><div class="ttname"><a href="../../d0/d29/namespaceNavigationIndicatorGui.html#adf376f021a13400f5ce6ff0d2acd442d">NavigationIndicatorGui.a1</a></div><div class="ttdeci">a1</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d91/NavigationIndicatorGui_8py_source.html#l00623">NavigationIndicatorGui.py:623</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_a8ced01d89406157e1ab23cee9392b94d"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#a8ced01d89406157e1ab23cee9392b94d">GCS::Constraint::revertParams</a></div><div class="ttdeci">void revertParams()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00070">Constraints.cpp:70</a></div></div>
<div class="ttc" id="aclassGCS_1_1ArcOfParabola_html"><div class="ttname"><a href="../../d3/d10/classGCS_1_1ArcOfParabola.html">GCS::ArcOfParabola</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00404">Geo.h:404</a></div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html_a328a011f0d1e6a2589c9a1350bd5ebe1"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html#a328a011f0d1e6a2589c9a1350bd5ebe1">GCS::DeriVector2::dx</a></div><div class="ttdeci">double dx</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00115">Geo.h:115</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSlopeAtBSplineKnot_html_abe40abd41e9fdec8720db7e6f6d02fef"><div class="ttname"><a href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#abe40abd41e9fdec8720db7e6f6d02fef">GCS::ConstraintSlopeAtBSplineKnot::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00355">Constraints.cpp:355</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a2897cd0867db333676afe96ebfae41ee"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a2897cd0867db333676afe96ebfae41ee">GCS::P2LDistance</a></div><div class="ttdeci">@ P2LDistance</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00054">Constraints.h:54</a></div></div>
<div class="ttc" id="aclassGCS_1_1Point_html_a49cbaf813cfe2c442a03a15bd7acbb1b"><div class="ttname"><a href="../../d7/de8/classGCS_1_1Point.html#a49cbaf813cfe2c442a03a15bd7acbb1b">GCS::Point::ReconstructOnNewPvec</a></div><div class="ttdeci">void ReconstructOnNewPvec(VEC_pD &amp;pvec, int &amp;cnt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00046">Geo.cpp:46</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnPerpBisector_html_a88b26687d4b6366377e5370f7141ce6e"><div class="ttname"><a href="../../d2/d42/classGCS_1_1ConstraintPointOnPerpBisector.html#a88b26687d4b6366377e5370f7141ce6e">GCS::ConstraintPointOnPerpBisector::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01160">Constraints.cpp:1160</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2abda6e7371fbb686ed78d650301688a2a"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2abda6e7371fbb686ed78d650301688a2a">GCS::EllipseNegativeMajorX</a></div><div class="ttdeci">@ EllipseNegativeMajorX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00092">Constraints.h:92</a></div></div>
<div class="ttc" id="aclassGCS_1_1Curve_html_a520b344182a2552d3938b7053a3aff08"><div class="ttname"><a href="../../d5/d14/classGCS_1_1Curve.html#a520b344182a2552d3938b7053a3aff08">GCS::Curve::PushOwnParams</a></div><div class="ttdeci">virtual int PushOwnParams(VEC_pD &amp;pvec)=0</div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPerpendicular_html_aebd74171ac23ba4f9373901b038d8a96"><div class="ttname"><a href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#aebd74171ac23ba4f9373901b038d8a96">GCS::ConstraintPerpendicular::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01281">Constraints.cpp:1281</a></div></div>
<div class="ttc" id="anamespaceKDL_html_a18fd601f480771f35c7432404411824b"><div class="ttname"><a href="../../d0/dbc/namespaceKDL.html#a18fd601f480771f35c7432404411824b">KDL::atan2</a></div><div class="ttdeci">Rall1d&lt; T, V, S &gt; atan2(const Rall1d&lt; T, V, S &gt; &amp;y, const Rall1d&lt; T, V, S &gt; &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/rall1d_8h_source.html#l00453">rall1d.h:453</a></div></div>
<div class="ttc" id="aclassGCS_1_1Curve_html_a8ce05316fb85713deb983fe58c5a5bd8"><div class="ttname"><a href="../../d5/d14/classGCS_1_1Curve.html#a8ce05316fb85713deb983fe58c5a5bd8">GCS::Curve::Value</a></div><div class="ttdeci">virtual DeriVector2 Value(double u, double du, const double *derivparam=nullptr) const</div><div class="ttdoc">Value: returns point (vector) given the value of parameter.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00125">Geo.cpp:125</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnParabola_html_a4daf6553b2dd696eb134100fe4fbcb92"><div class="ttname"><a href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a4daf6553b2dd696eb134100fe4fbcb92">GCS::ConstraintPointOnParabola::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02541">Constraints.cpp:2541</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPoint_html_ad72f28d1e02ca12fede4280de430ca5d"><div class="ttname"><a href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ad72f28d1e02ca12fede4280de430ca5d">GCS::ConstraintAngleViaPoint::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02604">Constraints.cpp:2604</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2LDistance_html_a7889dc88e6bf771831d8808628aebe53"><div class="ttname"><a href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a7889dc88e6bf771831d8808628aebe53">GCS::ConstraintP2LDistance::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00903">Constraints.cpp:903</a></div></div>
<div class="ttc" id="anamespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear_html_a839db8974975e22c6a1b6ea42f312f9e"><div class="ttname"><a href="../../d3/d57/namespacesrc_1_1Mod_1_1PartDesign_1_1Scripts_1_1Gear.html#a839db8974975e22c6a1b6ea42f312f9e">src.Mod.PartDesign.Scripts.Gear.l1</a></div><div class="ttdeci">l1</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d19/Gear_8py_source.html#l00257">Gear.py:257</a></div></div>
<div class="ttc" id="anamespaceKDL_html_adb3f6f67f41bc87f6d98423ac7a5b92f"><div class="ttname"><a href="../../d0/dbc/namespaceKDL.html#adb3f6f67f41bc87f6d98423ac7a5b92f">KDL::max</a></div><div class="ttdeci">double max(double a, double b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d47/utility_8h_source.html#l00202">utility.h:202</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnHyperbola_html_ac1a13d9050fb04d99a9adf699acd6f0e"><div class="ttname"><a href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#ac1a13d9050fb04d99a9adf699acd6f0e">GCS::ConstraintPointOnHyperbola::ConstraintPointOnHyperbola</a></div><div class="ttdeci">ConstraintPointOnHyperbola(Point &amp;p, Hyperbola &amp;e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02334">Constraints.cpp:2334</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a7db90ba1ad4efc17acfa952f6f5a51ed"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a7db90ba1ad4efc17acfa952f6f5a51ed">GCS::TangentCircumf</a></div><div class="ttdeci">@ TangentCircumf</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00061">Constraints.h:61</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PDistance_html_a043b42b6b1aa90f1b29682191bf0b425"><div class="ttname"><a href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a043b42b6b1aa90f1b29682191bf0b425">GCS::ConstraintP2PDistance::ConstraintP2PDistance</a></div><div class="ttdeci">ConstraintP2PDistance(Point &amp;p1, Point &amp;p2, double *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00697">Constraints.cpp:697</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnLine_html_a0cb94d6b14fdd560baee9840ab9bdfc7"><div class="ttname"><a href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a0cb94d6b14fdd560baee9840ab9bdfc7">GCS::ConstraintPointOnLine::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01037">Constraints.cpp:1037</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_a98b1127b7b373fb70a5a59bf73052e04"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#a98b1127b7b373fb70a5a59bf73052e04">GCS::Constraint::scale</a></div><div class="ttdeci">double scale</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00123">Constraints.h:123</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a48f5041d3c159c534f2ca44c0fc98972"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a48f5041d3c159c534f2ca44c0fc98972">GCS::Parallel</a></div><div class="ttdeci">@ Parallel</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00057">Constraints.h:57</a></div></div>
<div class="ttc" id="aApp_2Datums_8cpp_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="../../de/d11/App_2Datums_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d11/App_2Datums_8cpp_source.html#l00036">App/Datums.cpp:36</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_a4f545453df32fc4a693400e4a1f26c51"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#a4f545453df32fc4a693400e4a1f26c51">GCS::Constraint::origpvec</a></div><div class="ttdeci">VEC_pD origpvec</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00121">Constraints.h:121</a></div></div>
<div class="ttc" id="anamespacepoint_html"><div class="ttname"><a href="../../d8/dbc/namespacepoint.html">point</a></div><div class="ttdoc">Provides the object code for the Point object.</div></div>
<div class="ttc" id="aclassGCS_1_1Line_html"><div class="ttname"><a href="../../d6/d00/classGCS_1_1Line.html">GCS::Line</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00218">Geo.h:218</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PAngle_html_ae50e87a9381352da0f6b8cad2332127c"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae50e87a9381352da0f6b8cad2332127c">GCS::ConstraintP2PAngle::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00831">Constraints.cpp:831</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnLine_html_aebe1886fec11ad0b17a852f40d66cfc7"><div class="ttname"><a href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#aebe1886fec11ad0b17a852f40d66cfc7">GCS::ConstraintPointOnLine::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01042">Constraints.cpp:1042</a></div></div>
<div class="ttc" id="anamespaceRobotExample_html_aef83831975f1d2dbe9776104a9271125"><div class="ttname"><a href="../../de/d70/namespaceRobotExample.html#aef83831975f1d2dbe9776104a9271125">RobotExample.l</a></div><div class="ttdeci">list l</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc0/RobotExample_8py_source.html#l00041">RobotExample.py:41</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintL2LAngle_html_ac6a45d8bb7ca541e24afae0536ec0141"><div class="ttname"><a href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#ac6a45d8bb7ca541e24afae0536ec0141">GCS::ConstraintL2LAngle::ConstraintL2LAngle</a></div><div class="ttdeci">ConstraintL2LAngle(Line &amp;l1, Line &amp;l2, double *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01334">Constraints.cpp:1334</a></div></div>
<div class="ttc" id="aclassGCS_1_1Parabola_html_af38a8dc5cc64d1b3e3f20b2bdd4f2251"><div class="ttname"><a href="../../d1/d23/classGCS_1_1Parabola.html#af38a8dc5cc64d1b3e3f20b2bdd4f2251">GCS::Parabola::vertex</a></div><div class="ttdeci">Point vertex</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00395">Geo.h:395</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqual_html_a10bc3b2b6bbb6ee5c9e130e500c40f12"><div class="ttname"><a href="../../de/da7/classGCS_1_1ConstraintEqual.html#a10bc3b2b6bbb6ee5c9e130e500c40f12">GCS::ConstraintEqual::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00135">Constraints.cpp:135</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnBSpline_html_a09dd3ad19281a4f198d1e559993763c0"><div class="ttname"><a href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a09dd3ad19281a4f198d1e559993763c0">GCS::ConstraintPointOnBSpline::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00558">Constraints.cpp:558</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_a72feaf993bc7495a68f8633b416d5b14"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#a72feaf993bc7495a68f8633b416d5b14">GCS::Constraint::rescale</a></div><div class="ttdeci">virtual void rescale(double coef=1.)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00081">Constraints.cpp:81</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnLine_html_a307b0811e1848bb634782aff48f9876a"><div class="ttname"><a href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#a307b0811e1848bb634782aff48f9876a">GCS::ConstraintPointOnLine::ConstraintPointOnLine</a></div><div class="ttdeci">ConstraintPointOnLine(Point &amp;p, Line &amp;l)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01013">Constraints.cpp:1013</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPerpendicular_html_a6c176386ed5ff40dd5f97c7000228cec"><div class="ttname"><a href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a6c176386ed5ff40dd5f97c7000228cec">GCS::ConstraintPerpendicular::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01276">Constraints.cpp:1276</a></div></div>
<div class="ttc" id="aclassGCS_1_1Arc_html_a5b00574cd42fc0bc04d07ff7892410e1"><div class="ttname"><a href="../../d7/d9d/classGCS_1_1Arc.html#a5b00574cd42fc0bc04d07ff7892410e1">GCS::Arc::PushOwnParams</a></div><div class="ttdeci">int PushOwnParams(VEC_pD &amp;pvec) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00235">Geo.cpp:235</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2afbf82ee56e8f00505c338354cb4c0b66"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2afbf82ee56e8f00505c338354cb4c0b66">GCS::EllipsePositiveMinorY</a></div><div class="ttdeci">@ EllipsePositiveMinorY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00095">Constraints.h:95</a></div></div>
<div class="ttc" id="aclassGCS_1_1Line_html_ab52a09ccbce3befd6d00c0e51894fced"><div class="ttname"><a href="../../d6/d00/classGCS_1_1Line.html#ab52a09ccbce3befd6d00c0e51894fced">GCS::Line::p1</a></div><div class="ttdeci">Point p1</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00225">Geo.h:225</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ad322a7af799b97c553a993974a2ffce2"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ad322a7af799b97c553a993974a2ffce2">GCS::P2CDistance</a></div><div class="ttdeci">@ P2CDistance</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00081">Constraints.h:81</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaTwoPoints_html_a700aecd8d1467dbf71e19d95bbd3e510"><div class="ttname"><a href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a700aecd8d1467dbf71e19d95bbd3e510">GCS::ConstraintAngleViaTwoPoints::~ConstraintAngleViaTwoPoints</a></div><div class="ttdeci">~ConstraintAngleViaTwoPoints() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02676">Constraints.cpp:2676</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintArcLength_html_a582bdf1da5ec7b7381d8f09bb1609180"><div class="ttname"><a href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a582bdf1da5ec7b7381d8f09bb1609180">GCS::ConstraintArcLength::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03568">Constraints.cpp:3568</a></div></div>
<div class="ttc" id="aclassGCS_1_1Point_html_a45e84079a4e343a8cdc6c8f40c21d2f1"><div class="ttname"><a href="../../d7/de8/classGCS_1_1Point.html#a45e84079a4e343a8cdc6c8f40c21d2f1">GCS::Point::x</a></div><div class="ttdeci">double * x</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00089">Geo.h:89</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqual_html_a70e0ee384e33c65f977857df01b44d8c"><div class="ttname"><a href="../../de/da7/classGCS_1_1ConstraintEqual.html#a70e0ee384e33c65f977857df01b44d8c">GCS::ConstraintEqual::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00125">Constraints.cpp:125</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html_a7d255c12c3ebcae31aa2397f266acc44"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html#a7d255c12c3ebcae31aa2397f266acc44">GCS::BSpline::degree</a></div><div class="ttdeci">int degree</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00446">Geo.h:446</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2CDistance_html_a160658e04db61e50369ec76be75c8270"><div class="ttname"><a href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a160658e04db61e50369ec76be75c8270">GCS::ConstraintC2CDistance::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03215">Constraints.cpp:3215</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a1bf237ca7812f3fcb2e952365898f9d2"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a1bf237ca7812f3fcb2e952365898f9d2">GCS::P2PAngle</a></div><div class="ttdeci">@ P2PAngle</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00053">Constraints.h:53</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a7137531ac5c8da0639ff7cbf538701f8"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a7137531ac5c8da0639ff7cbf538701f8">GCS::PointOnHyperbola</a></div><div class="ttdeci">@ PointOnHyperbola</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00070">Constraints.h:70</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PAngle_html_ae55a5d7afba4eaae0eab20eb261521bc"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae55a5d7afba4eaae0eab20eb261521bc">GCS::ConstraintP2PAngle::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00819">Constraints.cpp:819</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a3b9d2da4b22b8292e08b0fd7756f1b0d"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a3b9d2da4b22b8292e08b0fd7756f1b0d">GCS::AngleViaTwoPoints</a></div><div class="ttdeci">@ AngleViaTwoPoints</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00084">Constraints.h:84</a></div></div>
<div class="ttc" id="aclassGCS_1_1Hyperbola_html"><div class="ttname"><a href="../../d6/d0b/classGCS_1_1Hyperbola.html">GCS::Hyperbola</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00340">Geo.h:340</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html_aee6bcc16e14be4ed4015c056fed6e48f"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html#aee6bcc16e14be4ed4015c056fed6e48f">GCS::BSpline::getLinCombFactor</a></div><div class="ttdeci">double getLinCombFactor(double x, size_t k, size_t i, unsigned int p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l01099">Geo.cpp:1099</a></div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html">GCS::DeriVector2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00090">Geo.h:90</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PDistance_html_a0d3f79f30bfe93b7b9c8d1bf2df58a2d"><div class="ttname"><a href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a0d3f79f30bfe93b7b9c8d1bf2df58a2d">GCS::ConstraintP2PDistance::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00713">Constraints.cpp:713</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndTwoParams_html_ab6cbe0a7b228d7ddc47378cb08e35e73"><div class="ttname"><a href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#ab6cbe0a7b228d7ddc47378cb08e35e73">GCS::ConstraintAngleViaPointAndTwoParams::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02900">Constraints.cpp:2900</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSlopeAtBSplineKnot_html_aac4663b33247f4262dfd7c4b4b6412bd"><div class="ttname"><a href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#aac4663b33247f4262dfd7c4b4b6412bd">GCS::ConstraintSlopeAtBSplineKnot::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00343">Constraints.cpp:343</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnEllipse_html_a11d90b725d72394dccc6fb9c2e7ff06c"><div class="ttname"><a href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a11d90b725d72394dccc6fb9c2e7ff06c">GCS::ConstraintPointOnEllipse::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01663">Constraints.cpp:1663</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSlopeAtBSplineKnot_html_a504a8bfb47b6ae36cbc1bffbdcd925d5"><div class="ttname"><a href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#a504a8bfb47b6ae36cbc1bffbdcd925d5">GCS::ConstraintSlopeAtBSplineKnot::ConstraintSlopeAtBSplineKnot</a></div><div class="ttdeci">ConstraintSlopeAtBSplineKnot(BSpline &amp;b, Line &amp;l, size_t knotindex)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00283">Constraints.cpp:283</a></div></div>
<div class="ttc" id="aclassGCS_1_1Ellipse_html_a5b247101def1b74b727d8a131dfd90d2"><div class="ttname"><a href="../../dc/dd0/classGCS_1_1Ellipse.html#a5b247101def1b74b727d8a131dfd90d2">GCS::Ellipse::ReconstructOnNewPvec</a></div><div class="ttdeci">void ReconstructOnNewPvec(VEC_pD &amp;pvec, int &amp;cnt) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00381">Geo.cpp:381</a></div></div>
<div class="ttc" id="aclassGCS_1_1MajorRadiusConic_html"><div class="ttname"><a href="../../d3/df3/classGCS_1_1MajorRadiusConic.html">GCS::MajorRadiusConic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00275">Geo.h:275</a></div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html_a5d980143d1bb1f55e4cd457c9c1354e9"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html#a5d980143d1bb1f55e4cd457c9c1354e9">GCS::DeriVector2::scalarProd</a></div><div class="ttdeci">double scalarProd(const DeriVector2 &amp;v2, double *dprd=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00103">Geo.cpp:103</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ab933e55921c36a71e8779bee41630b9c"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ab933e55921c36a71e8779bee41630b9c">GCS::PointOnBSpline</a></div><div class="ttdeci">@ PointOnBSpline</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00078">Constraints.h:78</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2CDistance_html_a10579279a68388441068a6b5ef693d57"><div class="ttname"><a href="../../d8/ddd/classGCS_1_1ConstraintC2CDistance.html#a10579279a68388441068a6b5ef693d57">GCS::ConstraintC2CDistance::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03281">Constraints.cpp:3281</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html_aed6dae5b561f7936b5b8280bb9a0c286"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html#aed6dae5b561f7936b5b8280bb9a0c286">GCS::BSpline::setupFlattenedKnots</a></div><div class="ttdeci">void setupFlattenedKnots()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l01147">Geo.cpp:1147</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2LDistance_html_a890637d9404c4b920cb42c8f312959b2"><div class="ttname"><a href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a890637d9404c4b920cb42c8f312959b2">GCS::ConstraintC2LDistance::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03318">Constraints.cpp:3318</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2LDistance_html_a945e4d21a48ce62ee1b75d7e34e19f45"><div class="ttname"><a href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#a945e4d21a48ce62ee1b75d7e34e19f45">GCS::ConstraintP2LDistance::ConstraintP2LDistance</a></div><div class="ttdeci">ConstraintP2LDistance(Point &amp;p, Line &amp;l, double *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00880">Constraints.cpp:880</a></div></div>
<div class="ttc" id="aclassGCS_1_1Ellipse_html"><div class="ttname"><a href="../../dc/dd0/classGCS_1_1Ellipse.html">GCS::Ellipse</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00290">Geo.h:290</a></div></div>
<div class="ttc" id="aclassGCS_1_1Hyperbola_html_aa6c658d626de8d8def992aa40970bfe5"><div class="ttname"><a href="../../d6/d0b/classGCS_1_1Hyperbola.html#aa6c658d626de8d8def992aa40970bfe5">GCS::Hyperbola::radmin</a></div><div class="ttdeci">double * radmin</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00351">Geo.h:351</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ad8d83e713802c988e09d1ee85ba3629a"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ad8d83e713802c988e09d1ee85ba3629a">GCS::EqualFocalDistance</a></div><div class="ttdeci">@ EqualFocalDistance</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00073">Constraints.h:73</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola_html_af6a2e87fa928577435f80ce606ef18f9"><div class="ttname"><a href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#af6a2e87fa928577435f80ce606ef18f9">GCS::ConstraintInternalAlignmentPoint2Hyperbola::ConstraintInternalAlignmentPoint2Hyperbola</a></div><div class="ttdeci">ConstraintInternalAlignmentPoint2Hyperbola(Hyperbola &amp;e, Point &amp;p1, InternalAlignmentType alignmentType)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01947">Constraints.cpp:1947</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEllipseTangentLine_html_ac0cee389cf958f01ee7ceec07effa35f"><div class="ttname"><a href="../../d0/dbf/classGCS_1_1ConstraintEllipseTangentLine.html#ac0cee389cf958f01ee7ceec07effa35f">GCS::ConstraintEllipseTangentLine::ConstraintEllipseTangentLine</a></div><div class="ttdeci">ConstraintEllipseTangentLine(Line &amp;l, Ellipse &amp;e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01735">Constraints.cpp:1735</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2ad582a8a7dfe3a3dfe263048d0f72c828"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ad582a8a7dfe3a3dfe263048d0f72c828">GCS::HyperbolaNegativeMinorX</a></div><div class="ttdeci">@ HyperbolaNegativeMinorX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00106">Constraints.h:106</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_a4b6c2ec922dea351c14da306c0c0d983"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#a4b6c2ec922dea351c14da306c0c0d983">GCS::Constraint::redirectParams</a></div><div class="ttdeci">void redirectParams(const MAP_pD_pD &amp;redirectionmap)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00058">Constraints.cpp:58</a></div></div>
<div class="ttc" id="aclassGCS_1_1Ellipse_html_ac0a62c420a2992eeae16f69feadaa9b4"><div class="ttname"><a href="../../dc/dd0/classGCS_1_1Ellipse.html#ac0a62c420a2992eeae16f69feadaa9b4">GCS::Ellipse::PushOwnParams</a></div><div class="ttdeci">int PushOwnParams(VEC_pD &amp;pvec) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00366">Geo.cpp:366</a></div></div>
<div class="ttc" id="aclassGCS_1_1Hyperbola_html_aff0b449fc1515953d437abf9ed8d047a"><div class="ttname"><a href="../../d6/d0b/classGCS_1_1Hyperbola.html#aff0b449fc1515953d437abf9ed8d047a">GCS::Hyperbola::center</a></div><div class="ttdeci">Point center</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00349">Geo.h:349</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a3b0285fc85c29591ade070361702e269"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a3b0285fc85c29591ade070361702e269">GCS::HyperbolaNegativeMajorX</a></div><div class="ttdeci">@ HyperbolaNegativeMajorX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00102">Constraints.h:102</a></div></div>
<div class="ttc" id="aclassGCS_1_1Hyperbola_html_a311838aa354b71a268ef9ff60a055dd0"><div class="ttname"><a href="../../d6/d0b/classGCS_1_1Hyperbola.html#a311838aa354b71a268ef9ff60a055dd0">GCS::Hyperbola::PushOwnParams</a></div><div class="ttdeci">int PushOwnParams(VEC_pD &amp;pvec) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00532">Geo.cpp:532</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a57da578fcdba2f206748bebeb48119c4"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a57da578fcdba2f206748bebeb48119c4">GCS::PointOnLine</a></div><div class="ttdeci">@ PointOnLine</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00055">Constraints.h:55</a></div></div>
<div class="ttc" id="anamespaceMovieTool_html_a64759ecfbf20a226f93995c0dbf569f4"><div class="ttname"><a href="../../dd/d94/namespaceMovieTool.html#a64759ecfbf20a226f93995c0dbf569f4">MovieTool.x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6c/MovieTool_8py_source.html#l00005">MovieTool.py:5</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaTwoPoints_html_a3632e4f2a5a2f8c2da3a4a0f5c718a7b"><div class="ttname"><a href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a3632e4f2a5a2f8c2da3a4a0f5c718a7b">GCS::ConstraintAngleViaTwoPoints::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02711">Constraints.cpp:2711</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2CDistance_html_a2e8e2414d62c45aaf39577247dbbe119"><div class="ttname"><a href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#a2e8e2414d62c45aaf39577247dbbe119">GCS::ConstraintP2CDistance::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03476">Constraints.cpp:3476</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintArcLength_html_a9df1362acec012fd8e9bb1d2aaab1a07"><div class="ttname"><a href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a9df1362acec012fd8e9bb1d2aaab1a07">GCS::ConstraintArcLength::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03518">Constraints.cpp:3518</a></div></div>
<div class="ttc" id="aclassGCS_1_1ArcOfHyperbola_html"><div class="ttname"><a href="../../d5/d83/classGCS_1_1ArcOfHyperbola.html">GCS::ArcOfHyperbola</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00366">Geo.h:366</a></div></div>
<div class="ttc" id="aclassGCS_1_1Ellipse_html_abd1a03f83d878c8718097760ad441a9f"><div class="ttname"><a href="../../dc/dd0/classGCS_1_1Ellipse.html#abd1a03f83d878c8718097760ad441a9f">GCS::Ellipse::radmin</a></div><div class="ttdeci">double * radmin</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00301">Geo.h:301</a></div></div>
<div class="ttc" id="anamespaceGCS_html"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html">GCS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00041">Constraints.cpp:41</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2LDistance_html_ae327616aa4a123a214f015ce76c7a289"><div class="ttname"><a href="../../da/d8d/classGCS_1_1ConstraintP2LDistance.html#ae327616aa4a123a214f015ce76c7a289">GCS::ConstraintP2LDistance::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00915">Constraints.cpp:915</a></div></div>
<div class="ttc" id="aConstraints_8h_html"><div class="ttname"><a href="../../de/d6e/Constraints_8h.html">Constraints.h</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndParam_html_a31dca161f603afb9ab663cdca1087792"><div class="ttname"><a href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#a31dca161f603afb9ab663cdca1087792">GCS::ConstraintAngleViaPointAndParam::ConstraintAngleViaPointAndParam</a></div><div class="ttdeci">ConstraintAngleViaPointAndParam(Curve &amp;acrv1, Curve &amp;acrv2, Point p, double *param1, double *angle)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02758">Constraints.cpp:2758</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2CDistance_html_a3fdf4831a5c14f51fa55d8795dbfd333"><div class="ttname"><a href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#a3fdf4831a5c14f51fa55d8795dbfd333">GCS::ConstraintP2CDistance::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03422">Constraints.cpp:3422</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndTwoParams_html_aca47b43334b61a3b03ba27510c439d3e"><div class="ttname"><a href="../../d0/d6f/classGCS_1_1ConstraintAngleViaPointAndTwoParams.html#aca47b43334b61a3b03ba27510c439d3e">GCS::ConstraintAngleViaPointAndTwoParams::ConstraintAngleViaPointAndTwoParams</a></div><div class="ttdeci">ConstraintAngleViaPointAndTwoParams(Curve &amp;acrv1, Curve &amp;acrv2, Point p, double *param1, double *param2, double *angle)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02856">Constraints.cpp:2856</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2">GCS::InternalAlignmentType</a></div><div class="ttdeci">InternalAlignmentType</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00088">Constraints.h:88</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924aa3e65031f20368ff420765d8b49b6e01"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924aa3e65031f20368ff420765d8b49b6e01">GCS::Equal</a></div><div class="ttdeci">@ Equal</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00050">Constraints.h:50</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnParabola_html_a147a026297d17110e5d09caaccbb5793"><div class="ttname"><a href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a147a026297d17110e5d09caaccbb5793">GCS::ConstraintPointOnParabola::ConstraintPointOnParabola</a></div><div class="ttdeci">ConstraintPointOnParabola(Point &amp;p, Parabola &amp;e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02455">Constraints.cpp:2455</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCenterOfGravity_html_a6ab57bd85aec60390150b18dba59ae9c"><div class="ttname"><a href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a6ab57bd85aec60390150b18dba59ae9c">GCS::ConstraintCenterOfGravity::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00244">Constraints.cpp:244</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a7217a4502a74d0435cec9d4a66f78c6d"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a7217a4502a74d0435cec9d4a66f78c6d">GCS::AngleViaPoint</a></div><div class="ttdeci">@ AngleViaPoint</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00067">Constraints.h:67</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSnell_html_ab0f723e3d51f771f567e05b17df1c8fc"><div class="ttname"><a href="../../de/d26/classGCS_1_1ConstraintSnell.html#ab0f723e3d51f771f567e05b17df1c8fc">GCS::ConstraintSnell::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03011">Constraints.cpp:3011</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnHyperbola_html_a89bb402cd1de8a3971cab411b9373599"><div class="ttname"><a href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a89bb402cd1de8a3971cab411b9373599">GCS::ConstraintPointOnHyperbola::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02399">Constraints.cpp:2399</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnLine_html_ac535694a5c19989aed50a0a86419a9c4"><div class="ttname"><a href="../../d1/deb/classGCS_1_1ConstraintPointOnLine.html#ac535694a5c19989aed50a0a86419a9c4">GCS::ConstraintPointOnLine::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01058">Constraints.cpp:1058</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualFocalDistance_html_aa97d08e04c07f914074f03497c9df2c9"><div class="ttname"><a href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aa97d08e04c07f914074f03497c9df2c9">GCS::ConstraintEqualFocalDistance::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02166">Constraints.cpp:2166</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2ad043e5467aa2a1069a978eac02d82fc0"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2ad043e5467aa2a1069a978eac02d82fc0">GCS::HyperbolaNegativeMinorY</a></div><div class="ttdeci">@ HyperbolaNegativeMinorY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00107">Constraints.h:107</a></div></div>
<div class="ttc" id="aclassGCS_1_1Arc_html_a3ecfbaab0c2114926b0bcce3d6909660"><div class="ttname"><a href="../../d7/d9d/classGCS_1_1Arc.html#a3ecfbaab0c2114926b0bcce3d6909660">GCS::Arc::startAngle</a></div><div class="ttdeci">double * startAngle</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00263">Geo.h:263</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924af04bb17302b3161b0de43c395fedc3f9"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924af04bb17302b3161b0de43c395fedc3f9">GCS::PointOnPerpBisector</a></div><div class="ttdeci">@ PointOnPerpBisector</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00056">Constraints.h:56</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualFocalDistance_html_aa0a23e034fc22f082e9e6c84733f4a26"><div class="ttname"><a href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#aa0a23e034fc22f082e9e6c84733f4a26">GCS::ConstraintEqualFocalDistance::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02210">Constraints.cpp:2210</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualLineLength_html_ae161c2b5506907b50cbea229ed09ad7b"><div class="ttname"><a href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#ae161c2b5506907b50cbea229ed09ad7b">GCS::ConstraintEqualLineLength::ConstraintEqualLineLength</a></div><div class="ttdeci">ConstraintEqualLineLength(Line &amp;l1, Line &amp;l2)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03075">Constraints.cpp:3075</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintWeightedLinearCombination_html_ac5b3cdea87900c65ede85c936219ee25"><div class="ttname"><a href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ac5b3cdea87900c65ede85c936219ee25">GCS::ConstraintWeightedLinearCombination::ConstraintWeightedLinearCombination</a></div><div class="ttdeci">ConstraintWeightedLinearCombination(size_t givennumpoints, const std::vector&lt; double * &gt; &amp;givenpvec, const std::vector&lt; double &gt; &amp;givenfactors)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00155">Constraints.cpp:155</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaTwoPoints_html_a6e9f6e7f787ea144afc74fe6652eb6ca"><div class="ttname"><a href="../../d0/dc7/classGCS_1_1ConstraintAngleViaTwoPoints.html#a6e9f6e7f787ea144afc74fe6652eb6ca">GCS::ConstraintAngleViaTwoPoints::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02732">Constraints.cpp:2732</a></div></div>
<div class="ttc" id="anamespaceGCS_html_af7f92fc184daf9388f8a48ab93afb8b7"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#af7f92fc184daf9388f8a48ab93afb8b7">GCS::MAP_pD_D</a></div><div class="ttdeci">std::map&lt; double *, double &gt; MAP_pD_D</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/Util_8h_source.html#l00057">Util.h:57</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnParabola_html_a96d21e4c4b0b714f65ce845cc1d12e9e"><div class="ttname"><a href="../../db/d85/classGCS_1_1ConstraintPointOnParabola.html#a96d21e4c4b0b714f65ce845cc1d12e9e">GCS::ConstraintPointOnParabola::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02548">Constraints.cpp:2548</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola_html_ab0f688bc9fd964567893c3a83b2fa6be"><div class="ttname"><a href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#ab0f688bc9fd964567893c3a83b2fa6be">GCS::ConstraintInternalAlignmentPoint2Hyperbola::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01978">Constraints.cpp:1978</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnEllipse_html_a160f3cef91cf12784bc9ca166e3940ec"><div class="ttname"><a href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a160f3cef91cf12784bc9ca166e3940ec">GCS::ConstraintPointOnEllipse::ConstraintPointOnEllipse</a></div><div class="ttdeci">ConstraintPointOnEllipse(Point &amp;p, Ellipse &amp;e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01640">Constraints.cpp:1640</a></div></div>
<div class="ttc" id="aclassGCS_1_1Line_html_a67bf7bc2feb397c67825847b2240ee1e"><div class="ttname"><a href="../../d6/d00/classGCS_1_1Line.html#a67bf7bc2feb397c67825847b2240ee1e">GCS::Line::PushOwnParams</a></div><div class="ttdeci">int PushOwnParams(VEC_pD &amp;pvec) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00151">Geo.cpp:151</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a55af29b83f07764700a11c0eafc8793e"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a55af29b83f07764700a11c0eafc8793e">GCS::MidpointOnLine</a></div><div class="ttdeci">@ MidpointOnLine</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00060">Constraints.h:60</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ab5f317596a38094694a4cc70b12b03b4"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ab5f317596a38094694a4cc70b12b03b4">GCS::SlopeAtBSplineKnot</a></div><div class="ttdeci">@ SlopeAtBSplineKnot</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00077">Constraints.h:77</a></div></div>
<div class="ttc" id="aclassGCS_1_1Ellipse_html_a0ee4ef12b506ab687d3a554b232291d5"><div class="ttname"><a href="../../dc/dd0/classGCS_1_1Ellipse.html#a0ee4ef12b506ab687d3a554b232291d5">GCS::Ellipse::focus1</a></div><div class="ttdeci">Point focus1</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00300">Geo.h:300</a></div></div>
<div class="ttc" id="aclassGCS_1_1Line_html_a7f397d0f8283c64eecc17c600f304f98"><div class="ttname"><a href="../../d6/d00/classGCS_1_1Line.html#a7f397d0f8283c64eecc17c600f304f98">GCS::Line::ReconstructOnNewPvec</a></div><div class="ttdeci">void ReconstructOnNewPvec(VEC_pD &amp;pvec, int &amp;cnt) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00164">Geo.cpp:164</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqual_html_abdd391a387e6f5ee8a5271d27b5c330c"><div class="ttname"><a href="../../de/da7/classGCS_1_1ConstraintEqual.html#abdd391a387e6f5ee8a5271d27b5c330c">GCS::ConstraintEqual::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00140">Constraints.cpp:140</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924adfcc04ad511cd15305a5c0a5c850c99c"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924adfcc04ad511cd15305a5c0a5c850c99c">GCS::C2LDistance</a></div><div class="ttdeci">@ C2LDistance</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00080">Constraints.h:80</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_ab4b9e2fe31d8c0f9c1719a0731a290da"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#ab4b9e2fe31d8c0f9c1719a0731a290da">GCS::Constraint::maxStep</a></div><div class="ttdeci">virtual double maxStep(MAP_pD_D &amp;dir, double lim=1.)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00096">Constraints.cpp:96</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintDifference_html_a1b512f30ab76d2dc711b416c57bb53f2"><div class="ttname"><a href="../../de/d45/classGCS_1_1ConstraintDifference.html#a1b512f30ab76d2dc711b416c57bb53f2">GCS::ConstraintDifference::ConstraintDifference</a></div><div class="ttdeci">ConstraintDifference(double *p1, double *p2, double *d)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00655">Constraints.cpp:655</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PAngle_html_a42c0171619de6e6ca0f61b481ff1ecec"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#a42c0171619de6e6ca0f61b481ff1ecec">GCS::ConstraintP2PAngle::maxStep</a></div><div class="ttdeci">double maxStep(MAP_pD_D &amp;dir, double lim=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00865">Constraints.cpp:865</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a5b55ef131a3d4092cb1e753bb1b7fcda"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a5b55ef131a3d4092cb1e753bb1b7fcda">GCS::C2CDistance</a></div><div class="ttdeci">@ C2CDistance</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00079">Constraints.h:79</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPointAndParam_html_a4716999171df6a3a9764b63b487b4a98"><div class="ttname"><a href="../../d0/dc2/classGCS_1_1ConstraintAngleViaPointAndParam.html#a4716999171df6a3a9764b63b487b4a98">GCS::ConstraintAngleViaPointAndParam::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02799">Constraints.cpp:2799</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html_a0755e71f0a6e7feced586053be91f16e"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html#a0755e71f0a6e7feced586053be91f16e">GCS::BSpline::splineValue</a></div><div class="ttdeci">static double splineValue(double x, size_t k, unsigned int p, VEC_D &amp;d, const VEC_D &amp;flatknots)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l01134">Geo.cpp:1134</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a98f580cbd233f92a6327b648cd9a1eae"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a98f580cbd233f92a6327b648cd9a1eae">GCS::EllipsePositiveMinorX</a></div><div class="ttdeci">@ EllipsePositiveMinorX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00094">Constraints.h:94</a></div></div>
<div class="ttc" id="aclassGCS_1_1Hyperbola_html_a15facd51eb954cfd3d9bf96718109cbf"><div class="ttname"><a href="../../d6/d0b/classGCS_1_1Hyperbola.html#a15facd51eb954cfd3d9bf96718109cbf">GCS::Hyperbola::focus1</a></div><div class="ttdeci">Point focus1</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00350">Geo.h:350</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintL2LAngle_html_a75aafdb4fe02854401bcc7aaa22e2ad9"><div class="ttname"><a href="../../de/d3f/classGCS_1_1ConstraintL2LAngle.html#a75aafdb4fe02854401bcc7aaa22e2ad9">GCS::ConstraintL2LAngle::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01368">Constraints.cpp:1368</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2CDistance_html_af031f9b7b51320071866358e081e7d76"><div class="ttname"><a href="../../d2/d69/classGCS_1_1ConstraintP2CDistance.html#af031f9b7b51320071866358e081e7d76">GCS::ConstraintP2CDistance::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03483">Constraints.cpp:3483</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintWeightedLinearCombination_html_adfb84226f29ab77c26cdaaab2e513076"><div class="ttname"><a href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#adfb84226f29ab77c26cdaaab2e513076">GCS::ConstraintWeightedLinearCombination::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00174">Constraints.cpp:174</a></div></div>
<div class="ttc" id="aclassGCS_1_1BSpline_html"><div class="ttname"><a href="../../d7/d41/classGCS_1_1BSpline.html">GCS::BSpline</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00425">Geo.h:425</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintParallel_html_a8744ffb78b4474aba7279fd61240192e"><div class="ttname"><a href="../../df/d81/classGCS_1_1ConstraintParallel.html#a8744ffb78b4474aba7279fd61240192e">GCS::ConstraintParallel::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01195">Constraints.cpp:1195</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Ellipse_html_a890bc4fc04fbc39609e43e00ac038a7a"><div class="ttname"><a href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#a890bc4fc04fbc39609e43e00ac038a7a">GCS::ConstraintInternalAlignmentPoint2Ellipse::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01856">Constraints.cpp:1856</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola_html_ab31eb416277c11b32bf872e188b20b46"><div class="ttname"><a href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#ab31eb416277c11b32bf872e188b20b46">GCS::ConstraintInternalAlignmentPoint2Hyperbola::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02058">Constraints.cpp:2058</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PAngle_html_ae1415cee5acb0d754db44ea3b148fe00"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintP2PAngle.html#ae1415cee5acb0d754db44ea3b148fe00">GCS::ConstraintP2PAngle::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00814">Constraints.cpp:814</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnBSpline_html_a7018a557b5e5f0acf883b10832092847"><div class="ttname"><a href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a7018a557b5e5f0acf883b10832092847">GCS::ConstraintPointOnBSpline::startpole</a></div><div class="ttdeci">size_t startpole</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00357">Constraints.h:357</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualFocalDistance_html_a0f9c4779744f443c903d28d1126f3831"><div class="ttname"><a href="../../d6/d21/classGCS_1_1ConstraintEqualFocalDistance.html#a0f9c4779744f443c903d28d1126f3831">GCS::ConstraintEqualFocalDistance::ConstraintEqualFocalDistance</a></div><div class="ttdeci">ConstraintEqualFocalDistance(ArcOfParabola *a1, ArcOfParabola *a2)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02142">Constraints.cpp:2142</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualMajorAxesConic_html_ad78783ea2403ab6617f2fb38aa7c6d32"><div class="ttname"><a href="../../d8/d04/classGCS_1_1ConstraintEqualMajorAxesConic.html#ad78783ea2403ab6617f2fb38aa7c6d32">GCS::ConstraintEqualMajorAxesConic::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02128">Constraints.cpp:2128</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a164cc7e89f0ea1f8df42e15bfa144f5b"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a164cc7e89f0ea1f8df42e15bfa144f5b">GCS::EllipsePositiveMajorX</a></div><div class="ttdeci">@ EllipsePositiveMajorX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00090">Constraints.h:90</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnBSpline_html_a79308ac7dc6f123cea24999f944e4f93"><div class="ttname"><a href="../../d4/d4c/classGCS_1_1ConstraintPointOnBSpline.html#a79308ac7dc6f123cea24999f944e4f93">GCS::ConstraintPointOnBSpline::numpoints</a></div><div class="ttdeci">size_t numpoints</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00355">Constraints.h:355</a></div></div>
<div class="ttc" id="agroup__DRAFTVECUTILS_html_ga2af953a65bfefb422584aa67c55dbc39"><div class="ttname"><a href="../../dc/dc3/group__DRAFTVECUTILS.html#ga2af953a65bfefb422584aa67c55dbc39">DraftVecUtils.dist</a></div><div class="ttdeci">def dist(u, v)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d18/DraftVecUtils_8py_source.html#l00261">DraftVecUtils.py:261</a></div></div>
<div class="ttc" id="aclassGCS_1_1MajorRadiusConic_html_aa7a3fe1379485804f9b9102f672eed6c"><div class="ttname"><a href="../../d3/df3/classGCS_1_1MajorRadiusConic.html#aa7a3fe1379485804f9b9102f672eed6c">GCS::MajorRadiusConic::getRadMaj</a></div><div class="ttdeci">virtual double getRadMaj(const DeriVector2 &amp;center, const DeriVector2 &amp;f1, double b, double db, double &amp;ret_dRadMaj) const =0</div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Ellipse_html_abc8583ad0b29ca1ff30b6d70570837f7"><div class="ttname"><a href="../../d8/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Ellipse.html#abc8583ad0b29ca1ff30b6d70570837f7">GCS::ConstraintInternalAlignmentPoint2Ellipse::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01924">Constraints.cpp:1924</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintArcLength_html_a5abb00636d237f23d08ed32098ac329b"><div class="ttname"><a href="../../d0/d7c/classGCS_1_1ConstraintArcLength.html#a5abb00636d237f23d08ed32098ac329b">GCS::ConstraintArcLength::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03561">Constraints.cpp:3561</a></div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html_a3bf8878a7f8321f5f2e39ea408a56e77"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html#a3bf8878a7f8321f5f2e39ea408a56e77">GCS::DeriVector2::length</a></div><div class="ttdeci">double length() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00118">Geo.h:118</a></div></div>
<div class="ttc" id="anamespaceKDL_html_a7863c8fcae13280dc4f2155d80532cef"><div class="ttname"><a href="../../d0/dbc/namespaceKDL.html#a7863c8fcae13280dc4f2155d80532cef">KDL::sqrt</a></div><div class="ttdeci">Rall1d&lt; T, V, S &gt; sqrt(const Rall1d&lt; T, V, S &gt; &amp;arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/rall1d_8h_source.html#l00391">rall1d.h:391</a></div></div>
<div class="ttc" id="aclassGCS_1_1ArcOfParabola_html_a94f5fef60be8bec9ed8420016d73a3e9"><div class="ttname"><a href="../../d3/d10/classGCS_1_1ArcOfParabola.html#a94f5fef60be8bec9ed8420016d73a3e9">GCS::ArcOfParabola::PushOwnParams</a></div><div class="ttdeci">int PushOwnParams(VEC_pD &amp;pvec) override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00689">Geo.cpp:689</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924a5801c62bcc28caab04f05c541826d1f0"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924a5801c62bcc28caab04f05c541826d1f0">GCS::WeightedLinearCombination</a></div><div class="ttdeci">@ WeightedLinearCombination</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00076">Constraints.h:76</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSnell_html_a722e6b5cbde9dd737db9568b56a0ba17"><div class="ttname"><a href="../../de/d26/classGCS_1_1ConstraintSnell.html#a722e6b5cbde9dd737db9568b56a0ba17">GCS::ConstraintSnell::ConstraintSnell</a></div><div class="ttdeci">ConstraintSnell(Curve &amp;ray1, Curve &amp;ray2, Curve &amp;boundary, Point p, double *n1, double *n2, bool flipn1, bool flipn2)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02958">Constraints.cpp:2958</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola_html_a0e97181f6bfb7c95772751869a15761b"><div class="ttname"><a href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#a0e97181f6bfb7c95772751869a15761b">GCS::ConstraintInternalAlignmentPoint2Hyperbola::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01973">Constraints.cpp:1973</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqualLineLength_html_a3aadc5a012dd53dca1bca90cecbdae15"><div class="ttname"><a href="../../d2/d77/classGCS_1_1ConstraintEqualLineLength.html#a3aadc5a012dd53dca1bca90cecbdae15">GCS::ConstraintEqualLineLength::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03095">Constraints.cpp:3095</a></div></div>
<div class="ttc" id="aclassGCS_1_1Line_html_a8dcb73106a85aaf8423feb28d4440e08"><div class="ttname"><a href="../../d6/d00/classGCS_1_1Line.html#a8dcb73106a85aaf8423feb28d4440e08">GCS::Line::CalculateNormal</a></div><div class="ttdeci">DeriVector2 CalculateNormal(const Point &amp;p, const double *derivparam=nullptr) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00133">Geo.cpp:133</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PDistance_html_a153359d51138ee178b37d657e3ac61bc"><div class="ttname"><a href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a153359d51138ee178b37d657e3ac61bc">GCS::ConstraintP2PDistance::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00718">Constraints.cpp:718</a></div></div>
<div class="ttc" id="anamespaceDice3DS_1_1dom3ds_html_ae638295d35b7db4731e1bf3086fa1097"><div class="ttname"><a href="../../d1/d3e/namespaceDice3DS_1_1dom3ds.html#ae638295d35b7db4731e1bf3086fa1097">Dice3DS.dom3ds.tag</a></div><div class="ttdeci">tag</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d7d/dom3ds_8py_source.html#l00761">dom3ds.py:761</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnEllipse_html_a6241c7c59c5db15602786be15f9e4669"><div class="ttname"><a href="../../d4/db3/classGCS_1_1ConstraintPointOnEllipse.html#a6241c7c59c5db15602786be15f9e4669">GCS::ConstraintPointOnEllipse::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01679">Constraints.cpp:1679</a></div></div>
<div class="ttc" id="aclassGCS_1_1DeriVector2_html_a541397c13e60c7aeb1f6493c4bd2d6af"><div class="ttname"><a href="../../d7/dc6/classGCS_1_1DeriVector2.html#a541397c13e60c7aeb1f6493c4bd2d6af">GCS::DeriVector2::rotate90cw</a></div><div class="ttdeci">DeriVector2 rotate90cw() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00157">Geo.h:157</a></div></div>
<div class="ttc" id="anamespaceInit_html_af816f5a6ddfc3263e2939401976c4482"><div class="ttname"><a href="../../d7/d4b/namespaceInit.html#af816f5a6ddfc3263e2939401976c4482">Init.param</a></div><div class="ttdeci">param</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d86/OpenSCAD_2Init_8py_source.html#l00031">OpenSCAD/Init.py:31</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintParallel_html_a7a4dbd48cff2ab58c56fbd92311e13ad"><div class="ttname"><a href="../../df/d81/classGCS_1_1ConstraintParallel.html#a7a4dbd48cff2ab58c56fbd92311e13ad">GCS::ConstraintParallel::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01190">Constraints.cpp:1190</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCenterOfGravity_html_a92a24cab46469cacac599d6bdcad7802"><div class="ttname"><a href="../../d1/d2d/classGCS_1_1ConstraintCenterOfGravity.html#a92a24cab46469cacac599d6bdcad7802">GCS::ConstraintCenterOfGravity::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00249">Constraints.cpp:249</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintMidpointOnLine_html_a6d04f064e0fbe1187b9c760cd8ab6846"><div class="ttname"><a href="../../df/d40/classGCS_1_1ConstraintMidpointOnLine.html#a6d04f064e0fbe1187b9c760cd8ab6846">GCS::ConstraintMidpointOnLine::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01501">Constraints.cpp:1501</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintWeightedLinearCombination_html_ac780726ad83b05901c7810585dc095ae"><div class="ttname"><a href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ac780726ad83b05901c7810585dc095ae">GCS::ConstraintWeightedLinearCombination::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00179">Constraints.cpp:179</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola_html_aabe12fad4513a858eb931874df55e1e1"><div class="ttname"><a href="../../d2/d9f/classGCS_1_1ConstraintInternalAlignmentPoint2Hyperbola.html#aabe12fad4513a858eb931874df55e1e1">GCS::ConstraintInternalAlignmentPoint2Hyperbola::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02051">Constraints.cpp:2051</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPointOnHyperbola_html_a4cb48fb548ed0ba65d5e5a67a799e06f"><div class="ttname"><a href="../../de/ded/classGCS_1_1ConstraintPointOnHyperbola.html#a4cb48fb548ed0ba65d5e5a67a799e06f">GCS::ConstraintPointOnHyperbola::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02370">Constraints.cpp:2370</a></div></div>
<div class="ttc" id="aclassGCS_1_1Arc_html_aa3603dbf7e59d2f26d225751ad8845f1"><div class="ttname"><a href="../../d7/d9d/classGCS_1_1Arc.html#aa3603dbf7e59d2f26d225751ad8845f1">GCS::Arc::endAngle</a></div><div class="ttdeci">double * endAngle</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00264">Geo.h:264</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintPerpendicular_html_a8901181d5d7f59877487d872f4905918"><div class="ttname"><a href="../../d2/d00/classGCS_1_1ConstraintPerpendicular.html#a8901181d5d7f59877487d872f4905918">GCS::ConstraintPerpendicular::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01299">Constraints.cpp:1299</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ab2675e900469b5f1d1660cfe3a9da905"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ab2675e900469b5f1d1660cfe3a9da905">GCS::PointOnParabola</a></div><div class="ttdeci">@ PointOnParabola</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00072">Constraints.h:72</a></div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924ac9dc39b0e54986c5e3c035758e809a54"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924ac9dc39b0e54986c5e3c035758e809a54">GCS::Perpendicular</a></div><div class="ttdeci">@ Perpendicular</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00058">Constraints.h:58</a></div></div>
<div class="ttc" id="aclassGCS_1_1Constraint_html_a97565feeb7902c85229e8f7af15bea43"><div class="ttname"><a href="../../d8/d3c/classGCS_1_1Constraint.html#a97565feeb7902c85229e8f7af15bea43">GCS::Constraint::pvecChangedFlag</a></div><div class="ttdeci">bool pvecChangedFlag</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00127">Constraints.h:127</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintEqual_html_a69695ece76594a9812d142a238b9d95e"><div class="ttname"><a href="../../de/da7/classGCS_1_1ConstraintEqual.html#a69695ece76594a9812d142a238b9d95e">GCS::ConstraintEqual::rescale</a></div><div class="ttdeci">void rescale(double coef=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00130">Constraints.cpp:130</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintC2LDistance_html_a0423fdbe60f296a522ea362b7d064870"><div class="ttname"><a href="../../dd/d06/classGCS_1_1ConstraintC2LDistance.html#a0423fdbe60f296a522ea362b7d064870">GCS::ConstraintC2LDistance::error</a></div><div class="ttdeci">double error() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l03385">Constraints.cpp:3385</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintAngleViaPoint_html_ae50d728ea44d2749434c34989e7f8c38"><div class="ttname"><a href="../../d9/d81/classGCS_1_1ConstraintAngleViaPoint.html#ae50d728ea44d2749434c34989e7f8c38">GCS::ConstraintAngleViaPoint::~ConstraintAngleViaPoint</a></div><div class="ttdeci">~ConstraintAngleViaPoint() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02578">Constraints.cpp:2578</a></div></div>
<div class="ttc" id="aclassGCS_1_1Ellipse_html_ae73a8ecc1a6808d29518857af75b0d0f"><div class="ttname"><a href="../../dc/dd0/classGCS_1_1Ellipse.html#ae73a8ecc1a6808d29518857af75b0d0f">GCS::Ellipse::getRadMaj</a></div><div class="ttdeci">double getRadMaj(const DeriVector2 &amp;center, const DeriVector2 &amp;f1, double b, double db, double &amp;ret_dRadMaj) const override</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db2/Geo_8cpp_source.html#l00279">Geo.cpp:279</a></div></div>
<div class="ttc" id="anamespacescale_html"><div class="ttname"><a href="../../da/dc3/namespacescale.html">scale</a></div><div class="ttdoc">Provides functions to scale shapes.</div></div>
<div class="ttc" id="anamespaceGCS_html_afef7f4135def2c2600d7176ccebbd924abe20f7160ea1114eed7fcab18c062735"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#afef7f4135def2c2600d7176ccebbd924abe20f7160ea1114eed7fcab18c062735">GCS::Snell</a></div><div class="ttdeci">@ Snell</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00068">Constraints.h:68</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintTangentCircumf_html_a4a8d3258eb1ecede5e9d6bd94de6b71d"><div class="ttname"><a href="../../d2/d98/classGCS_1_1ConstraintTangentCircumf.html#a4a8d3258eb1ecede5e9d6bd94de6b71d">GCS::ConstraintTangentCircumf::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l01576">Constraints.cpp:1576</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintP2PDistance_html_a658e24f9972721b6df5c31b01bb6287c"><div class="ttname"><a href="../../d5/d0e/classGCS_1_1ConstraintP2PDistance.html#a658e24f9972721b6df5c31b01bb6287c">GCS::ConstraintP2PDistance::maxStep</a></div><div class="ttdeci">double maxStep(MAP_pD_D &amp;dir, double lim=1.) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00754">Constraints.cpp:754</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a68558a675026d9869bb14c9ed72f141f"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a68558a675026d9869bb14c9ed72f141f">GCS::EllipsePositiveMajorY</a></div><div class="ttdeci">@ EllipsePositiveMajorY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00091">Constraints.h:91</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintSlopeAtBSplineKnot_html_ac050eaa69cbc0896c0e7fdee97ccd09b"><div class="ttname"><a href="../../d9/d9a/classGCS_1_1ConstraintSlopeAtBSplineKnot.html#ac050eaa69cbc0896c0e7fdee97ccd09b">GCS::ConstraintSlopeAtBSplineKnot::grad</a></div><div class="ttdeci">double grad(double *) override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00389">Constraints.cpp:389</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintCurveValue_html_a6a1c53309d14326c289aa78e54078dff"><div class="ttname"><a href="../../d4/d57/classGCS_1_1ConstraintCurveValue.html#a6a1c53309d14326c289aa78e54078dff">GCS::ConstraintCurveValue::~ConstraintCurveValue</a></div><div class="ttdeci">~ConstraintCurveValue() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l02239">Constraints.cpp:2239</a></div></div>
<div class="ttc" id="aclassGCS_1_1ConstraintWeightedLinearCombination_html_ade7ebcc2009fcc748d77789586445ba1"><div class="ttname"><a href="../../d7/d05/classGCS_1_1ConstraintWeightedLinearCombination.html#ade7ebcc2009fcc748d77789586445ba1">GCS::ConstraintWeightedLinearCombination::getTypeId</a></div><div class="ttdeci">ConstraintType getTypeId() override</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d55/Constraints_8cpp_source.html#l00169">Constraints.cpp:169</a></div></div>
<div class="ttc" id="anamespaceupdateLeaderLines_html_aa848319c83203fb8ec8ac56d17585481"><div class="ttname"><a href="../../d6/d45/namespaceupdateLeaderLines.html#aa848319c83203fb8ec8ac56d17585481">updateLeaderLines.point</a></div><div class="ttdeci">float point</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfe/updateLeaderLines_8py_source.html#l00041">updateLeaderLines.py:41</a></div></div>
<div class="ttc" id="aclassGCS_1_1Circle_html_adfbe64b36b032503256a7c76a58a897b"><div class="ttname"><a href="../../d4/ddf/classGCS_1_1Circle.html#adfbe64b36b032503256a7c76a58a897b">GCS::Circle::rad</a></div><div class="ttdeci">double * rad</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d54/Geo_8h_source.html#l00244">Geo.h:244</a></div></div>
<div class="ttc" id="anamespaceKDL_html_a02b43d75a30870d9bac78a36a10b00e7"><div class="ttname"><a href="../../d0/dbc/namespaceKDL.html#a02b43d75a30870d9bac78a36a10b00e7">KDL::abs</a></div><div class="ttdeci">Rall1d&lt; T, V, S &gt; abs(const Rall1d&lt; T, V, S &gt; &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d39/rall1d_8h_source.html#l00431">rall1d.h:431</a></div></div>
<div class="ttc" id="anamespaceGCS_html_ad5d1649cc1b86116535a65c3e9e520a2a25964b60112b3ff02d285dc62ab75162"><div class="ttname"><a href="../../d6/d63/namespaceGCS.html#ad5d1649cc1b86116535a65c3e9e520a2a25964b60112b3ff02d285dc62ab75162">GCS::HyperbolaPositiveMinorX</a></div><div class="ttdeci">@ HyperbolaPositiveMinorX</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6e/Constraints_8h_source.html#l00104">Constraints.h:104</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
